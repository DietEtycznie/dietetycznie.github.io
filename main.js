"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[792],{1076:(Qt,Ke,$)=>{$.d(Ke,{Am:()=>Tn,FA:()=>wt,Fy:()=>It,I9:()=>wn,Im:()=>or,Ku:()=>Vt,T9:()=>mt,Tj:()=>zn,Uj:()=>He,XA:()=>Ze,ZQ:()=>rn,bD:()=>rr,c1:()=>Qn,cY:()=>pt,eX:()=>me,g:()=>dt,hp:()=>Zt,jZ:()=>Ut,lT:()=>Bt,lV:()=>ot,nr:()=>Mt,sr:()=>Dr,tD:()=>pr,u:()=>he,yU:()=>Mn,zW:()=>Oe});const pe=function(oe){const ue=[];let Ie=0;for(let tt=0;tt<oe.length;tt++){let Ue=oe.charCodeAt(tt);Ue<128?ue[Ie++]=Ue:Ue<2048?(ue[Ie++]=Ue>>6|192,ue[Ie++]=63&Ue|128):55296==(64512&Ue)&&tt+1<oe.length&&56320==(64512&oe.charCodeAt(tt+1))?(Ue=65536+((1023&Ue)<<10)+(1023&oe.charCodeAt(++tt)),ue[Ie++]=Ue>>18|240,ue[Ie++]=Ue>>12&63|128,ue[Ie++]=Ue>>6&63|128,ue[Ie++]=63&Ue|128):(ue[Ie++]=Ue>>12|224,ue[Ie++]=Ue>>6&63|128,ue[Ie++]=63&Ue|128)}return ue},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,ue){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ie=ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,tt=[];for(let Ue=0;Ue<oe.length;Ue+=3){const bt=oe[Ue],Pn=Ue+1<oe.length,ir=Pn?oe[Ue+1]:0,ai=Ue+2<oe.length,Wn=ai?oe[Ue+2]:0;let fi=(15&ir)<<2|Wn>>6,Bs=63&Wn;ai||(Bs=64,Pn||(fi=64)),tt.push(Ie[bt>>2],Ie[(3&bt)<<4|ir>>4],Ie[fi],Ie[Bs])}return tt.join("")},encodeString(oe,ue){return this.HAS_NATIVE_SUPPORT&&!ue?btoa(oe):this.encodeByteArray(pe(oe),ue)},decodeString(oe,ue){return this.HAS_NATIVE_SUPPORT&&!ue?atob(oe):function(oe){const ue=[];let Ie=0,tt=0;for(;Ie<oe.length;){const Ue=oe[Ie++];if(Ue<128)ue[tt++]=String.fromCharCode(Ue);else if(Ue>191&&Ue<224){const bt=oe[Ie++];ue[tt++]=String.fromCharCode((31&Ue)<<6|63&bt)}else if(Ue>239&&Ue<365){const ai=((7&Ue)<<18|(63&oe[Ie++])<<12|(63&oe[Ie++])<<6|63&oe[Ie++])-65536;ue[tt++]=String.fromCharCode(55296+(ai>>10)),ue[tt++]=String.fromCharCode(56320+(1023&ai))}else{const bt=oe[Ie++],Pn=oe[Ie++];ue[tt++]=String.fromCharCode((15&Ue)<<12|(63&bt)<<6|63&Pn)}}return ue.join("")}(this.decodeStringToByteArray(oe,ue))},decodeStringToByteArray(oe,ue){this.init_();const Ie=ue?this.charToByteMapWebSafe_:this.charToByteMap_,tt=[];for(let Ue=0;Ue<oe.length;){const bt=Ie[oe.charAt(Ue++)],ir=Ue<oe.length?Ie[oe.charAt(Ue)]:0;++Ue;const Wn=Ue<oe.length?Ie[oe.charAt(Ue)]:64;++Ue;const Dn=Ue<oe.length?Ie[oe.charAt(Ue)]:64;if(++Ue,null==bt||null==ir||null==Wn||null==Dn)throw new Pe;tt.push(bt<<2|ir>>4),64!==Wn&&(tt.push(ir<<4&240|Wn>>2),64!==Dn&&tt.push(Wn<<6&192|Dn))}return tt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(oe){return function(oe){const ue=pe(oe);return ge.encodeByteArray(ue,!0)}(oe).replace(/\./g,"")},he=function(oe){try{return ge.decodeString(oe,!0)}catch(ue){console.error("base64Decode failed: ",ue)}return null},Xt=()=>{try{return function ut(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const oe=process.env.__FIREBASE_DEFAULTS__;return oe?JSON.parse(oe):void 0})()||(()=>{if(typeof document>"u")return;let oe;try{oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ue=oe&&he(oe[1]);return ue&&JSON.parse(ue)})()}catch(oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${oe}`)}},zn=oe=>{var ue,Ie;return null===(Ie=null===(ue=Xt())||void 0===ue?void 0:ue.emulatorHosts)||void 0===Ie?void 0:Ie[oe]},Mn=oe=>{const ue=zn(oe);if(!ue)return;const Ie=ue.lastIndexOf(":");if(Ie<=0||Ie+1===ue.length)throw new Error(`Invalid host ${ue} with no separate hostname and port!`);const tt=parseInt(ue.substring(Ie+1),10);return"["===ue[0]?[ue.substring(1,Ie-1),tt]:[ue.substring(0,Ie),tt]},mt=()=>{var oe;return null===(oe=Xt())||void 0===oe?void 0:oe.config},Ze=oe=>{var ue;return null===(ue=Xt())||void 0===ue?void 0:ue[`_${oe}`]};class pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ue,Ie)=>{this.resolve=ue,this.reject=Ie})}wrapCallback(ue){return(Ie,tt)=>{Ie?this.reject(Ie):this.resolve(tt),"function"==typeof ue&&(this.promise.catch(()=>{}),1===ue.length?ue(Ie):ue(Ie,tt))}}}function It(oe,ue){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const tt=ue||"demo-project",Ue=oe.iat||0,bt=oe.sub||oe.user_id;if(!bt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pn=Object.assign({iss:`https://securetoken.google.com/${tt}`,aud:tt,iat:Ue,exp:Ue+3600,auth_time:Ue,sub:bt,user_id:bt,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(Pn)),""].join(".")}function rn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ut(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function Qn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Dr(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Bt(){const oe=rn();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function Mt(){return!function ye(){var oe;const ue=null===(oe=Xt())||void 0===oe?void 0:oe.forceEnvironment;if("node"===ue)return!0;if("browser"===ue)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function me(){return new Promise((oe,ue)=>{try{let Ie=!0;const tt="validate-browser-context-for-indexeddb-analytics-module",Ue=self.indexedDB.open(tt);Ue.onsuccess=()=>{Ue.result.close(),Ie||self.indexedDB.deleteDatabase(tt),oe(!0)},Ue.onupgradeneeded=()=>{Ie=!1},Ue.onerror=()=>{var bt;ue((null===(bt=Ue.error)||void 0===bt?void 0:bt.message)||"")}}catch(Ie){ue(Ie)}})}class dt extends Error{constructor(ue,Ie,tt){super(Ie),this.code=ue,this.customData=tt,this.name="FirebaseError",Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(ue,Ie,tt){this.service=ue,this.serviceName=Ie,this.errors=tt}create(ue,...Ie){const tt=Ie[0]||{},Ue=`${this.service}/${ue}`,bt=this.errors[ue],Pn=bt?function cn(oe,ue){return oe.replace(xt,(Ie,tt)=>{const Ue=ue[tt];return null!=Ue?String(Ue):`<${tt}?>`})}(bt,tt):"Error";return new dt(Ue,`${this.serviceName}: ${Pn} (${Ue}).`,tt)}}const xt=/\{\$([^}]+)}/g;function or(oe){for(const ue in oe)if(Object.prototype.hasOwnProperty.call(oe,ue))return!1;return!0}function rr(oe,ue){if(oe===ue)return!0;const Ie=Object.keys(oe),tt=Object.keys(ue);for(const Ue of Ie){if(!tt.includes(Ue))return!1;const bt=oe[Ue],Pn=ue[Ue];if(Jt(bt)&&Jt(Pn)){if(!rr(bt,Pn))return!1}else if(bt!==Pn)return!1}for(const Ue of tt)if(!Ie.includes(Ue))return!1;return!0}function Jt(oe){return null!==oe&&"object"==typeof oe}function Tn(oe){const ue=[];for(const[Ie,tt]of Object.entries(oe))Array.isArray(tt)?tt.forEach(Ue=>{ue.push(encodeURIComponent(Ie)+"="+encodeURIComponent(Ue))}):ue.push(encodeURIComponent(Ie)+"="+encodeURIComponent(tt));return ue.length?"&"+ue.join("&"):""}function wn(oe){const ue={};return oe.replace(/^\?/,"").split("&").forEach(tt=>{if(tt){const[Ue,bt]=tt.split("=");ue[decodeURIComponent(Ue)]=decodeURIComponent(bt)}}),ue}function Zt(oe){const ue=oe.indexOf("?");if(!ue)return"";const Ie=oe.indexOf("#",ue);return oe.substring(ue,Ie>0?Ie:void 0)}function pr(oe,ue){const Ie=new Or(oe,ue);return Ie.subscribe.bind(Ie)}class Or{constructor(ue,Ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ie,this.task.then(()=>{ue(this)}).catch(tt=>{this.error(tt)})}next(ue){this.forEachObserver(Ie=>{Ie.next(ue)})}error(ue){this.forEachObserver(Ie=>{Ie.error(ue)}),this.close(ue)}complete(){this.forEachObserver(ue=>{ue.complete()}),this.close()}subscribe(ue,Ie,tt){let Ue;if(void 0===ue&&void 0===Ie&&void 0===tt)throw new Error("Missing Observer.");Ue=function hr(oe,ue){if("object"!=typeof oe||null===oe)return!1;for(const Ie of ue)if(Ie in oe&&"function"==typeof oe[Ie])return!0;return!1}(ue,["next","error","complete"])?ue:{next:ue,error:Ie,complete:tt},void 0===Ue.next&&(Ue.next=xr),void 0===Ue.error&&(Ue.error=xr),void 0===Ue.complete&&(Ue.complete=xr);const bt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ue.error(this.finalError):Ue.complete()}catch{}}),this.observers.push(Ue),bt}unsubscribeOne(ue){void 0===this.observers||void 0===this.observers[ue]||(delete this.observers[ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ue){if(!this.finalized)for(let Ie=0;Ie<this.observers.length;Ie++)this.sendOne(Ie,ue)}sendOne(ue,Ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ue])try{Ie(this.observers[ue])}catch(tt){typeof console<"u"&&console.error&&console.error(tt)}})}close(ue){this.finalized||(this.finalized=!0,void 0!==ue&&(this.finalError=ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xr(){}function Vt(oe){return oe&&oe._delegate?oe._delegate:oe}},151:(Qt,Ke,$)=>{var g=$(4438),re=$(345),ce=$(8008),pe=$(177);const it=[{provide:ce.\u0275AnimationStyleNormalizer,useFactory:function ge(){return new ce.\u0275WebAnimationsStyleNormalizer}},{provide:ce.\u0275AnimationEngine,useClass:(()=>{class k extends ce.\u0275AnimationEngine{constructor(q,Q,de){super(q,Q,de,(0,g.WQX)(g.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(Q){return new(Q||k)(g.KVO(pe.qQ),g.KVO(ce.AnimationDriver),g.KVO(ce.\u0275AnimationStyleNormalizer))}}static{this.\u0275prov=g.jDH({token:k,factory:k.\u0275fac})}}return k})()},{provide:g._9s,useFactory:function Pe(k,F,q){return new ce.\u0275AnimationRendererFactory(k,F,q)},deps:[re.B7,ce.\u0275AnimationEngine,g.SKi]}],He=[{provide:ce.AnimationDriver,useFactory:()=>new ce.\u0275WebAnimationsDriver},{provide:g.bc$,useValue:"BrowserAnimations"},...it];var yt=$(3152),Ft=$(8472);const Yt=()=>({exact:!0});function Xt(k,F){if(1&k){const q=g.RV6();g.j41(0,"div",22),g.bIt("click",function(de){return g.eBV(q),g.Njj(de.stopPropagation())}),g.j41(1,"div",23),g.bIt("click",function(){g.eBV(q);const de=g.XpG(2);return g.Njj(de.goToLikedRecipes())}),g.EFF(2," Polubione przepisy "),g.k0s(),g.j41(3,"div",23),g.bIt("click",function(){g.eBV(q);const de=g.XpG(2);return g.Njj(de.goToMyDietPlans())}),g.EFF(4," Moje jad\u0142ospisy "),g.k0s(),g.j41(5,"button",24),g.bIt("click",function(){g.eBV(q);const de=g.XpG(2);return g.Njj(de.logout())}),g.EFF(6,"Wyloguj"),g.k0s()()}}function zn(k,F){if(1&k){const q=g.RV6();g.qex(0),g.j41(1,"div",18)(2,"span",19),g.EFF(3,"Witaj,"),g.k0s(),g.j41(4,"div",20),g.bIt("click",function(de){g.eBV(q);const et=g.XpG();return g.Njj(et.toggleUserMenu(de))})("keydown.enter",function(de){g.eBV(q);const et=g.XpG();return g.Njj(et.toggleUserMenu(de))}),g.EFF(5),g.k0s(),g.DNE(6,Xt,7,0,"div",21),g.k0s(),g.bVm()}if(2&k){const q=F.ngIf,Q=g.XpG();g.R7$(5),g.SpI(" ",Q.getFirstLetters(q.displayName)," "),g.R7$(),g.Y8G("ngIf",Q.isUserMenuOpen)}}function Mn(k,F){1&k&&(g.j41(0,"button",25),g.EFF(1,"Logowanie"),g.k0s(),g.j41(2,"button",26),g.EFF(3," Rejestracja "),g.k0s())}function mt(k,F){if(1&k){const q=g.RV6();g.qex(0),g.j41(1,"div",23),g.bIt("click",function(){g.eBV(q);const de=g.XpG(2);return de.goToLikedRecipes(),g.Njj(de.closeMobileNav())}),g.EFF(2," Polubione przepisy "),g.k0s(),g.j41(3,"div",23),g.bIt("click",function(){g.eBV(q);const de=g.XpG(2);return de.goToMyDietPlans(),g.Njj(de.closeMobileNav())}),g.EFF(4," Moje jad\u0142ospisy "),g.k0s(),g.j41(5,"button",24),g.bIt("click",function(){g.eBV(q);const de=g.XpG(2);return g.Njj(de.logout())}),g.EFF(6,"Wyloguj"),g.k0s(),g.bVm()}}function Ze(k,F){if(1&k){const q=g.RV6();g.j41(0,"button",33),g.bIt("click",function(){g.eBV(q);const de=g.XpG(2);return g.Njj(de.closeMobileNav())}),g.EFF(1," Logowanie "),g.k0s(),g.j41(2,"button",34),g.bIt("click",function(){g.eBV(q);const de=g.XpG(2);return g.Njj(de.closeMobileNav())}),g.EFF(3," Rejestracja "),g.k0s()}}function pt(k,F){if(1&k){const q=g.RV6();g.j41(0,"div",27)(1,"ul",10)(2,"li")(3,"a",28),g.bIt("click",function(){g.eBV(q);const de=g.XpG();return g.Njj(de.closeMobileNav())}),g.EFF(4,"Strona g\u0142\xf3wna"),g.k0s()(),g.j41(5,"li")(6,"a",29),g.bIt("click",function(){g.eBV(q);const de=g.XpG();return g.Njj(de.closeMobileNav())}),g.EFF(7,"Przepisy"),g.k0s()(),g.j41(8,"li")(9,"a",30),g.bIt("click",function(){g.eBV(q);const de=g.XpG();return g.Njj(de.closeMobileNav())}),g.EFF(10,"Choroby dietozale\u017cne"),g.k0s()(),g.j41(11,"li")(12,"a",31),g.bIt("click",function(){g.eBV(q);const de=g.XpG();return g.Njj(de.closeMobileNav())}),g.EFF(13,"Jad\u0142ospisy"),g.k0s()()(),g.j41(14,"div",32),g.DNE(15,mt,7,0,"ng-container",16),g.nI1(16,"async"),g.DNE(17,Ze,4,0,"ng-template",null,1,g.C5r),g.k0s()()}if(2&k){const q=g.sdS(18),Q=g.XpG();g.R7$(3),g.Y8G("routerLinkActiveOptions",g.lJ4(5,Yt)),g.R7$(12),g.Y8G("ngIf",g.bMT(16,3,Q.user$))("ngIfElse",q)}}let It=(()=>{class k{constructor(){this.authService=(0,g.WQX)(Ft.u),this.router=(0,g.WQX)(yt.Ix),this.user$=this.authService.user$.pipe(),this.isMobileNavOpen=!1,this.isUserMenuOpen=!1}toggleMobileNav(){this.isMobileNavOpen=!this.isMobileNavOpen,this.isMobileNavOpen||(this.isUserMenuOpen=!1)}closeMobileNav(){this.isMobileNavOpen=!1,this.isUserMenuOpen=!1}toggleUserMenu(q){q.stopPropagation(),this.isUserMenuOpen=!this.isUserMenuOpen}closeUserMenu(){this.isUserMenuOpen=!1}getFirstLetters(q){if(!q)return"";const[Q,de]=q.trim().split(" ");return Q?de?(Q.charAt(0)+de.charAt(0)).toUpperCase():Q.charAt(0).toUpperCase():""}logout(){this.authService.signOut(),this.closeMobileNav()}goToLikedRecipes(){this.closeUserMenu(),this.router.navigate(["/recipes"],{queryParams:{liked:"1"}})}goToMyDietPlans(){this.closeUserMenu(),this.router.navigate(["/diet-plans"],{queryParams:{section:"myPlans"}})}static{this.\u0275fac=function(Q){return new(Q||k)}}static{this.\u0275cmp=g.VBU({type:k,selectors:[["app-header"]],standalone:!0,features:[g.aNF],decls:28,vars:7,consts:[["loginButtons",""],["mobileLoginButtons",""],[1,"header",3,"click"],[1,"container"],[1,"header-content"],["routerLink","/"],[1,"logo"],["mat-icon-button","","type","button","aria-label","Otw\xf3rz menu",1,"hamburger",3,"click"],[1,"material-icons"],[1,"main-nav","desktop-nav"],[1,"nav-items"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/recipes","routerLinkActive","active"],["routerLink","/conditions","routerLinkActive","active"],["routerLink","/diet-plans","routerLinkActive","active"],[1,"auth-nav","desktop-auth"],[4,"ngIf","ngIfElse"],["class","mobile-dropdown",4,"ngIf"],[1,"user-menu"],[1,"user-greeting"],["tabindex","0",1,"user-bubble",3,"click","keydown.enter"],["class","user-dropdown",3,"click",4,"ngIf"],[1,"user-dropdown",3,"click"],[1,"user-menu-item",3,"click"],[1,"btn","btn-logout",3,"click"],["routerLink","/login",1,"btn","btn-login"],["routerLink","/register",1,"btn","btn-register"],[1,"mobile-dropdown"],["routerLink","/","routerLinkActive","active",3,"click","routerLinkActiveOptions"],["routerLink","/recipes","routerLinkActive","active",3,"click"],["routerLink","/conditions","routerLinkActive","active",3,"click"],["routerLink","/diet-plans","routerLinkActive","active",3,"click"],[1,"mobile-auth"],["routerLink","/login",1,"btn","btn-login",3,"click"],["routerLink","/register",1,"btn","btn-register",3,"click"]],template:function(Q,de){if(1&Q){const et=g.RV6();g.j41(0,"nav",2),g.bIt("click",function(){return g.eBV(et),g.Njj(de.closeUserMenu())},!1,g.EBC),g.j41(1,"div",3)(2,"div",4)(3,"a",5),g.nrm(4,"div",6),g.k0s(),g.j41(5,"button",7),g.bIt("click",function(pn){return g.eBV(et),de.toggleMobileNav(),g.Njj(pn.stopPropagation())}),g.j41(6,"span",8),g.EFF(7,"menu"),g.k0s()(),g.j41(8,"nav",9)(9,"ul",10)(10,"li")(11,"a",11),g.EFF(12,"Strona g\u0142\xf3wna"),g.k0s()(),g.j41(13,"li")(14,"a",12),g.EFF(15,"Przepisy"),g.k0s()(),g.j41(16,"li")(17,"a",13),g.EFF(18,"Choroby dietozale\u017cne"),g.k0s()(),g.j41(19,"li")(20,"a",14),g.EFF(21,"Jad\u0142ospisy"),g.k0s()()()(),g.j41(22,"div",15),g.DNE(23,zn,7,2,"ng-container",16),g.nI1(24,"async"),g.DNE(25,Mn,4,0,"ng-template",null,0,g.C5r),g.k0s()()(),g.DNE(27,pt,19,6,"div",17),g.k0s()}if(2&Q){const et=g.sdS(26);g.R7$(11),g.Y8G("routerLinkActiveOptions",g.lJ4(6,Yt)),g.R7$(12),g.Y8G("ngIf",g.bMT(24,4,de.user$))("ngIfElse",et),g.R7$(4),g.Y8G("ngIf",de.isMobileNavOpen)}},dependencies:[pe.MD,pe.bT,pe.Jj,yt.Wk,yt.wQ],styles:['.header[_ngcontent-%COMP%]{background-color:#fffffff2;padding:1rem 0;box-shadow:0 2px 10px #0000001a;position:sticky;top:0;z-index:999}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 1rem;position:relative}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.logo[_ngcontent-%COMP%]{width:180px;height:45px;background-image:url(logo.svg);background-size:contain;background-repeat:no-repeat;background-position:bottom}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;font-size:1.5rem;margin:0}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.main-nav[_ngcontent-%COMP%], .desktop-nav[_ngcontent-%COMP%], .desktop-auth[_ngcontent-%COMP%]{display:flex}.mobile-dropdown[_ngcontent-%COMP%]{display:none}.nav-items[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0;padding:0}.nav-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 1rem}.nav-items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;text-decoration:none;font-weight:500;padding:.5rem 0;position:relative;transition:color .3s}.nav-items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#666}.nav-items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:3px;background-color:#20b27f;border-radius:3px;transform:scaleX(0);transform-origin:center;transition:transform .3s ease-out}.nav-items[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{transform:scaleX(1)}.auth-nav[_ngcontent-%COMP%], .user-menu[_ngcontent-%COMP%]{display:flex;align-items:center}.user-greeting[_ngcontent-%COMP%]{color:#333;margin-right:1rem}.user-bubble[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px;background-color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;border:2px solid #20b27f;transition:border .2s}.user-bubble[_ngcontent-%COMP%]:focus{outline:none;border:2px solid #57cf99}.user-dropdown[_ngcontent-%COMP%]{position:absolute;top:150%;right:0;background:#fff;box-shadow:0 4px 16px #0000001f;border-radius:3px;min-width:140px;padding:1rem;z-index:1200;display:flex;flex-direction:column;gap:.5rem;animation:_ngcontent-%COMP%_fadeIn .2s;box-sizing:border-box;transform:translate(10%)}.user-dropdown[_ngcontent-%COMP%]   .user-menu-item[_ngcontent-%COMP%]{color:#333;text-decoration:none;transition:color .3s;border-bottom:2px solid #f0f0f0;cursor:pointer;margin-bottom:.5rem}.user-dropdown[_ngcontent-%COMP%]   .user-menu-item[_ngcontent-%COMP%]:hover{color:#666}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer;font-weight:500;transition:all .3s}.btn-login[_ngcontent-%COMP%]{background-color:transparent;color:#20b27f;border:1px solid #20b27f;box-sizing:border-box;margin-right:4px;font-weight:500}.btn-login[_ngcontent-%COMP%]:hover{background-color:#f3f3f380}.btn-register[_ngcontent-%COMP%], .btn-profile[_ngcontent-%COMP%]{background-color:#20b27f;color:#fff}.btn-register[_ngcontent-%COMP%]:hover, .btn-profile[_ngcontent-%COMP%]:hover{background-color:#57cf99}.btn-logout[_ngcontent-%COMP%]{background-color:#f44336;width:100%;display:block;color:#fff}.btn-logout[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.hamburger[_ngcontent-%COMP%], .mobile-overlay[_ngcontent-%COMP%]{display:none}@media (max-width: 900px){.desktop-nav[_ngcontent-%COMP%], .desktop-auth[_ngcontent-%COMP%]{display:none!important}.hamburger[_ngcontent-%COMP%]{justify-content:flex-end;align-items:center;border:none;background-color:transparent}.hamburger[_ngcontent-%COMP%]   span.material-icons[_ngcontent-%COMP%]{font-size:32px;color:#20b27f}.mobile-dropdown[_ngcontent-%COMP%]{display:block;background:#fff;box-shadow:0 8px 24px #00000014;border-bottom-left-radius:12px;border-bottom-right-radius:12px;position:absolute;left:0;right:0;top:100%;z-index:1200;padding:1.5rem 1rem 1rem;animation:_ngcontent-%COMP%_fadeIn .2s}.mobile-dropdown[_ngcontent-%COMP%]   .nav-items[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;margin-bottom:1.5rem}.mobile-auth[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;border-top:1px solid #eee;padding-top:1rem}.mobile-auth[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-left:0}.mobile-auth[_ngcontent-%COMP%]   .btn-profile[_ngcontent-%COMP%], .mobile-auth[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{margin-bottom:.5rem}.mobile-auth[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{margin-bottom:0}.main-nav[_ngcontent-%COMP%], .auth-nav[_ngcontent-%COMP%]{display:none!important}.hamburger[_ngcontent-%COMP%]{display:flex}.main-nav[_ngcontent-%COMP%], .auth-nav[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100vh;background:#fff;box-shadow:-2px 0 16px #00000014;flex-direction:column;align-items:flex-start;padding:5rem 2rem 2rem;z-index:1100;width:80vw;max-width:320px;transform:translate(100%);transition:transform .3s}.main-nav.open[_ngcontent-%COMP%], .auth-nav.open[_ngcontent-%COMP%]{transform:translate(0)}.main-nav[_ngcontent-%COMP%]{margin-bottom:2rem}.nav-items[_ngcontent-%COMP%]{flex-direction:column;width:100%}.nav-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.5rem 0}.auth-nav[_ngcontent-%COMP%]{justify-content:flex-start;width:100%;margin-top:1rem}.mobile-overlay[_ngcontent-%COMP%]{display:block;position:fixed;inset:0;background:#0000002e;z-index:1099}.header-content[_ngcontent-%COMP%]{flex-direction:row;align-items:center}}@media (min-width: 901px){.mobile-dropdown[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{align-items:flex-start}.container[_ngcontent-%COMP%]{padding:0 .5rem}.logo[_ngcontent-%COMP%]{width:140px;height:35px}.main-nav[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.nav-items[_ngcontent-%COMP%]{flex-wrap:wrap}.nav-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.5rem 1rem .5rem 0}.auth-nav[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}']})}}return k})(),rn=(()=>{class k{constructor(){this.withMargin=!1}static{this.\u0275fac=function(Q){return new(Q||k)}}static{this.\u0275cmp=g.VBU({type:k,selectors:[["app-footer"]],inputs:{withMargin:"withMargin"},standalone:!0,features:[g.aNF],decls:58,vars:2,consts:[[1,"footer"],[1,"container"],[1,"footer-content"],[1,"footer-logo"],[1,"logo-div"],[1,"footer-links"],[1,"link-group"],["routerLink","/"],["routerLink","/conditions"],["routerLink","/recipes"],["routerLink","/diet-plans"],["routerLink","/login"],["routerLink","/register"],["routerLink","/profile"],["routerLink","/about"],["routerLink","/contact"],["routerLink","/privacy"],["routerLink","/terms"],[1,"footer-bottom"],["routerLink","/admin",2,"text-decoration","none"]],template:function(Q,de){1&Q&&(g.j41(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3),g.nrm(4,"div",4),g.j41(5,"p"),g.EFF(6,"Spersonalizowane diety dla Twojego zdrowia"),g.k0s()(),g.j41(7,"div",5)(8,"div",6)(9,"h3"),g.EFF(10,"Nawigacja"),g.k0s(),g.j41(11,"ul")(12,"li")(13,"a",7),g.EFF(14,"Strona g\u0142\xf3wna"),g.k0s()(),g.j41(15,"li")(16,"a",8),g.EFF(17,"Chroby dietozale\u017cne"),g.k0s()(),g.j41(18,"li")(19,"a",9),g.EFF(20,"Przepisy"),g.k0s()(),g.j41(21,"li")(22,"a",10),g.EFF(23,"Plany dietetyczne"),g.k0s()()()(),g.j41(24,"div",6)(25,"h3"),g.EFF(26,"Konto"),g.k0s(),g.j41(27,"ul")(28,"li")(29,"a",11),g.EFF(30,"Logowanie"),g.k0s()(),g.j41(31,"li")(32,"a",12),g.EFF(33,"Rejestracja"),g.k0s()(),g.j41(34,"li")(35,"a",13),g.EFF(36,"Profil"),g.k0s()()()(),g.j41(37,"div",6)(38,"h3"),g.EFF(39,"Zasoby"),g.k0s(),g.j41(40,"ul")(41,"li")(42,"a",14),g.EFF(43,"O nas"),g.k0s()(),g.j41(44,"li")(45,"a",15),g.EFF(46,"Kontakt"),g.k0s()(),g.j41(47,"li")(48,"a",16),g.EFF(49,"Polityka prywatno\u015bci"),g.k0s()(),g.j41(50,"li")(51,"a",17),g.EFF(52,"Regulamin"),g.k0s()()()()()(),g.j41(53,"div",18)(54,"p")(55,"a",19),g.EFF(56,"\xa9"),g.k0s(),g.EFF(57," 2025 DietEtycznie. Wszelkie prawa zastrze\u017cone. "),g.k0s()()()()),2&Q&&g.AVh("footer-margin",de.withMargin)},dependencies:[yt.Wk],styles:[".footer[_ngcontent-%COMP%]{background-color:#fff;padding:3rem 0 1rem}.footer-margin[_ngcontent-%COMP%]{margin-top:3rem}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 1rem}.footer-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:2rem}.footer-logo[_ngcontent-%COMP%]{flex:0 0 100%;max-width:300px;margin-bottom:2rem}.footer-logo-img[_ngcontent-%COMP%]{width:200px;height:50px;background-size:contain;background-repeat:no-repeat;background-image:url(/assets/logo.svg);margin-bottom:.5rem}.footer-logo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.footer-links[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;flex:1}.link-group[_ngcontent-%COMP%]{flex:0 0 calc(33.333% - 1rem);margin-bottom:1.5rem}.link-group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:1.1rem;margin:0 0 1rem}.link-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.link-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}.link-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;transition:color .3s}.link-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#20b27f}.footer-bottom[_ngcontent-%COMP%]{border-top:1px solid #ddd;padding-top:1rem;text-align:center}.footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}@media (max-width: 768px){.footer-logo[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}.link-group[_ngcontent-%COMP%]{flex:0 0 100%}}"]})}}return k})(),Ut=(()=>{class k{static{this.\u0275fac=function(Q){return new(Q||k)}}static{this.\u0275cmp=g.VBU({type:k,selectors:[["app-root"]],standalone:!0,features:[g.aNF],decls:3,vars:0,template:function(Q,de){1&Q&&g.nrm(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[yt.n3,It,rn],styles:["[_nghost-%COMP%]{display:block;min-height:100vh}"]})}}return k})();var ye=$(6697),Qe=$(6354);const Dr=[{path:"",loadComponent:()=>Promise.all([$.e(76),$.e(47)]).then($.bind($,5047)).then(k=>k.HomeComponent)},{path:"login",loadComponent:()=>Promise.all([$.e(417),$.e(290)]).then($.bind($,6290)).then(k=>k.LoginComponent)},{path:"register",loadComponent:()=>Promise.all([$.e(417),$.e(726)]).then($.bind($,726)).then(k=>k.RegisterComponent)},{path:"recipes",loadComponent:()=>Promise.all([$.e(417),$.e(94),$.e(801),$.e(575),$.e(802),$.e(798),$.e(782),$.e(623)]).then($.bind($,7623)).then(k=>k.RecipesComponent)},{path:"recipes/:uid",loadComponent:()=>Promise.all([$.e(94),$.e(801),$.e(76),$.e(574)]).then($.bind($,6751)).then(k=>k.RecipeDetailsComponent)},{path:"diet-plans",loadComponent:()=>Promise.all([$.e(417),$.e(94),$.e(801),$.e(575),$.e(802),$.e(834),$.e(782),$.e(341),$.e(76),$.e(91)]).then($.bind($,5091)).then(k=>k.DietPlansComponent)},{path:"conditions",loadComponent:()=>Promise.all([$.e(94),$.e(801),$.e(575),$.e(341),$.e(76),$.e(879)]).then($.bind($,162)).then(k=>k.ConditionsComponent)},{path:"admin",loadComponent:()=>Promise.all([$.e(417),$.e(94),$.e(575),$.e(802),$.e(834),$.e(798),$.e(76),$.e(583)]).then($.bind($,2583)).then(k=>k.AdminComponent),canActivate:[(k,F)=>{const q=(0,g.WQX)(Ft.u),Q=(0,g.WQX)(yt.Ix);return q.user$.pipe((0,ye.s)(1),(0,Qe.T)(de=>(console.log(de),!(!de||"QXmfYBytYyPzHQKr3IhMILGlQrv2"!==de.uid)||(Q.navigate(["/"]),!1))))}]},{path:"**",redirectTo:""}];var ot=$(7440),Pt=$(4262),Bt=$(6335),sn=$(5407),Et=$(2214),Mt=$(467),Oe=$(7852),me=$(1076),ne=$(1362);const se="firebasestorage.googleapis.com";class on extends me.g{constructor(F,q,Q=0){super($n(F),`Firebase Storage: ${q} (${$n(F)})`),this.status_=Q,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,on.prototype)}get status(){return this.status_}set status(F){this.status_=F}_codeEquals(F){return $n(F)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(F){this.customData.serverResponse=F,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Gt=function(k){return k.UNKNOWN="unknown",k.OBJECT_NOT_FOUND="object-not-found",k.BUCKET_NOT_FOUND="bucket-not-found",k.PROJECT_NOT_FOUND="project-not-found",k.QUOTA_EXCEEDED="quota-exceeded",k.UNAUTHENTICATED="unauthenticated",k.UNAUTHORIZED="unauthorized",k.UNAUTHORIZED_APP="unauthorized-app",k.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",k.INVALID_CHECKSUM="invalid-checksum",k.CANCELED="canceled",k.INVALID_EVENT_NAME="invalid-event-name",k.INVALID_URL="invalid-url",k.INVALID_DEFAULT_BUCKET="invalid-default-bucket",k.NO_DEFAULT_BUCKET="no-default-bucket",k.CANNOT_SLICE_BLOB="cannot-slice-blob",k.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",k.NO_DOWNLOAD_URL="no-download-url",k.INVALID_ARGUMENT="invalid-argument",k.INVALID_ARGUMENT_COUNT="invalid-argument-count",k.APP_DELETED="app-deleted",k.INVALID_ROOT_OPERATION="invalid-root-operation",k.INVALID_FORMAT="invalid-format",k.INTERNAL_ERROR="internal-error",k.UNSUPPORTED_ENVIRONMENT="unsupported-environment",k}(Gt||{});function $n(k){return"storage/"+k}function pr(k){return new on(Gt.INVALID_ARGUMENT,k)}function Or(){return new on(Gt.APP_DELETED,"The Firebase app was deleted.")}class $t{constructor(F,q){this.bucket=F,this.path_=q}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const F=encodeURIComponent;return"/b/"+F(this.bucket)+"/o/"+F(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(F,q){let Q;try{Q=$t.makeFromUrl(F,q)}catch{return new $t(F,"")}if(""===Q.path)return Q;throw function Jt(k){return new on(Gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+k+"'.")}(F)}static makeFromUrl(F,q){let Q=null;const de="([A-Za-z0-9.\\-_]+)",pn=new RegExp("^gs://"+de+"(/(.*))?$","i");function Hn(wi){wi.path_=decodeURIComponent(wi.path)}const Jr=q.replace(/[.]/g,"\\."),Ri=[{regex:pn,indices:{bucket:1,path:3},postModify:function et(wi){"/"===wi.path.charAt(wi.path.length-1)&&(wi.path_=wi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Jr}/v[A-Za-z0-9_]+/b/${de}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Hn},{regex:new RegExp(`^https?://${q===se?"(?:storage.googleapis.com|storage.cloud.google.com)":q}/${de}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Hn}];for(let wi=0;wi<Ri.length;wi++){const qs=Ri[wi],Fo=qs.regex.exec(F);if(Fo){let dr=Fo[qs.indices.path];dr||(dr=""),Q=new $t(Fo[qs.indices.bucket],dr),qs.postModify(Q);break}}if(null==Q)throw function rr(k){return new on(Gt.INVALID_URL,"Invalid URL '"+k+"'.")}(F);return Q}}class Ei{constructor(F){this.promise_=Promise.reject(F)}getPromise(){return this.promise_}cancel(F=!1){}}function G(k,F,q,Q){if(Q<F)throw pr(`Invalid value for '${k}'. Expected ${F} or greater.`);if(Q>q)throw pr(`Invalid value for '${k}'. Expected ${q} or less.`)}var be=function(k){return k[k.NO_ERROR=0]="NO_ERROR",k[k.NETWORK_ERROR=1]="NETWORK_ERROR",k[k.ABORT=2]="ABORT",k}(be||{});class Vt{constructor(F,q,Q,de,et,St,pn,gn,Hn,Nr,Jr,Ti=!0){this.url_=F,this.method_=q,this.headers_=Q,this.body_=de,this.successCodes_=et,this.additionalRetryCodes_=St,this.callback_=pn,this.errorCallback_=gn,this.timeout_=Hn,this.progressCallback_=Nr,this.connectionFactory_=Jr,this.retry=Ti,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ri,Gr)=>{this.resolve_=ri,this.reject_=Gr,this.start_()})}start_(){const q=(Q,de)=>{const et=this.resolve_,St=this.reject_,pn=de.connection;if(de.wasSuccessCode)try{const gn=this.callback_(pn,pn.getResponse());!function si(k){return void 0!==k}(gn)?et():et(gn)}catch(gn){St(gn)}else if(null!==pn){const gn=function Tr(){return new on(Gt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();gn.serverResponse=pn.getErrorText(),St(this.errorCallback_?this.errorCallback_(pn,gn):gn)}else St(de.canceled?this.appDelete_?Or():function Xi(){return new on(Gt.CANCELED,"User canceled the upload/download.")}():function or(){return new on(Gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?q(0,new oe(!1,null,!0)):this.backoffId_=function Rn(k,F,q){let Q=1,de=null,et=null,St=!1,pn=0;function gn(){return 2===pn}let Hn=!1;function Nr(...$r){Hn||(Hn=!0,F.apply(null,$r))}function Jr($r){de=setTimeout(()=>{de=null,k(ri,gn())},$r)}function Ti(){et&&clearTimeout(et)}function ri($r,...Ds){if(Hn)return void Ti();if($r)return Ti(),void Nr.call(null,$r,...Ds);if(gn()||St)return Ti(),void Nr.call(null,$r,...Ds);let Ri;Q<64&&(Q*=2),1===pn?(pn=2,Ri=0):Ri=1e3*(Q+Math.random()),Jr(Ri)}let Gr=!1;function Ls($r){Gr||(Gr=!0,Ti(),!Hn&&(null!==de?($r||(pn=2),clearTimeout(de),Jr(0)):$r||(pn=1)))}return Jr(0),et=setTimeout(()=>{St=!0,Ls(!0)},q),Ls}((Q,de)=>{if(de)return void Q(!1,new oe(!1,null,!0));const et=this.connectionFactory_();this.pendingConnection_=et;const St=pn=>{null!==this.progressCallback_&&this.progressCallback_(pn.loaded,pn.lengthComputable?pn.total:-1)};null!==this.progressCallback_&&et.addUploadProgressListener(St),et.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&et.removeUploadProgressListener(St),this.pendingConnection_=null;const pn=et.getErrorCode()===be.NO_ERROR,gn=et.getStatus();if(!pn||function ft(k,F){const q=k>=500&&k<600,de=-1!==[408,429].indexOf(k),et=-1!==F.indexOf(k);return q||de||et}(gn,this.additionalRetryCodes_)&&this.retry){const Nr=et.getErrorCode()===be.ABORT;return void Q(!1,new oe(!1,null,Nr))}const Hn=-1!==this.successCodes_.indexOf(gn);Q(!0,new oe(Hn,et))})},q,this.timeout_)}getPromise(){return this.promise_}cancel(F){this.canceled_=!0,this.appDelete_=F||!1,null!==this.backoffId_&&function On(k){k(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class oe{constructor(F,q,Q){this.wasSuccessCode=F,this.connection=q,this.canceled=!!Q}}class _n{constructor(F,q){this._service=F,this._location=q instanceof $t?q:$t.makeFromUrl(q,F.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(F,q){return new _n(F,q)}get root(){const F=new $t(this._location.bucket,"");return this._newRef(this._service,F)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function Lt(k){const F=k.lastIndexOf("/",k.length-2);return-1===F?k:k.slice(F+1)}(this._location.path)}get storage(){return this._service}get parent(){const F=function xe(k){if(0===k.length)return null;const F=k.lastIndexOf("/");return-1===F?"":k.slice(0,F)}(this._location.path);if(null===F)return null;const q=new $t(this._location.bucket,F);return new _n(this._service,q)}_throwIfRoot(F){if(""===this._location.path)throw function Nn(k){return new on(Gt.INVALID_ROOT_OPERATION,"The operation '"+k+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(F)}}function As(k,F){const q=F?.storageBucket;return null==q?null:$t.makeFromBucketSpec(q,k)}class yo{constructor(F,q,Q,de,et){this.app=F,this._authProvider=q,this._appCheckProvider=Q,this._url=de,this._firebaseVersion=et,this._bucket=null,this._host=se,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=de?$t.makeFromBucketSpec(de,this._host):As(this._host,this.app.options)}get host(){return this._host}set host(F){this._host=F,this._bucket=null!=this._url?$t.makeFromBucketSpec(this._url,F):As(F,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(F){G("time",0,Number.POSITIVE_INFINITY,F),this._maxUploadRetryTime=F}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(F){G("time",0,Number.POSITIVE_INFINITY,F),this._maxOperationRetryTime=F}_getAuthToken(){var F=this;return(0,Mt.A)(function*(){if(F._overrideAuthToken)return F._overrideAuthToken;const q=F._authProvider.getImmediate({optional:!0});if(q){const Q=yield q.getToken();if(null!==Q)return Q.accessToken}return null})()}_getAppCheckToken(){var F=this;return(0,Mt.A)(function*(){const q=F._appCheckProvider.getImmediate({optional:!0});return q?(yield q.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(F=>F.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(F){return new _n(this,F)}_makeRequest(F,q,Q,de,et=!0){if(this._deleted)return new Ei(Or());{const St=function bt(k,F,q,Q,de,et,St=!0){const pn=function ae(k){const F=encodeURIComponent;let q="?";for(const Q in k)k.hasOwnProperty(Q)&&(q=q+(F(Q)+"=")+F(k[Q])+"&");return q=q.slice(0,-1),q}(k.urlParams),gn=k.url+pn,Hn=Object.assign({},k.headers);return function tt(k,F){F&&(k["X-Firebase-GMPID"]=F)}(Hn,F),function ue(k,F){null!==F&&F.length>0&&(k.Authorization="Firebase "+F)}(Hn,q),function Ie(k,F){k["X-Firebase-Storage-Version"]="webjs/"+(F??"AppManager")}(Hn,et),function Ue(k,F){null!==F&&(k["X-Firebase-AppCheck"]=F)}(Hn,Q),new Vt(gn,k.method,Hn,k.body,k.successCodes,k.additionalRetryCodes,k.handler,k.errorHandler,k.timeout,k.progressCallback,de,St)}(F,this._appId,Q,de,q,this._firebaseVersion,et);return this._requests.add(St),St.getPromise().then(()=>this._requests.delete(St),()=>this._requests.delete(St)),St}}makeRequestWithTokens(F,q){var Q=this;return(0,Mt.A)(function*(){const[de,et]=yield Promise.all([Q._getAuthToken(),Q._getAppCheckToken()]);return Q._makeRequest(F,q,de,et).getPromise()})()}}const vo="@firebase/storage",Xn="storage";function W(k=(0,Oe.Sx)(),F){k=(0,me.Ku)(k);const Q=(0,Oe.j6)(k,Xn).getImmediate({identifier:F}),de=(0,me.yU)("storage");return de&&function ee(k,F,q,Q={}){!function jo(k,F,q,Q={}){k.host=`${F}:${q}`,k._protocol="http";const{mockUserToken:de}=Q;de&&(k._overrideAuthToken="string"==typeof de?de:(0,me.Fy)(de,k.app.options.projectId))}(k,F,q,Q)}(Q,...de),Q}function Ve(k,{instanceIdentifier:F}){const q=k.getProvider("app").getImmediate(),Q=k.getProvider("auth-internal"),de=k.getProvider("app-check-internal");return new yo(q,Q,de,F,Oe.MF)}!function rt(){(0,Oe.om)(new ne.uA(Xn,Ve,"PUBLIC").setMultipleInstances(!0)),(0,Oe.KO)(vo,"0.13.2",""),(0,Oe.KO)(vo,"0.13.2","esm2017")}();class Ht{constructor(F){return F}}const jt="storage",fn=new g.nKC("angularfire2.storage-instances");function Ar(k){return(F,q)=>{const Q=F.runOutsideAngular(()=>k(q));return new Ht(Q)}}const gr={provide:class Yn{constructor(){return(0,sn.CA)(jt)}},deps:[[new g.Xx1,fn]]},pi={provide:Ht,useFactory:function yn(k,F){const q=(0,sn.lR)(jt,k,F);return q&&new Ht(q)},deps:[[new g.Xx1,fn],ot.XU]},Ks=(0,sn.S3)(W,!0),es_firebase={apiKey:"AIzaSyCnXisJtdFoP2r-2dOX98o-0r6epKNqfaU",authDomain:"diet-39ccb.firebaseapp.com",projectId:"diet-39ccb",storageBucket:"diet-39ccb.firebasestorage.app",messagingSenderId:"993556259894",appId:"1:993556259894:web:3e2ca8538d209098402497",measurementId:"G-K50ZSPWDDJ"};let Lr=(()=>{class k{constructor(q,Q,de,et,St){this.doc=q,this.delegate=Q,this.zone=de,this.animationType=et,this.moduleImpl=St,this._rendererFactoryPromise=null,this.scheduler=(0,g.WQX)(g.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??Promise.resolve().then($.bind($,8008))).catch(Q=>{throw new g.wOt(5300,!1)}).then(({\u0275createEngine:Q,\u0275AnimationRendererFactory:de})=>{this._engine=Q(this.animationType,this.doc,this.scheduler);const et=new de(this.delegate,this._engine,this.zone);return this.delegate=et,et})}createRenderer(q,Q){const de=this.delegate.createRenderer(q,Q);if(0===de.\u0275type)return de;"boolean"==typeof de.throwOnSyntheticProps&&(de.throwOnSyntheticProps=!1);const et=new _s(de);return Q?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(St=>{const pn=St.createRenderer(q,Q);et.use(pn)}).catch(St=>{et.use(de)}),et}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(Q){g.QTQ()}}static{this.\u0275prov=g.jDH({token:k,factory:k.\u0275fac})}}return k})();class _s{constructor(F){this.delegate=F,this.replay=[],this.\u0275type=1}use(F){if(this.delegate=F,null!==this.replay){for(const q of this.replay)q(F);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(F,q){return this.delegate.createElement(F,q)}createComment(F){return this.delegate.createComment(F)}createText(F){return this.delegate.createText(F)}get destroyNode(){return this.delegate.destroyNode}appendChild(F,q){this.delegate.appendChild(F,q)}insertBefore(F,q,Q,de){this.delegate.insertBefore(F,q,Q,de)}removeChild(F,q,Q){this.delegate.removeChild(F,q,Q)}selectRootElement(F,q){return this.delegate.selectRootElement(F,q)}parentNode(F){return this.delegate.parentNode(F)}nextSibling(F){return this.delegate.nextSibling(F)}setAttribute(F,q,Q,de){this.delegate.setAttribute(F,q,Q,de)}removeAttribute(F,q,Q){this.delegate.removeAttribute(F,q,Q)}addClass(F,q){this.delegate.addClass(F,q)}removeClass(F,q){this.delegate.removeClass(F,q)}setStyle(F,q,Q,de){this.delegate.setStyle(F,q,Q,de)}removeStyle(F,q,Q){this.delegate.removeStyle(F,q,Q)}setProperty(F,q,Q){this.shouldReplay(q)&&this.replay.push(de=>de.setProperty(F,q,Q)),this.delegate.setProperty(F,q,Q)}setValue(F,q){this.delegate.setValue(F,q)}listen(F,q,Q){return this.shouldReplay(q)&&this.replay.push(de=>de.listen(F,q,Q)),this.delegate.listen(F,q,Q)}shouldReplay(F){return null!==this.replay&&F.startsWith("@")}}(0,re.B8)(Ut,{providers:[(0,yt.lh)(Dr),function ze(){return(0,g.ngT)("NgEagerAnimations"),[...He]}(),(0,ot.MW)(()=>(0,ot.Wp)(es_firebase)),(0,Pt.hV)(()=>(0,Pt.aU)()),(0,Bt._q)(()=>(0,Bt.xI)()),function jn(k,...F){return(0,Et.KO)("angularfire",sn.xv.full,"gcs"),(0,g.EmA)([pi,gr,{provide:fn,useFactory:Ar(k),multi:!0,deps:[g.SKi,g.zZn,sn.u0,ot.gL,[new g.Xx1,Bt.DF],[new g.Xx1,sn.Jv],...F]}])}(()=>Ks()),function La(k="animations"){return(0,g.ngT)("NgAsyncAnimations"),(0,g.EmA)([{provide:g._9s,useFactory:(F,q,Q)=>new Lr(F,q,Q,k),deps:[pe.qQ,re.B7,g.SKi]},{provide:g.bc$,useValue:"noop"===k?"NoopAnimations":"BrowserAnimations"}])}()]})},8472:(Qt,Ke,$)=>{$.d(Ke,{u:()=>he});var g=$(467),re=$(4438),ce=$(6335),pe=$(9579),Se=$(1985),ge=$(7673),Pe=$(3294),it=$(5558),He=$(4262);let he=(()=>{class _e{constructor(){this.auth=(0,re.WQX)(ce.Nj),this.firestore=(0,re.WQX)(He._7),this.user$=new Se.c(nt=>this.auth.onAuthStateChanged(nt)).pipe((0,it.n)(nt=>nt?this.getUserData(nt.uid):(0,ge.of)(null)))}signIn(nt,ut){var yt=this;return(0,g.A)(function*(){return yield(0,ce.x9)(yt.auth,nt,ut)})()}signInWithGoogle(){var nt=this;return(0,g.A)(function*(){const ut=new pe.HF,yt=yield(0,ce.df)(nt.auth,ut),Ft=(0,He.H9)(nt.firestore,`users/${yt.user.uid}`);if(!(yield(0,He.x7)(Ft)).exists()){const Xt={uid:yt.user.uid,email:yt.user.email||"",displayName:yt.user.displayName||"Anonimowy U\u017cytkownik",medicalConditions:[],savedRecipes:[],dietPlans:[]};yield nt.createUserData(Xt)}return yt})()}signUp(nt,ut,yt){var Ft=this;return(0,g.A)(function*(){const Yt=yield(0,ce.eJ)(Ft.auth,nt,ut),Xt={uid:Yt.user.uid,email:Yt.user.email||nt,displayName:yt,medicalConditions:[],savedRecipes:[],dietPlans:[]};return yield Ft.createUserData(Xt),Yt})()}signOut(){var nt=this;return(0,g.A)(function*(){return yield(0,ce.CI)(nt.auth)})()}createUserData(nt){var ut=this;return(0,g.A)(function*(){const yt=(0,He.H9)(ut.firestore,`users/${nt.uid}`);return yield(0,He.BN)(yt,nt)})()}getUserData(nt){const ut=(0,He.H9)(this.firestore,`users/${nt}`);return new Se.c(yt=>{(0,He.x7)(ut).then(Ft=>{Ft.exists()?yt.next(Ft.data()):yt.next(null),yt.complete()}).catch(Ft=>{yt.error(Ft)})}).pipe((0,Pe.F)((yt,Ft)=>JSON.stringify(yt)===JSON.stringify(Ft)))}getCurrentUser(){return this.auth.currentUser}get isLoggedIn(){return!!this.auth.currentUser}static{this.\u0275fac=function(ut){return new(ut||_e)}}static{this.\u0275prov=re.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}}return _e})()},4412:(Qt,Ke,$)=>{$.d(Ke,{t:()=>re});var g=$(1413);class re extends g.B{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const Se=super._subscribe(pe);return!Se.closed&&pe.next(this._value),Se}getValue(){const{hasError:pe,thrownError:Se,_value:ge}=this;if(pe)throw Se;return this._throwIfClosed(),ge}next(pe){super.next(this._value=pe)}}},1985:(Qt,Ke,$)=>{$.d(Ke,{c:()=>it});var g=$(7707),re=$(8359),ce=$(3494),pe=$(1203),Se=$(1026),ge=$(8071),Pe=$(9786);let it=(()=>{class ze{constructor(ut){ut&&(this._subscribe=ut)}lift(ut){const yt=new ze;return yt.source=this,yt.operator=ut,yt}subscribe(ut,yt,Ft){const Yt=function _e(ze){return ze&&ze instanceof g.vU||function he(ze){return ze&&(0,ge.T)(ze.next)&&(0,ge.T)(ze.error)&&(0,ge.T)(ze.complete)}(ze)&&(0,re.Uv)(ze)}(ut)?ut:new g.Ms(ut,yt,Ft);return(0,Pe.Y)(()=>{const{operator:Xt,source:zn}=this;Yt.add(Xt?Xt.call(Yt,zn):zn?this._subscribe(Yt):this._trySubscribe(Yt))}),Yt}_trySubscribe(ut){try{return this._subscribe(ut)}catch(yt){ut.error(yt)}}forEach(ut,yt){return new(yt=He(yt))((Ft,Yt)=>{const Xt=new g.Ms({next:zn=>{try{ut(zn)}catch(Mn){Yt(Mn),Xt.unsubscribe()}},error:Yt,complete:Ft});this.subscribe(Xt)})}_subscribe(ut){var yt;return null===(yt=this.source)||void 0===yt?void 0:yt.subscribe(ut)}[ce.s](){return this}pipe(...ut){return(0,pe.m)(ut)(this)}toPromise(ut){return new(ut=He(ut))((yt,Ft)=>{let Yt;this.subscribe(Xt=>Yt=Xt,Xt=>Ft(Xt),()=>yt(Yt))})}}return ze.create=nt=>new ze(nt),ze})();function He(ze){var nt;return null!==(nt=ze??Se.$.Promise)&&void 0!==nt?nt:Promise}},1413:(Qt,Ke,$)=>{$.d(Ke,{B:()=>Pe});var g=$(1985),re=$(8359);const pe=(0,$(1853).L)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=$(7908),ge=$(9786);let Pe=(()=>{class He extends g.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(_e){const ze=new it(this,this);return ze.operator=_e,ze}_throwIfClosed(){if(this.closed)throw new pe}next(_e){(0,ge.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ze of this.currentObservers)ze.next(_e)}})}error(_e){(0,ge.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=_e;const{observers:ze}=this;for(;ze.length;)ze.shift().error(_e)}})}complete(){(0,ge.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:_e}=this;for(;_e.length;)_e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var _e;return(null===(_e=this.observers)||void 0===_e?void 0:_e.length)>0}_trySubscribe(_e){return this._throwIfClosed(),super._trySubscribe(_e)}_subscribe(_e){return this._throwIfClosed(),this._checkFinalizedStatuses(_e),this._innerSubscribe(_e)}_innerSubscribe(_e){const{hasError:ze,isStopped:nt,observers:ut}=this;return ze||nt?re.Kn:(this.currentObservers=null,ut.push(_e),new re.yU(()=>{this.currentObservers=null,(0,Se.o)(ut,_e)}))}_checkFinalizedStatuses(_e){const{hasError:ze,thrownError:nt,isStopped:ut}=this;ze?_e.error(nt):ut&&_e.complete()}asObservable(){const _e=new g.c;return _e.source=this,_e}}return He.create=(he,_e)=>new it(he,_e),He})();class it extends Pe{constructor(he,_e){super(),this.destination=he,this.source=_e}next(he){var _e,ze;null===(ze=null===(_e=this.destination)||void 0===_e?void 0:_e.next)||void 0===ze||ze.call(_e,he)}error(he){var _e,ze;null===(ze=null===(_e=this.destination)||void 0===_e?void 0:_e.error)||void 0===ze||ze.call(_e,he)}complete(){var he,_e;null===(_e=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===_e||_e.call(he)}_subscribe(he){var _e,ze;return null!==(ze=null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(he))&&void 0!==ze?ze:re.Kn}}},7707:(Qt,Ke,$)=>{$.d(Ke,{Ms:()=>Ft,vU:()=>ze});var g=$(8071),re=$(8359),ce=$(1026),pe=$(5334),Se=$(5343);const ge=He("C",void 0,void 0);function He(mt,Ze,pt){return{kind:mt,value:Ze,error:pt}}var he=$(9270),_e=$(9786);class ze extends re.yU{constructor(Ze){super(),this.isStopped=!1,Ze?(this.destination=Ze,(0,re.Uv)(Ze)&&Ze.add(this)):this.destination=Mn}static create(Ze,pt,It){return new Ft(Ze,pt,It)}next(Ze){this.isStopped?zn(function it(mt){return He("N",mt,void 0)}(Ze),this):this._next(Ze)}error(Ze){this.isStopped?zn(function Pe(mt){return He("E",void 0,mt)}(Ze),this):(this.isStopped=!0,this._error(Ze))}complete(){this.isStopped?zn(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ze){this.destination.next(Ze)}_error(Ze){try{this.destination.error(Ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nt=Function.prototype.bind;function ut(mt,Ze){return nt.call(mt,Ze)}class yt{constructor(Ze){this.partialObserver=Ze}next(Ze){const{partialObserver:pt}=this;if(pt.next)try{pt.next(Ze)}catch(It){Yt(It)}}error(Ze){const{partialObserver:pt}=this;if(pt.error)try{pt.error(Ze)}catch(It){Yt(It)}else Yt(Ze)}complete(){const{partialObserver:Ze}=this;if(Ze.complete)try{Ze.complete()}catch(pt){Yt(pt)}}}class Ft extends ze{constructor(Ze,pt,It){let rn;if(super(),(0,g.T)(Ze)||!Ze)rn={next:Ze??void 0,error:pt??void 0,complete:It??void 0};else{let Ut;this&&ce.$.useDeprecatedNextContext?(Ut=Object.create(Ze),Ut.unsubscribe=()=>this.unsubscribe(),rn={next:Ze.next&&ut(Ze.next,Ut),error:Ze.error&&ut(Ze.error,Ut),complete:Ze.complete&&ut(Ze.complete,Ut)}):rn=Ze}this.destination=new yt(rn)}}function Yt(mt){ce.$.useDeprecatedSynchronousErrorHandling?(0,_e.l)(mt):(0,pe.m)(mt)}function zn(mt,Ze){const{onStoppedNotification:pt}=ce.$;pt&&he.f.setTimeout(()=>pt(mt,Ze))}const Mn={closed:!0,next:Se.l,error:function Xt(mt){throw mt},complete:Se.l}},8359:(Qt,Ke,$)=>{$.d(Ke,{Kn:()=>ge,yU:()=>Se,Uv:()=>Pe});var g=$(8071);const ce=(0,$(1853).L)(He=>function(_e){He(this),this.message=_e?`${_e.length} errors occurred during unsubscription:\n${_e.map((ze,nt)=>`${nt+1}) ${ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_e});var pe=$(7908);class Se{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:_e}=this;if(_e)if(this._parentage=null,Array.isArray(_e))for(const ut of _e)ut.remove(this);else _e.remove(this);const{initialTeardown:ze}=this;if((0,g.T)(ze))try{ze()}catch(ut){he=ut instanceof ce?ut.errors:[ut]}const{_finalizers:nt}=this;if(nt){this._finalizers=null;for(const ut of nt)try{it(ut)}catch(yt){he=he??[],yt instanceof ce?he=[...he,...yt.errors]:he.push(yt)}}if(he)throw new ce(he)}}add(he){var _e;if(he&&he!==this)if(this.closed)it(he);else{if(he instanceof Se){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(_e=this._finalizers)&&void 0!==_e?_e:[]).push(he)}}_hasParent(he){const{_parentage:_e}=this;return _e===he||Array.isArray(_e)&&_e.includes(he)}_addParent(he){const{_parentage:_e}=this;this._parentage=Array.isArray(_e)?(_e.push(he),_e):_e?[_e,he]:he}_removeParent(he){const{_parentage:_e}=this;_e===he?this._parentage=null:Array.isArray(_e)&&(0,pe.o)(_e,he)}remove(he){const{_finalizers:_e}=this;_e&&(0,pe.o)(_e,he),he instanceof Se&&he._removeParent(this)}}Se.EMPTY=(()=>{const He=new Se;return He.closed=!0,He})();const ge=Se.EMPTY;function Pe(He){return He instanceof Se||He&&"closed"in He&&(0,g.T)(He.remove)&&(0,g.T)(He.add)&&(0,g.T)(He.unsubscribe)}function it(He){(0,g.T)(He)?He():He.unsubscribe()}},1026:(Qt,Ke,$)=>{$.d(Ke,{$:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Qt,Ke,$)=>{$.d(Ke,{z:()=>he});var g=$(1985),re=$(3073),ce=$(8455),pe=$(3669),Se=$(6450),ge=$(9326),Pe=$(8496),it=$(4360),He=$(5225);function he(...nt){const ut=(0,ge.lI)(nt),yt=(0,ge.ms)(nt),{args:Ft,keys:Yt}=(0,re.D)(nt);if(0===Ft.length)return(0,ce.H)([],ut);const Xt=new g.c(function _e(nt,ut,yt=pe.D){return Ft=>{ze(ut,()=>{const{length:Yt}=nt,Xt=new Array(Yt);let zn=Yt,Mn=Yt;for(let mt=0;mt<Yt;mt++)ze(ut,()=>{const Ze=(0,ce.H)(nt[mt],ut);let pt=!1;Ze.subscribe((0,it._)(Ft,It=>{Xt[mt]=It,pt||(pt=!0,Mn--),Mn||Ft.next(yt(Xt.slice()))},()=>{--zn||Ft.complete()}))},Ft)},Ft)}}(Ft,ut,Yt?zn=>(0,Pe.e)(Yt,zn):pe.D));return yt?Xt.pipe((0,Se.I)(yt)):Xt}function ze(nt,ut,yt){nt?(0,He.N)(yt,nt,ut):ut()}},8793:(Qt,Ke,$)=>{$.d(Ke,{x:()=>Se});var g=$(6365),ce=$(9326),pe=$(8455);function Se(...ge){return function re(){return(0,g.U)(1)}()((0,pe.H)(ge,(0,ce.lI)(ge)))}},9030:(Qt,Ke,$)=>{$.d(Ke,{v:()=>ce});var g=$(1985),re=$(8750);function ce(pe){return new g.c(Se=>{(0,re.Tg)(pe()).subscribe(Se)})}},983:(Qt,Ke,$)=>{$.d(Ke,{w:()=>re});const re=new($(1985).c)(Se=>Se.complete())},8455:(Qt,Ke,$)=>{$.d(Ke,{H:()=>Ze});var g=$(8750),re=$(941),ce=$(6745),ge=$(1985),it=$(4761),He=$(8071),he=$(5225);function ze(pt,It){if(!pt)throw new Error("Iterable cannot be null");return new ge.c(rn=>{(0,he.N)(rn,It,()=>{const Ut=pt[Symbol.asyncIterator]();(0,he.N)(rn,It,()=>{Ut.next().then(ye=>{ye.done?rn.complete():rn.next(ye.value)})},0,!0)})})}var nt=$(5055),ut=$(9858),yt=$(7441),Ft=$(5397),Yt=$(7953),Xt=$(591),zn=$(5196);function Ze(pt,It){return It?function mt(pt,It){if(null!=pt){if((0,nt.l)(pt))return function pe(pt,It){return(0,g.Tg)(pt).pipe((0,ce._)(It),(0,re.Q)(It))}(pt,It);if((0,yt.X)(pt))return function Pe(pt,It){return new ge.c(rn=>{let Ut=0;return It.schedule(function(){Ut===pt.length?rn.complete():(rn.next(pt[Ut++]),rn.closed||this.schedule())})})}(pt,It);if((0,ut.y)(pt))return function Se(pt,It){return(0,g.Tg)(pt).pipe((0,ce._)(It),(0,re.Q)(It))}(pt,It);if((0,Yt.T)(pt))return ze(pt,It);if((0,Ft.x)(pt))return function _e(pt,It){return new ge.c(rn=>{let Ut;return(0,he.N)(rn,It,()=>{Ut=pt[it.l](),(0,he.N)(rn,It,()=>{let ye,Qe;try{({value:ye,done:Qe}=Ut.next())}catch(Ot){return void rn.error(Ot)}Qe?rn.complete():rn.next(ye)},0,!0)}),()=>(0,He.T)(Ut?.return)&&Ut.return()})}(pt,It);if((0,zn.U)(pt))return function Mn(pt,It){return ze((0,zn.C)(pt),It)}(pt,It)}throw(0,Xt.L)(pt)}(pt,It):(0,g.Tg)(pt)}},8750:(Qt,Ke,$)=>{$.d(Ke,{Tg:()=>nt});var g=$(1635),re=$(7441),ce=$(9858),pe=$(1985),Se=$(5055),ge=$(7953),Pe=$(591),it=$(5397),He=$(5196),he=$(8071),_e=$(5334),ze=$(3494);function nt(mt){if(mt instanceof pe.c)return mt;if(null!=mt){if((0,Se.l)(mt))return function ut(mt){return new pe.c(Ze=>{const pt=mt[ze.s]();if((0,he.T)(pt.subscribe))return pt.subscribe(Ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(mt);if((0,re.X)(mt))return function yt(mt){return new pe.c(Ze=>{for(let pt=0;pt<mt.length&&!Ze.closed;pt++)Ze.next(mt[pt]);Ze.complete()})}(mt);if((0,ce.y)(mt))return function Ft(mt){return new pe.c(Ze=>{mt.then(pt=>{Ze.closed||(Ze.next(pt),Ze.complete())},pt=>Ze.error(pt)).then(null,_e.m)})}(mt);if((0,ge.T)(mt))return Xt(mt);if((0,it.x)(mt))return function Yt(mt){return new pe.c(Ze=>{for(const pt of mt)if(Ze.next(pt),Ze.closed)return;Ze.complete()})}(mt);if((0,He.U)(mt))return function zn(mt){return Xt((0,He.C)(mt))}(mt)}throw(0,Pe.L)(mt)}function Xt(mt){return new pe.c(Ze=>{(function Mn(mt,Ze){var pt,It,rn,Ut;return(0,g.sH)(this,void 0,void 0,function*(){try{for(pt=(0,g.xN)(mt);!(It=yield pt.next()).done;)if(Ze.next(It.value),Ze.closed)return}catch(ye){rn={error:ye}}finally{try{It&&!It.done&&(Ut=pt.return)&&(yield Ut.call(pt))}finally{if(rn)throw rn.error}}Ze.complete()})})(mt,Ze).catch(pt=>Ze.error(pt))})}},7673:(Qt,Ke,$)=>{$.d(Ke,{of:()=>ce});var g=$(9326),re=$(8455);function ce(...pe){const Se=(0,g.lI)(pe);return(0,re.H)(pe,Se)}},8810:(Qt,Ke,$)=>{$.d(Ke,{$:()=>ce});var g=$(1985),re=$(8071);function ce(pe,Se){const ge=(0,re.T)(pe)?pe:()=>pe,Pe=it=>it.error(ge());return new g.c(Se?it=>Se.schedule(Pe,0,it):Pe)}},4360:(Qt,Ke,$)=>{$.d(Ke,{_:()=>re});var g=$(7707);function re(pe,Se,ge,Pe,it){return new ce(pe,Se,ge,Pe,it)}class ce extends g.vU{constructor(Se,ge,Pe,it,He,he){super(Se),this.onFinalize=He,this.shouldUnsubscribe=he,this._next=ge?function(_e){try{ge(_e)}catch(ze){Se.error(ze)}}:super._next,this._error=it?function(_e){try{it(_e)}catch(ze){Se.error(ze)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(_e){Se.error(_e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}}},9437:(Qt,Ke,$)=>{$.d(Ke,{W:()=>pe});var g=$(8750),re=$(4360),ce=$(9974);function pe(Se){return(0,ce.N)((ge,Pe)=>{let he,it=null,He=!1;it=ge.subscribe((0,re._)(Pe,void 0,void 0,_e=>{he=(0,g.Tg)(Se(_e,pe(Se)(ge))),it?(it.unsubscribe(),it=null,he.subscribe(Pe)):He=!0})),He&&(it.unsubscribe(),it=null,he.subscribe(Pe))})}},274:(Qt,Ke,$)=>{$.d(Ke,{H:()=>ce});var g=$(1397),re=$(8071);function ce(pe,Se){return(0,re.T)(Se)?(0,g.Z)(pe,Se,1):(0,g.Z)(pe,1)}},3294:(Qt,Ke,$)=>{$.d(Ke,{F:()=>pe});var g=$(3669),re=$(9974),ce=$(4360);function pe(ge,Pe=g.D){return ge=ge??Se,(0,re.N)((it,He)=>{let he,_e=!0;it.subscribe((0,ce._)(He,ze=>{const nt=Pe(ze);(_e||!ge(he,nt))&&(_e=!1,he=nt,He.next(ze))}))})}function Se(ge,Pe){return ge===Pe}},5964:(Qt,Ke,$)=>{$.d(Ke,{p:()=>ce});var g=$(9974),re=$(4360);function ce(pe,Se){return(0,g.N)((ge,Pe)=>{let it=0;ge.subscribe((0,re._)(Pe,He=>pe.call(Se,He,it++)&&Pe.next(He)))})}},980:(Qt,Ke,$)=>{$.d(Ke,{j:()=>re});var g=$(9974);function re(ce){return(0,g.N)((pe,Se)=>{try{pe.subscribe(Se)}finally{Se.add(ce)}})}},6354:(Qt,Ke,$)=>{$.d(Ke,{T:()=>ce});var g=$(9974),re=$(4360);function ce(pe,Se){return(0,g.N)((ge,Pe)=>{let it=0;ge.subscribe((0,re._)(Pe,He=>{Pe.next(pe.call(Se,He,it++))}))})}},6365:(Qt,Ke,$)=>{$.d(Ke,{U:()=>ce});var g=$(1397),re=$(3669);function ce(pe=1/0){return(0,g.Z)(re.D,pe)}},1397:(Qt,Ke,$)=>{$.d(Ke,{Z:()=>it});var g=$(6354),re=$(8750),ce=$(9974),pe=$(5225),Se=$(4360),Pe=$(8071);function it(He,he,_e=1/0){return(0,Pe.T)(he)?it((ze,nt)=>(0,g.T)((ut,yt)=>he(ze,ut,nt,yt))((0,re.Tg)(He(ze,nt))),_e):("number"==typeof he&&(_e=he),(0,ce.N)((ze,nt)=>function ge(He,he,_e,ze,nt,ut,yt,Ft){const Yt=[];let Xt=0,zn=0,Mn=!1;const mt=()=>{Mn&&!Yt.length&&!Xt&&he.complete()},Ze=It=>Xt<ze?pt(It):Yt.push(It),pt=It=>{ut&&he.next(It),Xt++;let rn=!1;(0,re.Tg)(_e(It,zn++)).subscribe((0,Se._)(he,Ut=>{nt?.(Ut),ut?Ze(Ut):he.next(Ut)},()=>{rn=!0},void 0,()=>{if(rn)try{for(Xt--;Yt.length&&Xt<ze;){const Ut=Yt.shift();yt?(0,pe.N)(he,yt,()=>pt(Ut)):pt(Ut)}mt()}catch(Ut){he.error(Ut)}}))};return He.subscribe((0,Se._)(he,Ze,()=>{Mn=!0,mt()})),()=>{Ft?.()}}(ze,nt,He,_e)))}},941:(Qt,Ke,$)=>{$.d(Ke,{Q:()=>pe});var g=$(5225),re=$(9974),ce=$(4360);function pe(Se,ge=0){return(0,re.N)((Pe,it)=>{Pe.subscribe((0,ce._)(it,He=>(0,g.N)(it,Se,()=>it.next(He),ge),()=>(0,g.N)(it,Se,()=>it.complete(),ge),He=>(0,g.N)(it,Se,()=>it.error(He),ge)))})}},9172:(Qt,Ke,$)=>{$.d(Ke,{Z:()=>pe});var g=$(8793),re=$(9326),ce=$(9974);function pe(...Se){const ge=(0,re.lI)(Se);return(0,ce.N)((Pe,it)=>{(ge?(0,g.x)(Se,Pe,ge):(0,g.x)(Se,Pe)).subscribe(it)})}},6745:(Qt,Ke,$)=>{$.d(Ke,{_:()=>re});var g=$(9974);function re(ce,pe=0){return(0,g.N)((Se,ge)=>{ge.add(ce.schedule(()=>Se.subscribe(ge),pe))})}},5558:(Qt,Ke,$)=>{$.d(Ke,{n:()=>pe});var g=$(8750),re=$(9974),ce=$(4360);function pe(Se,ge){return(0,re.N)((Pe,it)=>{let He=null,he=0,_e=!1;const ze=()=>_e&&!He&&it.complete();Pe.subscribe((0,ce._)(it,nt=>{He?.unsubscribe();let ut=0;const yt=he++;(0,g.Tg)(Se(nt,yt)).subscribe(He=(0,ce._)(it,Ft=>it.next(ge?ge(nt,Ft,yt,ut++):Ft),()=>{He=null,ze()}))},()=>{_e=!0,ze()}))})}},6697:(Qt,Ke,$)=>{$.d(Ke,{s:()=>pe});var g=$(983),re=$(9974),ce=$(4360);function pe(Se){return Se<=0?()=>g.w:(0,re.N)((ge,Pe)=>{let it=0;ge.subscribe((0,ce._)(Pe,He=>{++it<=Se&&(Pe.next(He),Se<=it&&Pe.complete())}))})}},6977:(Qt,Ke,$)=>{$.d(Ke,{Q:()=>Se});var g=$(9974),re=$(4360),ce=$(8750),pe=$(5343);function Se(ge){return(0,g.N)((Pe,it)=>{(0,ce.Tg)(ge).subscribe((0,re._)(it,()=>it.complete(),pe.l)),!it.closed&&Pe.subscribe(it)})}},8141:(Qt,Ke,$)=>{$.d(Ke,{M:()=>Se});var g=$(8071),re=$(9974),ce=$(4360),pe=$(3669);function Se(ge,Pe,it){const He=(0,g.T)(ge)||Pe||it?{next:ge,error:Pe,complete:it}:ge;return He?(0,re.N)((he,_e)=>{var ze;null===(ze=He.subscribe)||void 0===ze||ze.call(He);let nt=!0;he.subscribe((0,ce._)(_e,ut=>{var yt;null===(yt=He.next)||void 0===yt||yt.call(He,ut),_e.next(ut)},()=>{var ut;nt=!1,null===(ut=He.complete)||void 0===ut||ut.call(He),_e.complete()},ut=>{var yt;nt=!1,null===(yt=He.error)||void 0===yt||yt.call(He,ut),_e.error(ut)},()=>{var ut,yt;nt&&(null===(ut=He.unsubscribe)||void 0===ut||ut.call(He)),null===(yt=He.finalize)||void 0===yt||yt.call(He)}))}):pe.D}},6780:(Qt,Ke,$)=>{$.d(Ke,{R:()=>Se});var g=$(8359);class re extends g.yU{constructor(Pe,it){super()}schedule(Pe,it=0){return this}}const ce={setInterval(ge,Pe,...it){const{delegate:He}=ce;return He?.setInterval?He.setInterval(ge,Pe,...it):setInterval(ge,Pe,...it)},clearInterval(ge){const{delegate:Pe}=ce;return(Pe?.clearInterval||clearInterval)(ge)},delegate:void 0};var pe=$(7908);class Se extends re{constructor(Pe,it){super(Pe,it),this.scheduler=Pe,this.work=it,this.pending=!1}schedule(Pe,it=0){var He;if(this.closed)return this;this.state=Pe;const he=this.id,_e=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(_e,he,it)),this.pending=!0,this.delay=it,this.id=null!==(He=this.id)&&void 0!==He?He:this.requestAsyncId(_e,this.id,it),this}requestAsyncId(Pe,it,He=0){return ce.setInterval(Pe.flush.bind(Pe,this),He)}recycleAsyncId(Pe,it,He=0){if(null!=He&&this.delay===He&&!1===this.pending)return it;null!=it&&ce.clearInterval(it)}execute(Pe,it){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const He=this._execute(Pe,it);if(He)return He;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,it){let he,He=!1;try{this.work(Pe)}catch(_e){He=!0,he=_e||new Error("Scheduled action threw falsy error")}if(He)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:it}=this,{actions:He}=it;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.o)(He,this),null!=Pe&&(this.id=this.recycleAsyncId(it,Pe,null)),this.delay=null,super.unsubscribe()}}}},9687:(Qt,Ke,$)=>{$.d(Ke,{q:()=>ce});var g=$(6129);class re{constructor(Se,ge=re.now){this.schedulerActionCtor=Se,this.now=ge}schedule(Se,ge=0,Pe){return new this.schedulerActionCtor(this,Se).schedule(Pe,ge)}}re.now=g.U.now;class ce extends re{constructor(Se,ge=re.now){super(Se,ge),this.actions=[],this._active=!1}flush(Se){const{actions:ge}=this;if(this._active)return void ge.push(Se);let Pe;this._active=!0;do{if(Pe=Se.execute(Se.state,Se.delay))break}while(Se=ge.shift());if(this._active=!1,Pe){for(;Se=ge.shift();)Se.unsubscribe();throw Pe}}}},3236:(Qt,Ke,$)=>{$.d(Ke,{E:()=>ce,b:()=>pe});var g=$(6780);const ce=new($(9687).q)(g.R),pe=ce},6129:(Qt,Ke,$)=>{$.d(Ke,{U:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},9270:(Qt,Ke,$)=>{$.d(Ke,{f:()=>g});const g={setTimeout(re,ce,...pe){const{delegate:Se}=g;return Se?.setTimeout?Se.setTimeout(re,ce,...pe):setTimeout(re,ce,...pe)},clearTimeout(re){const{delegate:ce}=g;return(ce?.clearTimeout||clearTimeout)(re)},delegate:void 0}},4761:(Qt,Ke,$)=>{$.d(Ke,{l:()=>re});const re=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Qt,Ke,$)=>{$.d(Ke,{s:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Qt,Ke,$)=>{$.d(Ke,{R0:()=>ge,lI:()=>Se,ms:()=>pe});var g=$(8071),re=$(9470);function ce(Pe){return Pe[Pe.length-1]}function pe(Pe){return(0,g.T)(ce(Pe))?Pe.pop():void 0}function Se(Pe){return(0,re.m)(ce(Pe))?Pe.pop():void 0}function ge(Pe,it){return"number"==typeof ce(Pe)?Pe.pop():it}},3073:(Qt,Ke,$)=>{$.d(Ke,{D:()=>Se});const{isArray:g}=Array,{getPrototypeOf:re,prototype:ce,keys:pe}=Object;function Se(Pe){if(1===Pe.length){const it=Pe[0];if(g(it))return{args:it,keys:null};if(function ge(Pe){return Pe&&"object"==typeof Pe&&re(Pe)===ce}(it)){const He=pe(it);return{args:He.map(he=>it[he]),keys:He}}}return{args:Pe,keys:null}}},7908:(Qt,Ke,$)=>{function g(re,ce){if(re){const pe=re.indexOf(ce);0<=pe&&re.splice(pe,1)}}$.d(Ke,{o:()=>g})},1853:(Qt,Ke,$)=>{function g(re){const pe=re(Se=>{Error.call(Se),Se.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}$.d(Ke,{L:()=>g})},8496:(Qt,Ke,$)=>{function g(re,ce){return re.reduce((pe,Se,ge)=>(pe[Se]=ce[ge],pe),{})}$.d(Ke,{e:()=>g})},9786:(Qt,Ke,$)=>{$.d(Ke,{Y:()=>ce,l:()=>pe});var g=$(1026);let re=null;function ce(Se){if(g.$.useDeprecatedSynchronousErrorHandling){const ge=!re;if(ge&&(re={errorThrown:!1,error:null}),Se(),ge){const{errorThrown:Pe,error:it}=re;if(re=null,Pe)throw it}}else Se()}function pe(Se){g.$.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=Se)}},5225:(Qt,Ke,$)=>{function g(re,ce,pe,Se=0,ge=!1){const Pe=ce.schedule(function(){pe(),ge?re.add(this.schedule(null,Se)):this.unsubscribe()},Se);if(re.add(Pe),!ge)return Pe}$.d(Ke,{N:()=>g})},3669:(Qt,Ke,$)=>{function g(re){return re}$.d(Ke,{D:()=>g})},7441:(Qt,Ke,$)=>{$.d(Ke,{X:()=>g});const g=re=>re&&"number"==typeof re.length&&"function"!=typeof re},7953:(Qt,Ke,$)=>{$.d(Ke,{T:()=>re});var g=$(8071);function re(ce){return Symbol.asyncIterator&&(0,g.T)(ce?.[Symbol.asyncIterator])}},8071:(Qt,Ke,$)=>{function g(re){return"function"==typeof re}$.d(Ke,{T:()=>g})},5055:(Qt,Ke,$)=>{$.d(Ke,{l:()=>ce});var g=$(3494),re=$(8071);function ce(pe){return(0,re.T)(pe[g.s])}},5397:(Qt,Ke,$)=>{$.d(Ke,{x:()=>ce});var g=$(4761),re=$(8071);function ce(pe){return(0,re.T)(pe?.[g.l])}},4402:(Qt,Ke,$)=>{$.d(Ke,{A:()=>ce});var g=$(1985),re=$(8071);function ce(pe){return!!pe&&(pe instanceof g.c||(0,re.T)(pe.lift)&&(0,re.T)(pe.subscribe))}},9858:(Qt,Ke,$)=>{$.d(Ke,{y:()=>re});var g=$(8071);function re(ce){return(0,g.T)(ce?.then)}},5196:(Qt,Ke,$)=>{$.d(Ke,{C:()=>ce,U:()=>pe});var g=$(1635),re=$(8071);function ce(Se){return(0,g.AQ)(this,arguments,function*(){const Pe=Se.getReader();try{for(;;){const{value:it,done:He}=yield(0,g.N3)(Pe.read());if(He)return yield(0,g.N3)(void 0);yield yield(0,g.N3)(it)}}finally{Pe.releaseLock()}})}function pe(Se){return(0,re.T)(Se?.getReader)}},9470:(Qt,Ke,$)=>{$.d(Ke,{m:()=>re});var g=$(8071);function re(ce){return ce&&(0,g.T)(ce.schedule)}},9974:(Qt,Ke,$)=>{$.d(Ke,{N:()=>ce,S:()=>re});var g=$(8071);function re(pe){return(0,g.T)(pe?.lift)}function ce(pe){return Se=>{if(re(Se))return Se.lift(function(ge){try{return pe(ge,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Qt,Ke,$)=>{$.d(Ke,{I:()=>pe});var g=$(6354);const{isArray:re}=Array;function pe(Se){return(0,g.T)(ge=>function ce(Se,ge){return re(ge)?Se(...ge):Se(ge)}(Se,ge))}},5343:(Qt,Ke,$)=>{function g(){}$.d(Ke,{l:()=>g})},1203:(Qt,Ke,$)=>{$.d(Ke,{F:()=>re,m:()=>ce});var g=$(3669);function re(...pe){return ce(pe)}function ce(pe){return 0===pe.length?g.D:1===pe.length?pe[0]:function(ge){return pe.reduce((Pe,it)=>it(Pe),ge)}}},5334:(Qt,Ke,$)=>{$.d(Ke,{m:()=>ce});var g=$(1026),re=$(9270);function ce(pe){re.f.setTimeout(()=>{const{onUnhandledError:Se}=g.$;if(!Se)throw pe;Se(pe)})}},591:(Qt,Ke,$)=>{function g(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(Ke,{L:()=>g})},9969:(Qt,Ke,$)=>{$.d(Ke,{FX:()=>Ut,If:()=>g,K2:()=>ge,MA:()=>ze,Os:()=>Se,P:()=>ut,hZ:()=>ce,i0:()=>pe,iF:()=>Pe,kY:()=>he,kp:()=>re,sf:()=>It,ui:()=>rn,wk:()=>it});var g=function(ye){return ye[ye.State=0]="State",ye[ye.Transition=1]="Transition",ye[ye.Sequence=2]="Sequence",ye[ye.Group=3]="Group",ye[ye.Animate=4]="Animate",ye[ye.Keyframes=5]="Keyframes",ye[ye.Style=6]="Style",ye[ye.Trigger=7]="Trigger",ye[ye.Reference=8]="Reference",ye[ye.AnimateChild=9]="AnimateChild",ye[ye.AnimateRef=10]="AnimateRef",ye[ye.Query=11]="Query",ye[ye.Stagger=12]="Stagger",ye}(g||{});const re="*";function ce(ye,Qe){return{type:g.Trigger,name:ye,definitions:Qe,options:{}}}function pe(ye,Qe=null){return{type:g.Animate,styles:Qe,timings:ye}}function Se(ye,Qe=null){return{type:g.Group,steps:ye,options:Qe}}function ge(ye,Qe=null){return{type:g.Sequence,steps:ye,options:Qe}}function Pe(ye){return{type:g.Style,styles:ye,offset:null}}function it(ye,Qe,Ot){return{type:g.State,name:ye,styles:Qe,options:Ot}}function he(ye,Qe,Ot=null){return{type:g.Transition,expr:ye,animation:Qe,options:Ot}}function ze(ye=null){return{type:g.AnimateChild,options:ye}}function ut(ye,Qe,Ot=null){return{type:g.Query,selector:ye,animation:Qe,options:Ot}}class It{constructor(Qe=0,Ot=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Qe+Ot}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Qe=>Qe()),this._onDoneFns=[])}onStart(Qe){this._originalOnStartFns.push(Qe),this._onStartFns.push(Qe)}onDone(Qe){this._originalOnDoneFns.push(Qe),this._onDoneFns.push(Qe)}onDestroy(Qe){this._onDestroyFns.push(Qe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Qe=>Qe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Qe=>Qe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Qe){this._position=this.totalTime?Qe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Qe){const Ot="start"==Qe?this._onStartFns:this._onDoneFns;Ot.forEach(Qn=>Qn()),Ot.length=0}}class rn{constructor(Qe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Qe;let Ot=0,Qn=0,Dr=0;const ot=this.players.length;0==ot?queueMicrotask(()=>this._onFinish()):this.players.forEach(Pt=>{Pt.onDone(()=>{++Ot==ot&&this._onFinish()}),Pt.onDestroy(()=>{++Qn==ot&&this._onDestroy()}),Pt.onStart(()=>{++Dr==ot&&this._onStart()})}),this.totalTime=this.players.reduce((Pt,Bt)=>Math.max(Pt,Bt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Qe=>Qe()),this._onDoneFns=[])}init(){this.players.forEach(Qe=>Qe.init())}onStart(Qe){this._onStartFns.push(Qe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Qe=>Qe()),this._onStartFns=[])}onDone(Qe){this._onDoneFns.push(Qe)}onDestroy(Qe){this._onDestroyFns.push(Qe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Qe=>Qe.play())}pause(){this.players.forEach(Qe=>Qe.pause())}restart(){this.players.forEach(Qe=>Qe.restart())}finish(){this._onFinish(),this.players.forEach(Qe=>Qe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Qe=>Qe.destroy()),this._onDestroyFns.forEach(Qe=>Qe()),this._onDestroyFns=[])}reset(){this.players.forEach(Qe=>Qe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Qe){const Ot=Qe*this.totalTime;this.players.forEach(Qn=>{const Dr=Qn.totalTime?Math.min(1,Ot/Qn.totalTime):1;Qn.setPosition(Dr)})}getPosition(){const Qe=this.players.reduce((Ot,Qn)=>null===Ot||Qn.totalTime>Ot.totalTime?Qn:Ot,null);return null!=Qe?Qe.getPosition():0}beforeDestroy(){this.players.forEach(Qe=>{Qe.beforeDestroy&&Qe.beforeDestroy()})}triggerCallback(Qe){const Ot="start"==Qe?this._onStartFns:this._onDoneFns;Ot.forEach(Qn=>Qn()),Ot.length=0}}const Ut="!"},8008:(Qt,Ke,$)=>{$.r(Ke),$.d(Ke,{AnimationDriver:()=>Tn,NoopAnimationDriver:()=>as,\u0275Animation:()=>kn,\u0275AnimationEngine:()=>Cr,\u0275AnimationRenderer:()=>yr,\u0275AnimationRendererFactory:()=>co,\u0275AnimationStyleNormalizer:()=>wn,\u0275BaseAnimationRenderer:()=>Hi,\u0275NoopAnimationStyleNormalizer:()=>Zt,\u0275WebAnimationsDriver:()=>Ji,\u0275WebAnimationsPlayer:()=>vo,\u0275WebAnimationsStyleNormalizer:()=>ai,\u0275allowPreviousPlayerStylesMerge:()=>tt,\u0275camelCaseToDashCase:()=>Ie,\u0275containsElement:()=>Xi,\u0275createEngine:()=>Xn,\u0275getParentElement:()=>Tr,\u0275invokeQuery:()=>rr,\u0275normalizeKeyframes:()=>Vi,\u0275validateStyleProperty:()=>Br,\u0275validateWebAnimatableStyleProperty:()=>st});var g=$(9969),re=$(4438);function pe(Z){return new re.wOt(3e3,!1)}const ne=new Set(["-moz-outline-radius","-moz-outline-radius-bottomleft","-moz-outline-radius-bottomright","-moz-outline-radius-topleft","-moz-outline-radius-topright","-ms-grid-columns","-ms-grid-rows","-webkit-line-clamp","-webkit-text-fill-color","-webkit-text-stroke","-webkit-text-stroke-color","accent-color","all","backdrop-filter","background","background-color","background-position","background-size","block-size","border","border-block-end","border-block-end-color","border-block-end-width","border-block-start","border-block-start-color","border-block-start-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-width","border-color","border-end-end-radius","border-end-start-radius","border-image-outset","border-image-slice","border-image-width","border-inline-end","border-inline-end-color","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-width","border-left","border-left-color","border-left-width","border-radius","border-right","border-right-color","border-right-width","border-start-end-radius","border-start-start-radius","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-width","border-width","bottom","box-shadow","caret-color","clip","clip-path","color","column-count","column-gap","column-rule","column-rule-color","column-rule-width","column-width","columns","filter","flex","flex-basis","flex-grow","flex-shrink","font","font-size","font-size-adjust","font-stretch","font-variation-settings","font-weight","gap","grid-column-gap","grid-gap","grid-row-gap","grid-template-columns","grid-template-rows","height","inline-size","input-security","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","left","letter-spacing","line-clamp","line-height","margin","margin-block-end","margin-block-start","margin-bottom","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","mask","mask-border","mask-position","mask-size","max-block-size","max-height","max-inline-size","max-lines","max-width","min-block-size","min-height","min-inline-size","min-width","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","outline","outline-color","outline-offset","outline-width","padding","padding-block-end","padding-block-start","padding-bottom","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","perspective","perspective-origin","right","rotate","row-gap","scale","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-coordinate","scroll-snap-destination","scrollbar-color","shape-image-threshold","shape-margin","shape-outside","tab-size","text-decoration","text-decoration-color","text-decoration-thickness","text-emphasis","text-emphasis-color","text-indent","text-shadow","text-underline-offset","top","transform","transform-origin","translate","vertical-align","visibility","width","word-spacing","z-index","zoom"]);function se(Z){switch(Z.length){case 0:return new g.sf;case 1:return Z[0];default:return new g.ui(Z)}}function dt(Z,I,b=new Map,O=new Map){const W=[],ee=[];let Ee=-1,De=null;if(I.forEach(Ve=>{const rt=Ve.get("offset"),Ht=rt==Ee,jt=Ht&&De||new Map;Ve.forEach((Yn,Un)=>{let fn=Un,yn=Yn;if("offset"!==Un)switch(fn=Z.normalizePropertyName(fn,W),yn){case g.FX:yn=b.get(Un);break;case g.kp:yn=O.get(Un);break;default:yn=Z.normalizeStyleValue(Un,fn,yn,W)}jt.set(fn,yn)}),Ht||ee.push(jt),De=jt,Ee=rt}),W.length)throw function Qe(Z){return new re.wOt(3502,!1)}();return ee}function wt(Z,I,b,O){switch(I){case"start":Z.onStart(()=>O(b&&cn(b,"start",Z)));break;case"done":Z.onDone(()=>O(b&&cn(b,"done",Z)));break;case"destroy":Z.onDestroy(()=>O(b&&cn(b,"destroy",Z)))}}function cn(Z,I,b){const ee=xt(Z.element,Z.triggerName,Z.fromState,Z.toState,I||Z.phaseName,b.totalTime??Z.totalTime,!!b.disabled),Ee=Z._data;return null!=Ee&&(ee._data=Ee),ee}function xt(Z,I,b,O,W="",ee=0,Ee){return{element:Z,triggerName:I,fromState:b,toState:O,phaseName:W,totalTime:ee,disabled:!!Ee}}function on(Z,I,b){let O=Z.get(I);return O||Z.set(I,O=b),O}function Gt(Z){const I=Z.indexOf(":");return[Z.substring(1,I),Z.slice(I+1)]}const $n=typeof document>"u"?null:document.documentElement;function Tr(Z){const I=Z.parentNode||Z.host||null;return I===$n?null:I}let Vn=null,fr=!1;function Br(Z){Vn||(Vn=function or(){return typeof document<"u"?document.body:null}()||{},fr=!!Vn.style&&"WebkitAppearance"in Vn.style);let I=!0;return Vn.style&&!function Li(Z){return"ebkit"==Z.substring(1,6)}(Z)&&(I=Z in Vn.style,!I&&fr&&(I="Webkit"+Z.charAt(0).toUpperCase()+Z.slice(1)in Vn.style)),I}function st(Z){return ne.has(Z)}function Xi(Z,I){for(;I;){if(I===Z)return!0;I=Tr(I)}return!1}function rr(Z,I,b){if(b)return Array.from(Z.querySelectorAll(I));const O=Z.querySelector(I);return O?[O]:[]}let as=(()=>{class Z{validateStyleProperty(b){return Br(b)}matchesElement(b,O){return!1}containsElement(b,O){return Xi(b,O)}getParentElement(b){return Tr(b)}query(b,O,W){return rr(b,O,W)}computeStyle(b,O,W){return W||""}animate(b,O,W,ee,Ee,De=[],Ve){return new g.sf(W,ee)}static{this.\u0275fac=function(O){return new(O||Z)}}static{this.\u0275prov=re.jDH({token:Z,factory:Z.\u0275fac})}}return Z})();class Tn{static{this.NOOP=new as}}class wn{}class Zt{normalizePropertyName(I,b){return I}normalizeStyleValue(I,b,O,W){return O}}const Ct=1e3,Nn="ng-enter",hr="ng-leave",xr="ng-trigger",$t=".ng-trigger",Ei="ng-animating",Rn=".ng-animating";function On(Z){if("number"==typeof Z)return Z;const I=Z.match(/^(-?[\.\d]+)(m?s)/);return!I||I.length<2?0:si(parseFloat(I[1]),I[2])}function si(Z,I){return"s"===I?Z*Ct:Z}function vr(Z,I,b){return Z.hasOwnProperty("duration")?Z:function Mr(Z,I,b){let W,ee=0,Ee="";if("string"==typeof Z){const De=Z.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===De)return I.push(pe()),{duration:0,delay:0,easing:""};W=si(parseFloat(De[1]),De[2]);const Ve=De[3];null!=Ve&&(ee=si(parseFloat(Ve),De[4]));const rt=De[5];rt&&(Ee=rt)}else W=Z;if(!b){let De=!1,Ve=I.length;W<0&&(I.push(function Se(){return new re.wOt(3100,!1)}()),De=!0),ee<0&&(I.push(function ge(){return new re.wOt(3101,!1)}()),De=!0),De&&I.splice(Ve,0,pe())}return{duration:W,delay:ee,easing:Ee}}(Z,I,b)}function Vi(Z){return Z.length?Z[0]instanceof Map?Z:Z.map(I=>new Map(Object.entries(I))):[]}function oi(Z){return Array.isArray(Z)?new Map(...Z):new Map(Z)}function Zn(Z,I,b){I.forEach((O,W)=>{const ee=ue(W);b&&!b.has(W)&&b.set(W,Z.style[ee]),Z.style[ee]=O})}function G(Z,I){I.forEach((b,O)=>{const W=ue(O);Z.style[W]=""})}function Ne(Z){return Array.isArray(Z)?1==Z.length?Z[0]:(0,g.K2)(Z):Z}const be=new RegExp("{{\\s*(.+?)\\s*}}","g");function ft(Z){let I=[];if("string"==typeof Z){let b;for(;b=be.exec(Z);)I.push(b[1]);be.lastIndex=0}return I}function Vt(Z,I,b){const O=`${Z}`,W=O.replace(be,(ee,Ee)=>{let De=I[Ee];return null==De&&(b.push(function it(Z){return new re.wOt(3003,!1)}()),De=""),De.toString()});return W==O?Z:W}const oe=/-+([a-z0-9])/g;function ue(Z){return Z.replace(oe,(...I)=>I[1].toUpperCase())}function Ie(Z){return Z.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tt(Z,I){return 0===Z||0===I}function bt(Z,I,b){switch(I.type){case g.If.Trigger:return Z.visitTrigger(I,b);case g.If.State:return Z.visitState(I,b);case g.If.Transition:return Z.visitTransition(I,b);case g.If.Sequence:return Z.visitSequence(I,b);case g.If.Group:return Z.visitGroup(I,b);case g.If.Animate:return Z.visitAnimate(I,b);case g.If.Keyframes:return Z.visitKeyframes(I,b);case g.If.Style:return Z.visitStyle(I,b);case g.If.Reference:return Z.visitReference(I,b);case g.If.AnimateChild:return Z.visitAnimateChild(I,b);case g.If.AnimateRef:return Z.visitAnimateRef(I,b);case g.If.Query:return Z.visitQuery(I,b);case g.If.Stagger:return Z.visitStagger(I,b);default:throw function He(Z){return new re.wOt(3004,!1)}()}}function Pn(Z,I){return window.getComputedStyle(Z)[I]}const ir=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ai extends wn{normalizePropertyName(I,b){return ue(I)}normalizeStyleValue(I,b,O,W){let ee="";const Ee=O.toString().trim();if(ir.has(b)&&0!==O&&"0"!==O)if("number"==typeof O)ee="px";else{const De=O.match(/^[+-]?[\d\.]+([a-z]*)$/);De&&0==De[1].length&&W.push(function he(Z,I){return new re.wOt(3005,!1)}())}return Ee+ee}}const js="*";const Ms=new Set(["true","1"]),Ni=new Set(["false","0"]);function qe(Z,I){const b=Ms.has(Z)||Ni.has(Z),O=Ms.has(I)||Ni.has(I);return(W,ee)=>{let Ee=Z==js||Z==W,De=I==js||I==ee;return!Ee&&b&&"boolean"==typeof W&&(Ee=W?Ms.has(Z):Ni.has(Z)),!De&&O&&"boolean"==typeof ee&&(De=ee?Ms.has(I):Ni.has(I)),Ee&&De}}const lt=new RegExp("s*:selfs*,?","g");function Lt(Z,I,b,O){return new an(Z).build(I,b,O)}class an{constructor(I){this._driver=I}build(I,b,O){const W=new Er(b);return this._resetContextStyleTimingState(W),bt(this,Ne(I),W)}_resetContextStyleTimingState(I){I.currentQuerySelector="",I.collectedStyles=new Map,I.collectedStyles.set("",new Map),I.currentTime=0}visitTrigger(I,b){let O=b.queryCount=0,W=b.depCount=0;const ee=[],Ee=[];return"@"==I.name.charAt(0)&&b.errors.push(function _e(){return new re.wOt(3006,!1)}()),I.definitions.forEach(De=>{if(this._resetContextStyleTimingState(b),De.type==g.If.State){const Ve=De,rt=Ve.name;rt.toString().split(/\s*,\s*/).forEach(Ht=>{Ve.name=Ht,ee.push(this.visitState(Ve,b))}),Ve.name=rt}else if(De.type==g.If.Transition){const Ve=this.visitTransition(De,b);O+=Ve.queryCount,W+=Ve.depCount,Ee.push(Ve)}else b.errors.push(function ze(){return new re.wOt(3007,!1)}())}),{type:g.If.Trigger,name:I.name,states:ee,transitions:Ee,queryCount:O,depCount:W,options:null}}visitState(I,b){const O=this.visitStyle(I.styles,b),W=I.options&&I.options.params||null;if(O.containsDynamicStyles){const ee=new Set,Ee=W||{};O.styles.forEach(De=>{De instanceof Map&&De.forEach(Ve=>{ft(Ve).forEach(rt=>{Ee.hasOwnProperty(rt)||ee.add(rt)})})}),ee.size&&b.errors.push(function nt(Z,I){return new re.wOt(3008,!1)}(0,ee.values()))}return{type:g.If.State,name:I.name,style:O,options:W?{params:W}:null}}visitTransition(I,b){b.queryCount=0,b.depCount=0;const O=bt(this,Ne(I.animation),b),W=function Jn(Z,I){const b=[];return"string"==typeof Z?Z.split(/\s*,\s*/).forEach(O=>function ro(Z,I,b){if(":"==Z[0]){const Ve=function Ps(Z,I){switch(Z){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(b,O)=>parseFloat(O)>parseFloat(b);case":decrement":return(b,O)=>parseFloat(O)<parseFloat(b);default:return I.push(function It(Z){return new re.wOt(3016,!1)}()),"* => *"}}(Z,b);if("function"==typeof Ve)return void I.push(Ve);Z=Ve}const O=Z.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==O||O.length<4)return b.push(function pt(Z){return new re.wOt(3015,!1)}()),I;const W=O[1],ee=O[2],Ee=O[3];I.push(qe(W,Ee)),"<"==ee[0]&&(W!=js||Ee!=js)&&I.push(qe(Ee,W))}(O,b,I)):b.push(Z),b}(I.expr,b.errors);return{type:g.If.Transition,matchers:W,animation:O,queryCount:b.queryCount,depCount:b.depCount,options:Ii(I.options)}}visitSequence(I,b){return{type:g.If.Sequence,steps:I.steps.map(O=>bt(this,O,b)),options:Ii(I.options)}}visitGroup(I,b){const O=b.currentTime;let W=0;const ee=I.steps.map(Ee=>{b.currentTime=O;const De=bt(this,Ee,b);return W=Math.max(W,b.currentTime),De});return b.currentTime=W,{type:g.If.Group,steps:ee,options:Ii(I.options)}}visitAnimate(I,b){const O=function Ns(Z,I){if(Z.hasOwnProperty("duration"))return Z;if("number"==typeof Z)return $s(vr(Z,I).duration,0,"");const b=Z;if(b.split(/\s+/).some(ee=>"{"==ee.charAt(0)&&"{"==ee.charAt(1))){const ee=$s(0,0,"");return ee.dynamic=!0,ee.strValue=b,ee}const W=vr(b,I);return $s(W.duration,W.delay,W.easing)}(I.timings,b.errors);b.currentAnimateTimings=O;let W,ee=I.styles?I.styles:(0,g.iF)({});if(ee.type==g.If.Keyframes)W=this.visitKeyframes(ee,b);else{let Ee=I.styles,De=!1;if(!Ee){De=!0;const rt={};O.easing&&(rt.easing=O.easing),Ee=(0,g.iF)(rt)}b.currentTime+=O.duration+O.delay;const Ve=this.visitStyle(Ee,b);Ve.isEmptyStep=De,W=Ve}return b.currentAnimateTimings=null,{type:g.If.Animate,timings:O,style:W,options:null}}visitStyle(I,b){const O=this._makeStyleAst(I,b);return this._validateStyleAst(O,b),O}_makeStyleAst(I,b){const O=[],W=Array.isArray(I.styles)?I.styles:[I.styles];for(let De of W)"string"==typeof De?De===g.kp?O.push(De):b.errors.push(new re.wOt(3002,!1)):O.push(new Map(Object.entries(De)));let ee=!1,Ee=null;return O.forEach(De=>{if(De instanceof Map&&(De.has("easing")&&(Ee=De.get("easing"),De.delete("easing")),!ee))for(let Ve of De.values())if(Ve.toString().indexOf("{{")>=0){ee=!0;break}}),{type:g.If.Style,styles:O,easing:Ee,offset:I.offset,containsDynamicStyles:ee,options:null}}_validateStyleAst(I,b){const O=b.currentAnimateTimings;let W=b.currentTime,ee=b.currentTime;O&&ee>0&&(ee-=O.duration+O.delay),I.styles.forEach(Ee=>{"string"!=typeof Ee&&Ee.forEach((De,Ve)=>{const rt=b.collectedStyles.get(b.currentQuerySelector),Ht=rt.get(Ve);let jt=!0;Ht&&(ee!=W&&ee>=Ht.startTime&&W<=Ht.endTime&&(b.errors.push(function Ft(Z,I,b,O,W){return new re.wOt(3010,!1)}()),jt=!1),ee=Ht.startTime),jt&&rt.set(Ve,{startTime:ee,endTime:W}),b.options&&function ae(Z,I,b){const O=I.params||{},W=ft(Z);W.length&&W.forEach(ee=>{O.hasOwnProperty(ee)||b.push(function Pe(Z){return new re.wOt(3001,!1)}())})}(De,b.options,b.errors)})})}visitKeyframes(I,b){const O={type:g.If.Keyframes,styles:[],options:null};if(!b.currentAnimateTimings)return b.errors.push(function Yt(){return new re.wOt(3011,!1)}()),O;let ee=0;const Ee=[];let De=!1,Ve=!1,rt=0;const Ht=I.steps.map(gr=>{const pi=this._makeStyleAst(gr,b);let gi=null!=pi.offset?pi.offset:function lr(Z){if("string"==typeof Z)return null;let I=null;if(Array.isArray(Z))Z.forEach(b=>{if(b instanceof Map&&b.has("offset")){const O=b;I=parseFloat(O.get("offset")),O.delete("offset")}});else if(Z instanceof Map&&Z.has("offset")){const b=Z;I=parseFloat(b.get("offset")),b.delete("offset")}return I}(pi.styles),jn=0;return null!=gi&&(ee++,jn=pi.offset=gi),Ve=Ve||jn<0||jn>1,De=De||jn<rt,rt=jn,Ee.push(jn),pi});Ve&&b.errors.push(function Xt(){return new re.wOt(3012,!1)}()),De&&b.errors.push(function zn(){return new re.wOt(3200,!1)}());const jt=I.steps.length;let Yn=0;ee>0&&ee<jt?b.errors.push(function Mn(){return new re.wOt(3202,!1)}()):0==ee&&(Yn=1/(jt-1));const Un=jt-1,fn=b.currentTime,yn=b.currentAnimateTimings,Ar=yn.duration;return Ht.forEach((gr,pi)=>{const gi=Yn>0?pi==Un?1:Yn*pi:Ee[pi],jn=gi*Ar;b.currentTime=fn+yn.delay+jn,yn.duration=jn,this._validateStyleAst(gr,b),gr.offset=gi,O.styles.push(gr)}),O}visitReference(I,b){return{type:g.If.Reference,animation:bt(this,Ne(I.animation),b),options:Ii(I.options)}}visitAnimateChild(I,b){return b.depCount++,{type:g.If.AnimateChild,options:Ii(I.options)}}visitAnimateRef(I,b){return{type:g.If.AnimateRef,animation:this.visitReference(I.animation,b),options:Ii(I.options)}}visitQuery(I,b){const O=b.currentQuerySelector,W=I.options||{};b.queryCount++,b.currentQuery=I;const[ee,Ee]=function xn(Z){const I=!!Z.split(/\s*,\s*/).find(b=>":self"==b);return I&&(Z=Z.replace(lt,"")),Z=Z.replace(/@\*/g,$t).replace(/@\w+/g,b=>$t+"-"+b.slice(1)).replace(/:animating/g,Rn),[Z,I]}(I.selector);b.currentQuerySelector=O.length?O+" "+ee:ee,on(b.collectedStyles,b.currentQuerySelector,new Map);const De=bt(this,Ne(I.animation),b);return b.currentQuery=null,b.currentQuerySelector=O,{type:g.If.Query,selector:ee,limit:W.limit||0,optional:!!W.optional,includeSelf:Ee,animation:De,originalSelector:I.selector,options:Ii(I.options)}}visitStagger(I,b){b.currentQuery||b.errors.push(function mt(){return new re.wOt(3013,!1)}());const O="full"===I.timings?{duration:0,delay:0,easing:"full"}:vr(I.timings,b.errors,!0);return{type:g.If.Stagger,animation:bt(this,Ne(I.animation),b),timings:O,options:null}}}class Er{constructor(I){this.errors=I,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ii(Z){return Z?(Z={...Z}).params&&(Z.params=function hn(Z){return Z?{...Z}:null}(Z.params)):Z={},Z}function $s(Z,I,b){return{duration:Z,delay:I,easing:b}}function Gn(Z,I,b,O,W,ee,Ee=null,De=!1){return{type:1,element:Z,keyframes:I,preStyleProps:b,postStyleProps:O,duration:W,delay:ee,totalTime:W+ee,easing:Ee,subTimeline:De}}class Yi{constructor(){this._map=new Map}get(I){return this._map.get(I)||[]}append(I,b){let O=this._map.get(I);O||this._map.set(I,O=[]),O.push(...b)}has(I){return this._map.has(I)}clear(){this._map.clear()}}const us=new RegExp(":enter","g"),ni=new RegExp(":leave","g");function wr(Z,I,b,O,W,ee=new Map,Ee=new Map,De,Ve,rt=[]){return(new io).buildKeyframes(Z,I,b,O,W,ee,Ee,De,Ve,rt)}class io{buildKeyframes(I,b,O,W,ee,Ee,De,Ve,rt,Ht=[]){rt=rt||new Yi;const jt=new _i(I,b,rt,W,ee,Ht,[]);jt.options=Ve;const Yn=Ve.delay?On(Ve.delay):0;jt.currentTimeline.delayNextStep(Yn),jt.currentTimeline.setStyles([Ee],null,jt.errors,Ve),bt(this,O,jt);const Un=jt.timelines.filter(fn=>fn.containsAnimation());if(Un.length&&De.size){let fn;for(let yn=Un.length-1;yn>=0;yn--){const Ar=Un[yn];if(Ar.element===b){fn=Ar;break}}fn&&!fn.allowOnlyTimelineStyles()&&fn.setStyles([De],null,jt.errors,Ve)}return Un.length?Un.map(fn=>fn.buildKeyframes()):[Gn(b,[],[],[],0,Yn,"",!1)]}visitTrigger(I,b){}visitState(I,b){}visitTransition(I,b){}visitAnimateChild(I,b){const O=b.subInstructions.get(b.element);if(O){const W=b.createSubContext(I.options),ee=b.currentTimeline.currentTime,Ee=this._visitSubInstructions(O,W,W.options);ee!=Ee&&b.transformIntoNewTimeline(Ee)}b.previousNode=I}visitAnimateRef(I,b){const O=b.createSubContext(I.options);O.transformIntoNewTimeline(),this._applyAnimationRefDelays([I.options,I.animation.options],b,O),this.visitReference(I.animation,O),b.transformIntoNewTimeline(O.currentTimeline.currentTime),b.previousNode=I}_applyAnimationRefDelays(I,b,O){for(const W of I){const ee=W?.delay;if(ee){const Ee="number"==typeof ee?ee:On(Vt(ee,W?.params??{},b.errors));O.delayNextStep(Ee)}}}_visitSubInstructions(I,b,O){let ee=b.currentTimeline.currentTime;const Ee=null!=O.duration?On(O.duration):null,De=null!=O.delay?On(O.delay):null;return 0!==Ee&&I.forEach(Ve=>{const rt=b.appendInstructionToTimeline(Ve,Ee,De);ee=Math.max(ee,rt.duration+rt.delay)}),ee}visitReference(I,b){b.updateOptions(I.options,!0),bt(this,I.animation,b),b.previousNode=I}visitSequence(I,b){const O=b.subContextCount;let W=b;const ee=I.options;if(ee&&(ee.params||ee.delay)&&(W=b.createSubContext(ee),W.transformIntoNewTimeline(),null!=ee.delay)){W.previousNode.type==g.If.Style&&(W.currentTimeline.snapshotCurrentStyles(),W.previousNode=rs);const Ee=On(ee.delay);W.delayNextStep(Ee)}I.steps.length&&(I.steps.forEach(Ee=>bt(this,Ee,W)),W.currentTimeline.applyStylesToKeyframe(),W.subContextCount>O&&W.transformIntoNewTimeline()),b.previousNode=I}visitGroup(I,b){const O=[];let W=b.currentTimeline.currentTime;const ee=I.options&&I.options.delay?On(I.options.delay):0;I.steps.forEach(Ee=>{const De=b.createSubContext(I.options);ee&&De.delayNextStep(ee),bt(this,Ee,De),W=Math.max(W,De.currentTimeline.currentTime),O.push(De.currentTimeline)}),O.forEach(Ee=>b.currentTimeline.mergeTimelineCollectedStyles(Ee)),b.transformIntoNewTimeline(W),b.previousNode=I}_visitTiming(I,b){if(I.dynamic){const O=I.strValue;return vr(b.params?Vt(O,b.params,b.errors):O,b.errors)}return{duration:I.duration,delay:I.delay,easing:I.easing}}visitAnimate(I,b){const O=b.currentAnimateTimings=this._visitTiming(I.timings,b),W=b.currentTimeline;O.delay&&(b.incrementTime(O.delay),W.snapshotCurrentStyles());const ee=I.style;ee.type==g.If.Keyframes?this.visitKeyframes(ee,b):(b.incrementTime(O.duration),this.visitStyle(ee,b),W.applyStylesToKeyframe()),b.currentAnimateTimings=null,b.previousNode=I}visitStyle(I,b){const O=b.currentTimeline,W=b.currentAnimateTimings;!W&&O.hasCurrentStyleProperties()&&O.forwardFrame();const ee=W&&W.easing||I.easing;I.isEmptyStep?O.applyEmptyStep(ee):O.setStyles(I.styles,ee,b.errors,b.options),b.previousNode=I}visitKeyframes(I,b){const O=b.currentAnimateTimings,W=b.currentTimeline.duration,ee=O.duration,De=b.createSubContext().currentTimeline;De.easing=O.easing,I.styles.forEach(Ve=>{De.forwardTime((Ve.offset||0)*ee),De.setStyles(Ve.styles,Ve.easing,b.errors,b.options),De.applyStylesToKeyframe()}),b.currentTimeline.mergeTimelineCollectedStyles(De),b.transformIntoNewTimeline(W+ee),b.previousNode=I}visitQuery(I,b){const O=b.currentTimeline.currentTime,W=I.options||{},ee=W.delay?On(W.delay):0;ee&&(b.previousNode.type===g.If.Style||0==O&&b.currentTimeline.hasCurrentStyleProperties())&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=rs);let Ee=O;const De=b.invokeQuery(I.selector,I.originalSelector,I.limit,I.includeSelf,!!W.optional,b.errors);b.currentQueryTotal=De.length;let Ve=null;De.forEach((rt,Ht)=>{b.currentQueryIndex=Ht;const jt=b.createSubContext(I.options,rt);ee&&jt.delayNextStep(ee),rt===b.element&&(Ve=jt.currentTimeline),bt(this,I.animation,jt),jt.currentTimeline.applyStylesToKeyframe(),Ee=Math.max(Ee,jt.currentTimeline.currentTime)}),b.currentQueryIndex=0,b.currentQueryTotal=0,b.transformIntoNewTimeline(Ee),Ve&&(b.currentTimeline.mergeTimelineCollectedStyles(Ve),b.currentTimeline.snapshotCurrentStyles()),b.previousNode=I}visitStagger(I,b){const O=b.parentContext,W=b.currentTimeline,ee=I.timings,Ee=Math.abs(ee.duration),De=Ee*(b.currentQueryTotal-1);let Ve=Ee*b.currentQueryIndex;switch(ee.duration<0?"reverse":ee.easing){case"reverse":Ve=De-Ve;break;case"full":Ve=O.currentStaggerTime}const Ht=b.currentTimeline;Ve&&Ht.delayNextStep(Ve);const jt=Ht.currentTime;bt(this,I.animation,b),b.previousNode=I,O.currentStaggerTime=W.currentTime-jt+(W.startTime-O.currentTimeline.startTime)}}const rs={};class _i{constructor(I,b,O,W,ee,Ee,De,Ve){this._driver=I,this.element=b,this.subInstructions=O,this._enterClassName=W,this._leaveClassName=ee,this.errors=Ee,this.timelines=De,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ve||new Bi(this._driver,b,0),De.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(I,b){if(!I)return;const O=I;let W=this.options;null!=O.duration&&(W.duration=On(O.duration)),null!=O.delay&&(W.delay=On(O.delay));const ee=O.params;if(ee){let Ee=W.params;Ee||(Ee=this.options.params={}),Object.keys(ee).forEach(De=>{(!b||!Ee.hasOwnProperty(De))&&(Ee[De]=Vt(ee[De],Ee,this.errors))})}}_copyOptions(){const I={};if(this.options){const b=this.options.params;if(b){const O=I.params={};Object.keys(b).forEach(W=>{O[W]=b[W]})}}return I}createSubContext(I=null,b,O){const W=b||this.element,ee=new _i(this._driver,W,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(W,O||0));return ee.previousNode=this.previousNode,ee.currentAnimateTimings=this.currentAnimateTimings,ee.options=this._copyOptions(),ee.updateOptions(I),ee.currentQueryIndex=this.currentQueryIndex,ee.currentQueryTotal=this.currentQueryTotal,ee.parentContext=this,this.subContextCount++,ee}transformIntoNewTimeline(I){return this.previousNode=rs,this.currentTimeline=this.currentTimeline.fork(this.element,I),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(I,b,O){const W={duration:b??I.duration,delay:this.currentTimeline.currentTime+(O??0)+I.delay,easing:""},ee=new kr(this._driver,I.element,I.keyframes,I.preStyleProps,I.postStyleProps,W,I.stretchStartingKeyframe);return this.timelines.push(ee),W}incrementTime(I){this.currentTimeline.forwardTime(this.currentTimeline.duration+I)}delayNextStep(I){I>0&&this.currentTimeline.delayNextStep(I)}invokeQuery(I,b,O,W,ee,Ee){let De=[];if(W&&De.push(this.element),I.length>0){I=(I=I.replace(us,"."+this._enterClassName)).replace(ni,"."+this._leaveClassName);let rt=this._driver.query(this.element,I,1!=O);0!==O&&(rt=O<0?rt.slice(rt.length+O,rt.length):rt.slice(0,O)),De.push(...rt)}return!ee&&0==De.length&&Ee.push(function Ze(Z){return new re.wOt(3014,!1)}()),De}}class Bi{constructor(I,b,O,W){this._driver=I,this.element=b,this.startTime=O,this._elementTimelineStylesLookup=W,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(b),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(b,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(I){const b=1===this._keyframes.size&&this._pendingStyles.size;this.duration||b?(this.forwardTime(this.currentTime+I),b&&this.snapshotCurrentStyles()):this.startTime+=I}fork(I,b){return this.applyStylesToKeyframe(),new Bi(this._driver,I,b||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(I){this.applyStylesToKeyframe(),this.duration=I,this._loadKeyframe()}_updateStyle(I,b){this._localTimelineStyles.set(I,b),this._globalTimelineStyles.set(I,b),this._styleSummary.set(I,{time:this.currentTime,value:b})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(I){I&&this._previousKeyframe.set("easing",I);for(let[b,O]of this._globalTimelineStyles)this._backFill.set(b,O||g.kp),this._currentKeyframe.set(b,g.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(I,b,O,W){b&&this._previousKeyframe.set("easing",b);const ee=W&&W.params||{},Ee=function bn(Z,I){const b=new Map;let O;return Z.forEach(W=>{if("*"===W){O??=I.keys();for(let ee of O)b.set(ee,g.kp)}else for(let[ee,Ee]of W)b.set(ee,Ee)}),b}(I,this._globalTimelineStyles);for(let[De,Ve]of Ee){const rt=Vt(Ve,ee,O);this._pendingStyles.set(De,rt),this._localTimelineStyles.has(De)||this._backFill.set(De,this._globalTimelineStyles.get(De)??g.kp),this._updateStyle(De,rt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((I,b)=>{this._currentKeyframe.set(b,I)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((I,b)=>{this._currentKeyframe.has(b)||this._currentKeyframe.set(b,I)}))}snapshotCurrentStyles(){for(let[I,b]of this._localTimelineStyles)this._pendingStyles.set(I,b),this._updateStyle(I,b)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const I=[];for(let b in this._currentKeyframe)I.push(b);return I}mergeTimelineCollectedStyles(I){I._styleSummary.forEach((b,O)=>{const W=this._styleSummary.get(O);(!W||b.time>W.time)&&this._updateStyle(O,b.value)})}buildKeyframes(){this.applyStylesToKeyframe();const I=new Set,b=new Set,O=1===this._keyframes.size&&0===this.duration;let W=[];this._keyframes.forEach((De,Ve)=>{const rt=new Map([...this._backFill,...De]);rt.forEach((Ht,jt)=>{Ht===g.FX?I.add(jt):Ht===g.kp&&b.add(jt)}),O||rt.set("offset",Ve/this.duration),W.push(rt)});const ee=[...I.values()],Ee=[...b.values()];if(O){const De=W[0],Ve=new Map(De);De.set("offset",0),Ve.set("offset",1),W=[De,Ve]}return Gn(this.element,W,ee,Ee,this.duration,this.startTime,this.easing,!1)}}class kr extends Bi{constructor(I,b,O,W,ee,Ee,De=!1){super(I,b,Ee.delay),this.keyframes=O,this.preStyleProps=W,this.postStyleProps=ee,this._stretchStartingKeyframe=De,this.timings={duration:Ee.duration,delay:Ee.delay,easing:Ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let I=this.keyframes,{delay:b,duration:O,easing:W}=this.timings;if(this._stretchStartingKeyframe&&b){const ee=[],Ee=O+b,De=b/Ee,Ve=new Map(I[0]);Ve.set("offset",0),ee.push(Ve);const rt=new Map(I[0]);rt.set("offset",An(De)),ee.push(rt);const Ht=I.length-1;for(let jt=1;jt<=Ht;jt++){let Yn=new Map(I[jt]);const Un=Yn.get("offset");Yn.set("offset",An((b+Un*O)/Ee)),ee.push(Yn)}O=Ee,b=0,W="",I=ee}return Gn(this.element,I,this.preStyleProps,this.postStyleProps,O,b,W,!0)}}function An(Z,I=3){const b=Math.pow(10,I-1);return Math.round(Z*b)/b}function jr(Z,I,b,O,W,ee,Ee,De,Ve,rt,Ht,jt,Yn){return{type:0,element:Z,triggerName:I,isRemovalTransition:W,fromState:b,fromStyles:ee,toState:O,toStyles:Ee,timelines:De,queriedElements:Ve,preStyleProps:rt,postStyleProps:Ht,totalTime:jt,errors:Yn}}const is={};class so{constructor(I,b,O){this._triggerName=I,this.ast=b,this._stateStyles=O}match(I,b,O,W){return function Zo(Z,I,b,O,W){return Z.some(ee=>ee(I,b,O,W))}(this.ast.matchers,I,b,O,W)}buildStyles(I,b,O){let W=this._stateStyles.get("*");return void 0!==I&&(W=this._stateStyles.get(I?.toString())||W),W?W.buildStyles(b,O):new Map}build(I,b,O,W,ee,Ee,De,Ve,rt,Ht){const jt=[],Yn=this.ast.options&&this.ast.options.params||is,fn=this.buildStyles(O,De&&De.params||is,jt),yn=Ve&&Ve.params||is,Ar=this.buildStyles(W,yn,jt),gr=new Set,pi=new Map,gi=new Map,jn="void"===W,lo={params:aa(yn,Yn),delay:this.ast.options?.delay},zi=Ht?[]:wr(I,b,this.ast.animation,ee,Ee,fn,Ar,lo,rt,jt);let br=0;return zi.forEach(cs=>{br=Math.max(cs.duration+cs.delay,br)}),jt.length?jr(b,this._triggerName,O,W,jn,fn,Ar,[],[],pi,gi,br,jt):(zi.forEach(cs=>{const ho=cs.element,Eo=on(pi,ho,new Set);cs.preStyleProps.forEach(Fs=>Eo.add(Fs));const ko=on(gi,ho,new Set);cs.postStyleProps.forEach(Fs=>ko.add(Fs)),ho!==b&&gr.add(ho)}),jr(b,this._triggerName,O,W,jn,fn,Ar,zi,[...gr.values()],pi,gi,br))}}function aa(Z,I){const b={...I};return Object.entries(Z).forEach(([O,W])=>{null!=W&&(b[O]=W)}),b}class tn{constructor(I,b,O){this.styles=I,this.defaultParams=b,this.normalizer=O}buildStyles(I,b){const O=new Map,W=aa(I,this.defaultParams);return this.styles.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((Ee,De)=>{Ee&&(Ee=Vt(Ee,W,b));const Ve=this.normalizer.normalizePropertyName(De,b);Ee=this.normalizer.normalizeStyleValue(De,Ve,Ee,b),O.set(De,Ee)})}),O}}class Is{constructor(I,b,O){this.name=I,this.ast=b,this._normalizer=O,this.transitionFactories=[],this.states=new Map,b.states.forEach(W=>{this.states.set(W.name,new tn(W.style,W.options&&W.options.params||{},O))}),Ci(this.states,"true","1"),Ci(this.states,"false","0"),b.transitions.forEach(W=>{this.transitionFactories.push(new so(I,W,this.states))}),this.fallbackTransition=function ar(Z,I,b){return new so(Z,{type:g.If.Transition,animation:{type:g.If.Sequence,steps:[],options:null},matchers:[(Ee,De)=>!0],options:null,queryCount:0,depCount:0},I)}(I,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(I,b,O,W){return this.transitionFactories.find(Ee=>Ee.match(I,b,O,W))||null}matchStyles(I,b,O){return this.fallbackTransition.buildStyles(I,b,O)}}function Ci(Z,I,b){Z.has(I)?Z.has(b)||Z.set(b,Z.get(I)):Z.has(b)&&Z.set(I,Z.get(b))}const Jo=new Yi;class Mo{constructor(I,b,O){this.bodyNode=I,this._driver=b,this._normalizer=O,this._animations=new Map,this._playersById=new Map,this.players=[]}register(I,b){const O=[],ee=Lt(this._driver,b,O,[]);if(O.length)throw function Ot(Z){return new re.wOt(3503,!1)}();this._animations.set(I,ee)}_buildPlayer(I,b,O){const W=I.element,ee=dt(this._normalizer,I.keyframes,b,O);return this._driver.animate(W,ee,I.duration,I.delay,I.easing,[],!0)}create(I,b,O={}){const W=[],ee=this._animations.get(I);let Ee;const De=new Map;if(ee?(Ee=wr(this._driver,b,ee,Nn,hr,new Map,new Map,O,Jo,W),Ee.forEach(Ht=>{const jt=on(De,Ht.element,new Map);Ht.postStyleProps.forEach(Yn=>jt.set(Yn,null))})):(W.push(function Qn(){return new re.wOt(3300,!1)}()),Ee=[]),W.length)throw function Dr(Z){return new re.wOt(3504,!1)}();De.forEach((Ht,jt)=>{Ht.forEach((Yn,Un)=>{Ht.set(Un,this._driver.computeStyle(jt,Un,g.kp))})});const rt=se(Ee.map(Ht=>{const jt=De.get(Ht.element);return this._buildPlayer(Ht,new Map,jt)}));return this._playersById.set(I,rt),rt.onDestroy(()=>this.destroy(I)),this.players.push(rt),rt}destroy(I){const b=this._getPlayer(I);b.destroy(),this._playersById.delete(I);const O=this.players.indexOf(b);O>=0&&this.players.splice(O,1)}_getPlayer(I){const b=this._playersById.get(I);if(!b)throw function ot(Z){return new re.wOt(3301,!1)}();return b}listen(I,b,O,W){const ee=xt(b,"","","");return wt(this._getPlayer(I),O,ee,W),()=>{}}command(I,b,O,W){if("register"==O)return void this.register(I,W[0]);if("create"==O)return void this.create(I,b,W[0]||{});const ee=this._getPlayer(I);switch(O){case"play":ee.play();break;case"pause":ee.pause();break;case"reset":ee.reset();break;case"restart":ee.restart();break;case"finish":ee.finish();break;case"init":ee.init();break;case"setPosition":ee.setPosition(parseFloat(W[0]));break;case"destroy":this.destroy(I)}}}const qr="ng-animate-queued",Oi="ng-animate-disabled",xi=[],Qr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ts={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ui="__ng_removed";class No{get params(){return this.options.params}constructor(I,b=""){this.namespaceId=b;const O=I&&I.hasOwnProperty("value");if(this.value=function ao(Z){return Z??null}(O?I.value:I),O){const{value:ee,...Ee}=I;this.options=Ee}else this.options={};this.options.params||(this.options.params={})}absorbOptions(I){const b=I.params;if(b){const O=this.options.params;Object.keys(b).forEach(W=>{null==O[W]&&(O[W]=b[W])})}}}const Fr="void",Os=new No(Fr);class _n{constructor(I,b,O){this.id=I,this.hostElement=b,this._engine=O,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+I,$i(b,this._hostClassName)}listen(I,b,O,W){if(!this._triggers.has(b))throw function Pt(Z,I){return new re.wOt(3302,!1)}();if(null==O||0==O.length)throw function Bt(Z){return new re.wOt(3303,!1)}();if(!function ps(Z){return"start"==Z||"done"==Z}(O))throw function sn(Z,I){return new re.wOt(3400,!1)}();const ee=on(this._elementListeners,I,[]),Ee={name:b,phase:O,callback:W};ee.push(Ee);const De=on(this._engine.statesByElement,I,new Map);return De.has(b)||($i(I,xr),$i(I,xr+"-"+b),De.set(b,Os)),()=>{this._engine.afterFlush(()=>{const Ve=ee.indexOf(Ee);Ve>=0&&ee.splice(Ve,1),this._triggers.has(b)||De.delete(b)})}}register(I,b){return!this._triggers.has(I)&&(this._triggers.set(I,b),!0)}_getTrigger(I){const b=this._triggers.get(I);if(!b)throw function Et(Z){return new re.wOt(3401,!1)}();return b}trigger(I,b,O,W=!0){const ee=this._getTrigger(b),Ee=new xs(this.id,b,I);let De=this._engine.statesByElement.get(I);De||($i(I,xr),$i(I,xr+"-"+b),this._engine.statesByElement.set(I,De=new Map));let Ve=De.get(b);const rt=new No(O,this.id);if(!(O&&O.hasOwnProperty("value"))&&Ve&&rt.absorbOptions(Ve.options),De.set(b,rt),Ve||(Ve=Os),rt.value!==Fr&&Ve.value===rt.value){if(!function Xr(Z,I){const b=Object.keys(Z),O=Object.keys(I);if(b.length!=O.length)return!1;for(let W=0;W<b.length;W++){const ee=b[W];if(!I.hasOwnProperty(ee)||Z[ee]!==I[ee])return!1}return!0}(Ve.params,rt.params)){const yn=[],Ar=ee.matchStyles(Ve.value,Ve.params,yn),gr=ee.matchStyles(rt.value,rt.params,yn);yn.length?this._engine.reportError(yn):this._engine.afterFlush(()=>{G(I,Ar),Zn(I,gr)})}return}const Yn=on(this._engine.playersByElement,I,[]);Yn.forEach(yn=>{yn.namespaceId==this.id&&yn.triggerName==b&&yn.queued&&yn.destroy()});let Un=ee.matchTransition(Ve.value,rt.value,I,rt.params),fn=!1;if(!Un){if(!W)return;Un=ee.fallbackTransition,fn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:I,triggerName:b,transition:Un,fromState:Ve,toState:rt,player:Ee,isFallbackTransition:fn}),fn||($i(I,qr),Ee.onStart(()=>{uo(I,qr)})),Ee.onDone(()=>{let yn=this.players.indexOf(Ee);yn>=0&&this.players.splice(yn,1);const Ar=this._engine.playersByElement.get(I);if(Ar){let gr=Ar.indexOf(Ee);gr>=0&&Ar.splice(gr,1)}}),this.players.push(Ee),Yn.push(Ee),Ee}deregister(I){this._triggers.delete(I),this._engine.statesByElement.forEach(b=>b.delete(I)),this._elementListeners.forEach((b,O)=>{this._elementListeners.set(O,b.filter(W=>W.name!=I))})}clearElementCache(I){this._engine.statesByElement.delete(I),this._elementListeners.delete(I);const b=this._engine.playersByElement.get(I);b&&(b.forEach(O=>O.destroy()),this._engine.playersByElement.delete(I))}_signalRemovalForInnerTriggers(I,b){const O=this._engine.driver.query(I,$t,!0);O.forEach(W=>{if(W[ui])return;const ee=this._engine.fetchNamespacesByElement(W);ee.size?ee.forEach(Ee=>Ee.triggerLeaveAnimation(W,b,!1,!0)):this.clearElementCache(W)}),this._engine.afterFlushAnimationsDone(()=>O.forEach(W=>this.clearElementCache(W)))}triggerLeaveAnimation(I,b,O,W){const ee=this._engine.statesByElement.get(I),Ee=new Map;if(ee){const De=[];if(ee.forEach((Ve,rt)=>{if(Ee.set(rt,Ve.value),this._triggers.has(rt)){const Ht=this.trigger(I,rt,Fr,W);Ht&&De.push(Ht)}}),De.length)return this._engine.markElementAsRemoved(this.id,I,!0,b,Ee),O&&se(De).onDone(()=>this._engine.processLeaveNode(I)),!0}return!1}prepareLeaveAnimationListeners(I){const b=this._elementListeners.get(I),O=this._engine.statesByElement.get(I);if(b&&O){const W=new Set;b.forEach(ee=>{const Ee=ee.name;if(W.has(Ee))return;W.add(Ee);const Ve=this._triggers.get(Ee).fallbackTransition,rt=O.get(Ee)||Os,Ht=new No(Fr),jt=new xs(this.id,Ee,I);this._engine.totalQueuedPlayers++,this._queue.push({element:I,triggerName:Ee,transition:Ve,fromState:rt,toState:Ht,player:jt,isFallbackTransition:!0})})}}removeNode(I,b){const O=this._engine;if(I.childElementCount&&this._signalRemovalForInnerTriggers(I,b),this.triggerLeaveAnimation(I,b,!0))return;let W=!1;if(O.totalAnimations){const ee=O.players.length?O.playersByQueriedElement.get(I):[];if(ee&&ee.length)W=!0;else{let Ee=I;for(;Ee=Ee.parentNode;)if(O.statesByElement.get(Ee)){W=!0;break}}}if(this.prepareLeaveAnimationListeners(I),W)O.markElementAsRemoved(this.id,I,!1,b);else{const ee=I[ui];(!ee||ee===Qr)&&(O.afterFlush(()=>this.clearElementCache(I)),O.destroyInnerAnimations(I),O._onRemovalComplete(I,b))}}insertNode(I,b){$i(I,this._hostClassName)}drainQueuedTransitions(I){const b=[];return this._queue.forEach(O=>{const W=O.player;if(W.destroyed)return;const ee=O.element,Ee=this._elementListeners.get(ee);Ee&&Ee.forEach(De=>{if(De.name==O.triggerName){const Ve=xt(ee,O.triggerName,O.fromState.value,O.toState.value);Ve._data=I,wt(O.player,De.phase,Ve,De.callback)}}),W.markedForDestroy?this._engine.afterFlush(()=>{W.destroy()}):b.push(O)}),this._queue=[],b.sort((O,W)=>{const ee=O.transition.ast.depCount,Ee=W.transition.ast.depCount;return 0==ee||0==Ee?ee-Ee:this._engine.driver.containsElement(O.element,W.element)?1:-1})}destroy(I){this.players.forEach(b=>b.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,I)}}class hs{_onRemovalComplete(I,b){this.onRemovalComplete(I,b)}constructor(I,b,O,W){this.bodyNode=I,this.driver=b,this._normalizer=O,this.scheduler=W,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ee,Ee)=>{}}get queuedPlayers(){const I=[];return this._namespaceList.forEach(b=>{b.players.forEach(O=>{O.queued&&I.push(O)})}),I}createNamespace(I,b){const O=new _n(I,b,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,b)?this._balanceNamespaceList(O,b):(this.newHostElements.set(b,O),this.collectEnterElement(b)),this._namespaceLookup[I]=O}_balanceNamespaceList(I,b){const O=this._namespaceList,W=this.namespacesByHostElement;if(O.length-1>=0){let Ee=!1,De=this.driver.getParentElement(b);for(;De;){const Ve=W.get(De);if(Ve){const rt=O.indexOf(Ve);O.splice(rt+1,0,I),Ee=!0;break}De=this.driver.getParentElement(De)}Ee||O.unshift(I)}else O.push(I);return W.set(b,I),I}register(I,b){let O=this._namespaceLookup[I];return O||(O=this.createNamespace(I,b)),O}registerTrigger(I,b,O){let W=this._namespaceLookup[I];W&&W.register(b,O)&&this.totalAnimations++}destroy(I,b){I&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const O=this._fetchNamespace(I);this.namespacesByHostElement.delete(O.hostElement);const W=this._namespaceList.indexOf(O);W>=0&&this._namespaceList.splice(W,1),O.destroy(b),delete this._namespaceLookup[I]}))}_fetchNamespace(I){return this._namespaceLookup[I]}fetchNamespacesByElement(I){const b=new Set,O=this.statesByElement.get(I);if(O)for(let W of O.values())if(W.namespaceId){const ee=this._fetchNamespace(W.namespaceId);ee&&b.add(ee)}return b}trigger(I,b,O,W){if(ks(b)){const ee=this._fetchNamespace(I);if(ee)return ee.trigger(b,O,W),!0}return!1}insertNode(I,b,O,W){if(!ks(b))return;const ee=b[ui];if(ee&&ee.setForRemoval){ee.setForRemoval=!1,ee.setForMove=!0;const Ee=this.collectedLeaveElements.indexOf(b);Ee>=0&&this.collectedLeaveElements.splice(Ee,1)}if(I){const Ee=this._fetchNamespace(I);Ee&&Ee.insertNode(b,O)}W&&this.collectEnterElement(b)}collectEnterElement(I){this.collectedEnterElements.push(I)}markElementAsDisabled(I,b){b?this.disabledNodes.has(I)||(this.disabledNodes.add(I),$i(I,Oi)):this.disabledNodes.has(I)&&(this.disabledNodes.delete(I),uo(I,Oi))}removeNode(I,b,O){if(ks(b)){this.scheduler?.notify();const W=I?this._fetchNamespace(I):null;W?W.removeNode(b,O):this.markElementAsRemoved(I,b,!1,O);const ee=this.namespacesByHostElement.get(b);ee&&ee.id!==I&&ee.removeNode(b,O)}else this._onRemovalComplete(b,O)}markElementAsRemoved(I,b,O,W,ee){this.collectedLeaveElements.push(b),b[ui]={namespaceId:I,setForRemoval:W,hasAnimation:O,removedBeforeQueried:!1,previousTriggersValues:ee}}listen(I,b,O,W,ee){return ks(b)?this._fetchNamespace(I).listen(b,O,W,ee):()=>{}}_buildInstruction(I,b,O,W,ee){return I.transition.build(this.driver,I.element,I.fromState.value,I.toState.value,O,W,I.fromState.options,I.toState.options,b,ee)}destroyInnerAnimations(I){let b=this.driver.query(I,$t,!0);b.forEach(O=>this.destroyActiveAnimationsForElement(O)),0!=this.playersByQueriedElement.size&&(b=this.driver.query(I,Rn,!0),b.forEach(O=>this.finishActiveQueriedAnimationOnElement(O)))}destroyActiveAnimationsForElement(I){const b=this.playersByElement.get(I);b&&b.forEach(O=>{O.queued?O.markedForDestroy=!0:O.destroy()})}finishActiveQueriedAnimationOnElement(I){const b=this.playersByQueriedElement.get(I);b&&b.forEach(O=>O.finish())}whenRenderingDone(){return new Promise(I=>{if(this.players.length)return se(this.players).onDone(()=>I());I()})}processLeaveNode(I){const b=I[ui];if(b&&b.setForRemoval){if(I[ui]=Qr,b.namespaceId){this.destroyInnerAnimations(I);const O=this._fetchNamespace(b.namespaceId);O&&O.clearElementCache(I)}this._onRemovalComplete(I,b.setForRemoval)}I.classList?.contains(Oi)&&this.markElementAsDisabled(I,!1),this.driver.query(I,".ng-animate-disabled",!0).forEach(O=>{this.markElementAsDisabled(O,!1)})}flush(I=-1){let b=[];if(this.newHostElements.size&&(this.newHostElements.forEach((O,W)=>this._balanceNamespaceList(O,W)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let O=0;O<this.collectedEnterElements.length;O++)$i(this.collectedEnterElements[O],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const O=[];try{b=this._flushAnimations(O,I)}finally{for(let W=0;W<O.length;W++)O[W]()}}else for(let O=0;O<this.collectedLeaveElements.length;O++)this.processLeaveNode(this.collectedLeaveElements[O]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(O=>O()),this._flushFns=[],this._whenQuietFns.length){const O=this._whenQuietFns;this._whenQuietFns=[],b.length?se(b).onDone(()=>{O.forEach(W=>W())}):O.forEach(W=>W())}}reportError(I){throw function Mt(Z){return new re.wOt(3402,!1)}()}_flushAnimations(I,b){const O=new Yi,W=[],ee=new Map,Ee=[],De=new Map,Ve=new Map,rt=new Map,Ht=new Set;this.disabledNodes.forEach(nn=>{Ht.add(nn);const Rt=this.driver.query(nn,".ng-animate-queued",!0);for(let en=0;en<Rt.length;en++)Ht.add(Rt[en])});const jt=this.bodyNode,Yn=Array.from(this.statesByElement.keys()),Un=Gs(Yn,this.collectedEnterElements),fn=new Map;let yn=0;Un.forEach((nn,Rt)=>{const en=Nn+yn++;fn.set(Rt,en),nn.forEach(ln=>$i(ln,en))});const Ar=[],gr=new Set,pi=new Set;for(let nn=0;nn<this.collectedLeaveElements.length;nn++){const Rt=this.collectedLeaveElements[nn],en=Rt[ui];en&&en.setForRemoval&&(Ar.push(Rt),gr.add(Rt),en.hasAnimation?this.driver.query(Rt,".ng-star-inserted",!0).forEach(ln=>gr.add(ln)):pi.add(Rt))}const gi=new Map,jn=Gs(Yn,Array.from(gr));jn.forEach((nn,Rt)=>{const en=hr+yn++;gi.set(Rt,en),nn.forEach(ln=>$i(ln,en))}),I.push(()=>{Un.forEach((nn,Rt)=>{const en=fn.get(Rt);nn.forEach(ln=>uo(ln,en))}),jn.forEach((nn,Rt)=>{const en=gi.get(Rt);nn.forEach(ln=>uo(ln,en))}),Ar.forEach(nn=>{this.processLeaveNode(nn)})});const lo=[],zi=[];for(let nn=this._namespaceList.length-1;nn>=0;nn--)this._namespaceList[nn].drainQueuedTransitions(b).forEach(en=>{const ln=en.player,Ir=en.element;if(lo.push(ln),this.collectedEnterElements.length){const k=Ir[ui];if(k&&k.setForMove){if(k.previousTriggersValues&&k.previousTriggersValues.has(en.triggerName)){const F=k.previousTriggersValues.get(en.triggerName),q=this.statesByElement.get(en.element);if(q&&q.has(en.triggerName)){const Q=q.get(en.triggerName);Q.value=F,q.set(en.triggerName,Q)}}return void ln.destroy()}}const sr=!jt||!this.driver.containsElement(jt,Ir),es=gi.get(Ir),Wi=fn.get(Ir),Lr=this._buildInstruction(en,O,Wi,es,sr);if(Lr.errors&&Lr.errors.length)return void zi.push(Lr);if(sr)return ln.onStart(()=>G(Ir,Lr.fromStyles)),ln.onDestroy(()=>Zn(Ir,Lr.toStyles)),void W.push(ln);if(en.isFallbackTransition)return ln.onStart(()=>G(Ir,Lr.fromStyles)),ln.onDestroy(()=>Zn(Ir,Lr.toStyles)),void W.push(ln);const _s=[];Lr.timelines.forEach(k=>{k.stretchStartingKeyframe=!0,this.disabledNodes.has(k.element)||_s.push(k)}),Lr.timelines=_s,O.append(Ir,Lr.timelines),Ee.push({instruction:Lr,player:ln,element:Ir}),Lr.queriedElements.forEach(k=>on(De,k,[]).push(ln)),Lr.preStyleProps.forEach((k,F)=>{if(k.size){let q=Ve.get(F);q||Ve.set(F,q=new Set),k.forEach((Q,de)=>q.add(de))}}),Lr.postStyleProps.forEach((k,F)=>{let q=rt.get(F);q||rt.set(F,q=new Set),k.forEach((Q,de)=>q.add(de))})});if(zi.length){const nn=[];zi.forEach(Rt=>{nn.push(function me(Z,I){return new re.wOt(3505,!1)}())}),lo.forEach(Rt=>Rt.destroy()),this.reportError(nn)}const br=new Map,cs=new Map;Ee.forEach(nn=>{const Rt=nn.element;O.has(Rt)&&(cs.set(Rt,Rt),this._beforeAnimationBuild(nn.player.namespaceId,nn.instruction,br))}),W.forEach(nn=>{const Rt=nn.element;this._getPreviousPlayers(Rt,!1,nn.namespaceId,nn.triggerName,null).forEach(ln=>{on(br,Rt,[]).push(ln),ln.destroy()})});const ho=Ar.filter(nn=>ca(nn,Ve,rt)),Eo=new Map;ws(Eo,this.driver,pi,rt,g.kp).forEach(nn=>{ca(nn,Ve,rt)&&ho.push(nn)});const Fs=new Map;Un.forEach((nn,Rt)=>{ws(Fs,this.driver,new Set(nn),Ve,g.FX)}),ho.forEach(nn=>{const Rt=Eo.get(nn),en=Fs.get(nn);Eo.set(nn,new Map([...Rt?.entries()??[],...en?.entries()??[]]))});const Ks=[],Io=[],ms={};Ee.forEach(nn=>{const{element:Rt,player:en,instruction:ln}=nn;if(O.has(Rt)){if(Ht.has(Rt))return en.onDestroy(()=>Zn(Rt,ln.toStyles)),en.disabled=!0,en.overrideTotalTime(ln.totalTime),void W.push(en);let Ir=ms;if(cs.size>1){let es=Rt;const Wi=[];for(;es=es.parentNode;){const Lr=cs.get(es);if(Lr){Ir=Lr;break}Wi.push(es)}Wi.forEach(Lr=>cs.set(Lr,Ir))}const sr=this._buildAnimation(en.namespaceId,ln,br,ee,Fs,Eo);if(en.setRealPlayer(sr),Ir===ms)Ks.push(en);else{const es=this.playersByElement.get(Ir);es&&es.length&&(en.parentPlayer=se(es)),W.push(en)}}else G(Rt,ln.fromStyles),en.onDestroy(()=>Zn(Rt,ln.toStyles)),Io.push(en),Ht.has(Rt)&&W.push(en)}),Io.forEach(nn=>{const Rt=ee.get(nn.element);if(Rt&&Rt.length){const en=se(Rt);nn.setRealPlayer(en)}}),W.forEach(nn=>{nn.parentPlayer?nn.syncPlayerEvents(nn.parentPlayer):nn.destroy()});for(let nn=0;nn<Ar.length;nn++){const Rt=Ar[nn],en=Rt[ui];if(uo(Rt,hr),en&&en.hasAnimation)continue;let ln=[];if(De.size){let sr=De.get(Rt);sr&&sr.length&&ln.push(...sr);let es=this.driver.query(Rt,Rn,!0);for(let Wi=0;Wi<es.length;Wi++){let Lr=De.get(es[Wi]);Lr&&Lr.length&&ln.push(...Lr)}}const Ir=ln.filter(sr=>!sr.destroyed);Ir.length?_o(this,Rt,Ir):this.processLeaveNode(Rt)}return Ar.length=0,Ks.forEach(nn=>{this.players.push(nn),nn.onDone(()=>{nn.destroy();const Rt=this.players.indexOf(nn);this.players.splice(Rt,1)}),nn.play()}),Ks}afterFlush(I){this._flushFns.push(I)}afterFlushAnimationsDone(I){this._whenQuietFns.push(I)}_getPreviousPlayers(I,b,O,W,ee){let Ee=[];if(b){const De=this.playersByQueriedElement.get(I);De&&(Ee=De)}else{const De=this.playersByElement.get(I);if(De){const Ve=!ee||ee==Fr;De.forEach(rt=>{rt.queued||!Ve&&rt.triggerName!=W||Ee.push(rt)})}}return(O||W)&&(Ee=Ee.filter(De=>!(O&&O!=De.namespaceId||W&&W!=De.triggerName))),Ee}_beforeAnimationBuild(I,b,O){const ee=b.element,Ee=b.isRemovalTransition?void 0:I,De=b.isRemovalTransition?void 0:b.triggerName;for(const Ve of b.timelines){const rt=Ve.element,Ht=rt!==ee,jt=on(O,rt,[]);this._getPreviousPlayers(rt,Ht,Ee,De,b.toState).forEach(Un=>{const fn=Un.getRealPlayer();fn.beforeDestroy&&fn.beforeDestroy(),Un.destroy(),jt.push(Un)})}G(ee,b.fromStyles)}_buildAnimation(I,b,O,W,ee,Ee){const De=b.triggerName,Ve=b.element,rt=[],Ht=new Set,jt=new Set,Yn=b.timelines.map(fn=>{const yn=fn.element;Ht.add(yn);const Ar=yn[ui];if(Ar&&Ar.removedBeforeQueried)return new g.sf(fn.duration,fn.delay);const gr=yn!==Ve,pi=function ua(Z){const I=[];return ki(Z,I),I}((O.get(yn)||xi).map(br=>br.getRealPlayer())).filter(br=>!!br.element&&br.element===yn),gi=ee.get(yn),jn=Ee.get(yn),lo=dt(this._normalizer,fn.keyframes,gi,jn),zi=this._buildPlayer(fn,lo,pi);if(fn.subTimeline&&W&&jt.add(yn),gr){const br=new xs(I,De,yn);br.setRealPlayer(zi),rt.push(br)}return zi});rt.forEach(fn=>{on(this.playersByQueriedElement,fn.element,[]).push(fn),fn.onDone(()=>function fs(Z,I,b){let O=Z.get(I);if(O){if(O.length){const W=O.indexOf(b);O.splice(W,1)}0==O.length&&Z.delete(I)}return O}(this.playersByQueriedElement,fn.element,fn))}),Ht.forEach(fn=>$i(fn,Ei));const Un=se(Yn);return Un.onDestroy(()=>{Ht.forEach(fn=>uo(fn,Ei)),Zn(Ve,b.toStyles)}),jt.forEach(fn=>{on(W,fn,[]).push(Un)}),Un}_buildPlayer(I,b,O){return b.length>0?this.driver.animate(I.element,b,I.duration,I.delay,I.easing,O):new g.sf(I.duration,I.delay)}}class xs{constructor(I,b,O){this.namespaceId=I,this.triggerName=b,this.element=O,this._player=new g.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(I){this._containsRealPlayer||(this._player=I,this._queuedCallbacks.forEach((b,O)=>{b.forEach(W=>wt(I,O,void 0,W))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(I.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(I){this.totalTime=I}syncPlayerEvents(I){const b=this._player;b.triggerCallback&&I.onStart(()=>b.triggerCallback("start")),I.onDone(()=>this.finish()),I.onDestroy(()=>this.destroy())}_queueEvent(I,b){on(this._queuedCallbacks,I,[]).push(b)}onDone(I){this.queued&&this._queueEvent("done",I),this._player.onDone(I)}onStart(I){this.queued&&this._queueEvent("start",I),this._player.onStart(I)}onDestroy(I){this.queued&&this._queueEvent("destroy",I),this._player.onDestroy(I)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(I){this.queued||this._player.setPosition(I)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(I){const b=this._player;b.triggerCallback&&b.triggerCallback(I)}}function ks(Z){return Z&&1===Z.nodeType}function gs(Z,I){const b=Z.style.display;return Z.style.display=I??"none",b}function ws(Z,I,b,O,W){const ee=[];b.forEach(Ve=>ee.push(gs(Ve)));const Ee=[];O.forEach((Ve,rt)=>{const Ht=new Map;Ve.forEach(jt=>{const Yn=I.computeStyle(rt,jt,W);Ht.set(jt,Yn),(!Yn||0==Yn.length)&&(rt[ui]=Ts,Ee.push(rt))}),Z.set(rt,Ht)});let De=0;return b.forEach(Ve=>gs(Ve,ee[De++])),Ee}function Gs(Z,I){const b=new Map;if(Z.forEach(De=>b.set(De,[])),0==I.length)return b;const W=new Set(I),ee=new Map;function Ee(De){if(!De)return 1;let Ve=ee.get(De);if(Ve)return Ve;const rt=De.parentNode;return Ve=b.has(rt)?rt:W.has(rt)?1:Ee(rt),ee.set(De,Ve),Ve}return I.forEach(De=>{const Ve=Ee(De);1!==Ve&&b.get(Ve).push(De)}),b}function $i(Z,I){Z.classList?.add(I)}function uo(Z,I){Z.classList?.remove(I)}function _o(Z,I,b){se(b).onDone(()=>Z.processLeaveNode(I))}function ki(Z,I){for(let b=0;b<Z.length;b++){const O=Z[b];O instanceof g.ui?ki(O.players,I):I.push(O)}}function ca(Z,I,b){const O=b.get(Z);if(!O)return!1;let W=I.get(Z);return W?O.forEach(ee=>W.add(ee)):I.set(Z,O),b.delete(Z),!0}class Cr{constructor(I,b,O,W){this._driver=b,this._normalizer=O,this._triggerCache={},this.onRemovalComplete=(ee,Ee)=>{},this._transitionEngine=new hs(I.body,b,O,W),this._timelineEngine=new Mo(I.body,b,O),this._transitionEngine.onRemovalComplete=(ee,Ee)=>this.onRemovalComplete(ee,Ee)}registerTrigger(I,b,O,W,ee){const Ee=I+"-"+W;let De=this._triggerCache[Ee];if(!De){const Ve=[],Ht=Lt(this._driver,ee,Ve,[]);if(Ve.length)throw function ye(Z,I){return new re.wOt(3404,!1)}();De=function oo(Z,I,b){return new Is(Z,I,b)}(W,Ht,this._normalizer),this._triggerCache[Ee]=De}this._transitionEngine.registerTrigger(b,W,De)}register(I,b){this._transitionEngine.register(I,b)}destroy(I,b){this._transitionEngine.destroy(I,b)}onInsert(I,b,O,W){this._transitionEngine.insertNode(I,b,O,W)}onRemove(I,b,O){this._transitionEngine.removeNode(I,b,O)}disableAnimations(I,b){this._transitionEngine.markElementAsDisabled(I,b)}process(I,b,O,W){if("@"==O.charAt(0)){const[ee,Ee]=Gt(O);this._timelineEngine.command(ee,b,Ee,W)}else this._transitionEngine.trigger(I,b,O,W)}listen(I,b,O,W,ee){if("@"==O.charAt(0)){const[Ee,De]=Gt(O);return this._timelineEngine.listen(Ee,b,De,ee)}return this._transitionEngine.listen(I,b,O,W,ee)}flush(I=-1){this._transitionEngine.flush(I)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(I){this._transitionEngine.afterFlushAnimationsDone(I)}}class As{static{this.initialStylesByElement=new WeakMap}constructor(I,b,O){this._element=I,this._startStyles=b,this._endStyles=O,this._state=0;let W=As.initialStylesByElement.get(I);W||As.initialStylesByElement.set(I,W=new Map),this._initialStyles=W}start(){this._state<1&&(this._startStyles&&Zn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zn(this._element,this._initialStyles),this._endStyles&&(Zn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(As.initialStylesByElement.delete(this._element),this._startStyles&&(G(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(G(this._element,this._endStyles),this._endStyles=null),Zn(this._element,this._initialStyles),this._state=3)}}function jo(Z){let I=null;return Z.forEach((b,O)=>{(function yo(Z){return"display"===Z||"position"===Z})(O)&&(I=I||new Map,I.set(O,b))}),I}class vo{constructor(I,b,O,W){this.element=I,this.keyframes=b,this.options=O,this._specialStyles=W,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=O.duration,this._delay=O.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(I=>I()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const I=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,I,this.options),this._finalKeyframe=I.length?I[I.length-1]:new Map;const b=()=>this._onFinish();this.domPlayer.addEventListener("finish",b),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",b)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(I){const b=[];return I.forEach(O=>{b.push(Object.fromEntries(O))}),b}_triggerWebAnimation(I,b,O){return I.animate(this._convertKeyframesToObject(b),O)}onStart(I){this._originalOnStartFns.push(I),this._onStartFns.push(I)}onDone(I){this._originalOnDoneFns.push(I),this._onDoneFns.push(I)}onDestroy(I){this._onDestroyFns.push(I)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(I=>I()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(I=>I()),this._onDestroyFns=[])}setPosition(I){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=I*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const I=new Map;this.hasStarted()&&this._finalKeyframe.forEach((O,W)=>{"offset"!==W&&I.set(W,this._finished?O:Pn(this.element,W))}),this.currentSnapshot=I}triggerCallback(I){const b="start"===I?this._onStartFns:this._onDoneFns;b.forEach(O=>O()),b.length=0}}class Ji{validateStyleProperty(I){return!0}validateAnimatableStyleProperty(I){return!0}matchesElement(I,b){return!1}containsElement(I,b){return Xi(I,b)}getParentElement(I){return Tr(I)}query(I,b,O){return rr(I,b,O)}computeStyle(I,b,O){return Pn(I,b)}animate(I,b,O,W,ee,Ee=[]){const Ve={duration:O,delay:W,fill:0==W?"both":"forwards"};ee&&(Ve.easing=ee);const rt=new Map,Ht=Ee.filter(Un=>Un instanceof vo);tt(O,W)&&Ht.forEach(Un=>{Un.currentSnapshot.forEach((fn,yn)=>rt.set(yn,fn))});let jt=Vi(b).map(Un=>new Map(Un));jt=function Ue(Z,I,b){if(b.size&&I.length){let O=I[0],W=[];if(b.forEach((ee,Ee)=>{O.has(Ee)||W.push(Ee),O.set(Ee,ee)}),W.length)for(let ee=1;ee<I.length;ee++){let Ee=I[ee];W.forEach(De=>Ee.set(De,Pn(Z,De)))}}return I}(I,jt,rt);const Yn=function Zi(Z,I){let b=null,O=null;return Array.isArray(I)&&I.length?(b=jo(I[0]),I.length>1&&(O=jo(I[I.length-1]))):I instanceof Map&&(b=jo(I)),b||O?new As(Z,b,O):null}(I,jt);return new vo(I,jt,Ve,Yn)}}function Xn(Z,I,b){return"noop"===Z?new Cr(I,new as,new Zt,b):new Cr(I,new Ji,new ai,b)}class kn{constructor(I,b){this._driver=I;const O=[],ee=Lt(I,b,O,[]);if(O.length)throw function rn(Z){return new re.wOt(3500,!1)}();this._animationAst=ee}buildTimelines(I,b,O,W,ee){const Ee=Array.isArray(b)?oi(b):b,De=Array.isArray(O)?oi(O):O,Ve=[];ee=ee||new Yi;const rt=wr(this._driver,I,this._animationAst,Nn,hr,Ee,De,W,ee,Ve);if(Ve.length)throw function Ut(Z){return new re.wOt(3501,!1)}();return rt}}const Oo="@.disabled";class Hi{constructor(I,b,O,W){this.namespaceId=I,this.delegate=b,this.engine=O,this._onDestroy=W,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(I){this.delegate.destroyNode?.(I)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(I,b){return this.delegate.createElement(I,b)}createComment(I){return this.delegate.createComment(I)}createText(I){return this.delegate.createText(I)}appendChild(I,b){this.delegate.appendChild(I,b),this.engine.onInsert(this.namespaceId,b,I,!1)}insertBefore(I,b,O,W=!0){this.delegate.insertBefore(I,b,O),this.engine.onInsert(this.namespaceId,b,I,W)}removeChild(I,b,O){this.engine.onRemove(this.namespaceId,b,this.delegate)}selectRootElement(I,b){return this.delegate.selectRootElement(I,b)}parentNode(I){return this.delegate.parentNode(I)}nextSibling(I){return this.delegate.nextSibling(I)}setAttribute(I,b,O,W){this.delegate.setAttribute(I,b,O,W)}removeAttribute(I,b,O){this.delegate.removeAttribute(I,b,O)}addClass(I,b){this.delegate.addClass(I,b)}removeClass(I,b){this.delegate.removeClass(I,b)}setStyle(I,b,O,W){this.delegate.setStyle(I,b,O,W)}removeStyle(I,b,O){this.delegate.removeStyle(I,b,O)}setProperty(I,b,O){"@"==b.charAt(0)&&b==Oo?this.disableAnimations(I,!!O):this.delegate.setProperty(I,b,O)}setValue(I,b){this.delegate.setValue(I,b)}listen(I,b,O){return this.delegate.listen(I,b,O)}disableAnimations(I,b){this.engine.disableAnimations(I,b)}}class yr extends Hi{constructor(I,b,O,W,ee){super(b,O,W,ee),this.factory=I,this.namespaceId=b}setProperty(I,b,O){"@"==b.charAt(0)?"."==b.charAt(1)&&b==Oo?this.disableAnimations(I,O=void 0===O||!!O):this.engine.process(this.namespaceId,I,b.slice(1),O):this.delegate.setProperty(I,b,O)}listen(I,b,O){if("@"==b.charAt(0)){const W=function xo(Z){switch(Z){case"body":return document.body;case"document":return document;case"window":return window;default:return Z}}(I);let ee=b.slice(1),Ee="";return"@"!=ee.charAt(0)&&([ee,Ee]=function Ra(Z){const I=Z.indexOf(".");return[Z.substring(0,I),Z.slice(I+1)]}(ee)),this.engine.listen(this.namespaceId,W,ee,Ee,De=>{this.factory.scheduleListenerCallback(De._data||-1,O,De)})}return this.delegate.listen(I,b,O)}}class co{constructor(I,b,O){this.delegate=I,this.engine=b,this._zone=O,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,b.onRemovalComplete=(W,ee)=>{const Ee=ee?.parentNode(W);Ee&&ee.removeChild(Ee,W)}}createRenderer(I,b){const W=this.delegate.createRenderer(I,b);if(!I||!b?.data?.animation){const rt=this._rendererCache;let Ht=rt.get(W);return Ht||(Ht=new Hi("",W,this.engine,()=>rt.delete(W)),rt.set(W,Ht)),Ht}const ee=b.id,Ee=b.id+"-"+this._currentId;this._currentId++,this.engine.register(Ee,I);const De=rt=>{Array.isArray(rt)?rt.forEach(De):this.engine.registerTrigger(ee,Ee,I,rt.name,rt)};return b.data.animation.forEach(De),new yr(this,Ee,W,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(I,b,O){if(I>=0&&I<this._microtaskId)return void this._zone.run(()=>b(O));const W=this._animationCallbacksBuffer;0==W.length&&queueMicrotask(()=>{this._zone.run(()=>{W.forEach(ee=>{const[Ee,De]=ee;Ee(De)}),this._animationCallbacksBuffer=[]})}),W.push([b,O])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}},177:(Qt,Ke,$)=>{$.d(Ke,{AJ:()=>ao,Jj:()=>tn,MD:()=>fs,N0:()=>Cr,P9:()=>hs,QT:()=>ce,Sq:()=>Ii,T3:()=>bn,UE:()=>ws,VF:()=>Se,Vy:()=>Gs,YU:()=>hn,ZD:()=>pe,_b:()=>Cn,aZ:()=>Xt,bT:()=>Yi,hb:()=>ut,pM:()=>Ii,qQ:()=>Pe,vh:()=>bi});var g=$(4438);let re=null;function ce(){return re}function pe(D){re??=D}class Se{}const Pe=new g.nKC("");let it=(()=>{class D{historyGo(N){throw new Error("")}static{this.\u0275fac=function(j){return new(j||D)}}static{this.\u0275prov=g.jDH({token:D,factory:()=>(0,g.WQX)(he),providedIn:"platform"})}}return D})(),he=(()=>{class D extends it{constructor(){super(),this._doc=(0,g.WQX)(Pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ce().getBaseHref(this._doc)}onPopState(N){const j=ce().getGlobalEventTarget(this._doc,"window");return j.addEventListener("popstate",N,!1),()=>j.removeEventListener("popstate",N)}onHashChange(N){const j=ce().getGlobalEventTarget(this._doc,"window");return j.addEventListener("hashchange",N,!1),()=>j.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,j,le){this._history.pushState(N,j,le)}replaceState(N,j,le){this._history.replaceState(N,j,le)}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}static{this.\u0275fac=function(j){return new(j||D)}}static{this.\u0275prov=g.jDH({token:D,factory:()=>new D,providedIn:"platform"})}}return D})();function _e(D,z){if(0==D.length)return z;if(0==z.length)return D;let N=0;return D.endsWith("/")&&N++,z.startsWith("/")&&N++,2==N?D+z.substring(1):1==N?D+z:D+"/"+z}function ze(D){const z=D.match(/#|\?|$/),N=z&&z.index||D.length;return D.slice(0,N-("/"===D[N-1]?1:0))+D.slice(N)}function nt(D){return D&&"?"!==D[0]?"?"+D:D}let ut=(()=>{class D{historyGo(N){throw new Error("")}static{this.\u0275fac=function(j){return new(j||D)}}static{this.\u0275prov=g.jDH({token:D,factory:()=>(0,g.WQX)(Ft),providedIn:"root"})}}return D})();const yt=new g.nKC("");let Ft=(()=>{class D extends ut{constructor(N,j){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=j??this._platformLocation.getBaseHrefFromDOM()??(0,g.WQX)(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return _e(this._baseHref,N)}path(N=!1){const j=this._platformLocation.pathname+nt(this._platformLocation.search),le=this._platformLocation.hash;return le&&N?`${j}${le}`:j}pushState(N,j,le,Xe){const vt=this.prepareExternalUrl(le+nt(Xe));this._platformLocation.pushState(N,j,vt)}replaceState(N,j,le,Xe){const vt=this.prepareExternalUrl(le+nt(Xe));this._platformLocation.replaceState(N,j,vt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}static{this.\u0275fac=function(j){return new(j||D)(g.KVO(it),g.KVO(yt,8))}}static{this.\u0275prov=g.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Xt=(()=>{class D{constructor(N){this._subject=new g.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const j=this._locationStrategy.getBaseHref();this._basePath=function Ze(D){if(new RegExp("^(https?:)?//").test(D)){const[,N]=D.split(/\/\/[^\/]+/);return N}return D}(ze(mt(j))),this._locationStrategy.onPopState(le=>{this._subject.emit({url:this.path(!0),pop:!0,state:le.state,type:le.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,j=""){return this.path()==this.normalize(N+nt(j))}normalize(N){return D.stripTrailingSlash(function Mn(D,z){if(!D||!z.startsWith(D))return z;const N=z.substring(D.length);return""===N||["/",";","?","#"].includes(N[0])?N:z}(this._basePath,mt(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,j="",le=null){this._locationStrategy.pushState(le,"",N,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+nt(j)),le)}replaceState(N,j="",le=null){this._locationStrategy.replaceState(le,"",N,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+nt(j)),le)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription??=this.subscribe(j=>{this._notifyUrlChangeListeners(j.url,j.state)}),()=>{const j=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(j,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",j){this._urlChangeListeners.forEach(le=>le(N,j))}subscribe(N,j,le){return this._subject.subscribe({next:N,error:j,complete:le})}static{this.normalizeQueryParams=nt}static{this.joinWithSlash=_e}static{this.stripTrailingSlash=ze}static{this.\u0275fac=function(j){return new(j||D)(g.KVO(ut))}}static{this.\u0275prov=g.jDH({token:D,factory:()=>function zn(){return new Xt((0,g.KVO)(ut))}(),providedIn:"root"})}}return D})();function mt(D){return D.replace(/\/index.html$/,"")}var Ut=function(D){return D[D.Format=0]="Format",D[D.Standalone=1]="Standalone",D}(Ut||{}),ye=function(D){return D[D.Narrow=0]="Narrow",D[D.Abbreviated=1]="Abbreviated",D[D.Wide=2]="Wide",D[D.Short=3]="Short",D}(ye||{}),Qe=function(D){return D[D.Short=0]="Short",D[D.Medium=1]="Medium",D[D.Long=2]="Long",D[D.Full=3]="Full",D}(Qe||{});const Ot={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Oe(D,z){return fr((0,g.H5H)(D)[g.KH2.DateFormat],z)}function me(D,z){return fr((0,g.H5H)(D)[g.KH2.TimeFormat],z)}function ne(D,z){return fr((0,g.H5H)(D)[g.KH2.DateTimeFormat],z)}function se(D,z){const N=(0,g.H5H)(D),j=N[g.KH2.NumberSymbols][z];if(typeof j>"u"){if(z===Ot.CurrencyDecimal)return N[g.KH2.NumberSymbols][Ot.Decimal];if(z===Ot.CurrencyGroup)return N[g.KH2.NumberSymbols][Ot.Group]}return j}function $n(D){if(!D[g.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${D[g.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fr(D,z){for(let N=z;N>-1;N--)if(typeof D[N]<"u")return D[N];throw new Error("Locale data API: locale data undefined")}function Br(D){const[z,N]=D.split(":");return{hours:+z,minutes:+N}}const rr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Jt={},as=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Tn=function(D){return D[D.Short=0]="Short",D[D.ShortGMT=1]="ShortGMT",D[D.Long=2]="Long",D[D.Extended=3]="Extended",D}(Tn||{}),wn=function(D){return D[D.FullYear=0]="FullYear",D[D.Month=1]="Month",D[D.Date=2]="Date",D[D.Hours=3]="Hours",D[D.Minutes=4]="Minutes",D[D.Seconds=5]="Seconds",D[D.FractionalSeconds=6]="FractionalSeconds",D[D.Day=7]="Day",D}(wn||{}),Zt=function(D){return D[D.DayPeriods=0]="DayPeriods",D[D.Days=1]="Days",D[D.Months=2]="Months",D[D.Eras=3]="Eras",D}(Zt||{});function Ct(D,z,N,j){let le=function oe(D){if(Ie(D))return D;if("number"==typeof D&&!isNaN(D))return new Date(D);if("string"==typeof D){if(D=D.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(D)){const[le,Xe=1,vt=1]=D.split("-").map(un=>+un);return pr(le,Xe-1,vt)}const N=parseFloat(D);if(!isNaN(D-N))return new Date(N);let j;if(j=D.match(rr))return function ue(D){const z=new Date(0);let N=0,j=0;const le=D[8]?z.setUTCFullYear:z.setFullYear,Xe=D[8]?z.setUTCHours:z.setHours;D[9]&&(N=Number(D[9]+D[10]),j=Number(D[9]+D[11])),le.call(z,Number(D[1]),Number(D[2])-1,Number(D[3]));const vt=Number(D[4]||0)-N,un=Number(D[5]||0)-j,Yr=Number(D[6]||0),Hr=Math.floor(1e3*parseFloat("0."+(D[7]||0)));return Xe.call(z,vt,un,Yr,Hr),z}(j)}const z=new Date(D);if(!Ie(z))throw new Error(`Unable to convert "${D}" into a date`);return z}(D);z=Or(N,z)||z;let un,vt=[];for(;z;){if(un=as.exec(z),!un){vt.push(z);break}{vt=vt.concat(un.slice(1));const ti=vt.pop();if(!ti)break;z=ti}}let Yr=le.getTimezoneOffset();j&&(Yr=be(j,Yr),le=function Vt(D,z,N){const j=N?-1:1,le=D.getTimezoneOffset();return function ft(D,z){return(D=new Date(D.getTime())).setMinutes(D.getMinutes()+z),D}(D,j*(be(z,le)-le))}(le,j,!0));let Hr="";return vt.forEach(ti=>{const ur=function ae(D){if(Ne[D])return Ne[D];let z;switch(D){case"G":case"GG":case"GGG":z=Rn(Zt.Eras,ye.Abbreviated);break;case"GGGG":z=Rn(Zt.Eras,ye.Wide);break;case"GGGGG":z=Rn(Zt.Eras,ye.Narrow);break;case"y":z=$t(wn.FullYear,1,0,!1,!0);break;case"yy":z=$t(wn.FullYear,2,0,!0,!0);break;case"yyy":z=$t(wn.FullYear,3,0,!1,!0);break;case"yyyy":z=$t(wn.FullYear,4,0,!1,!0);break;case"Y":z=G(1);break;case"YY":z=G(2,!0);break;case"YYY":z=G(3);break;case"YYYY":z=G(4);break;case"M":case"L":z=$t(wn.Month,1,1);break;case"MM":case"LL":z=$t(wn.Month,2,1);break;case"MMM":z=Rn(Zt.Months,ye.Abbreviated);break;case"MMMM":z=Rn(Zt.Months,ye.Wide);break;case"MMMMM":z=Rn(Zt.Months,ye.Narrow);break;case"LLL":z=Rn(Zt.Months,ye.Abbreviated,Ut.Standalone);break;case"LLLL":z=Rn(Zt.Months,ye.Wide,Ut.Standalone);break;case"LLLLL":z=Rn(Zt.Months,ye.Narrow,Ut.Standalone);break;case"w":z=Zn(1);break;case"ww":z=Zn(2);break;case"W":z=Zn(1,!0);break;case"d":z=$t(wn.Date,1);break;case"dd":z=$t(wn.Date,2);break;case"c":case"cc":z=$t(wn.Day,1);break;case"ccc":z=Rn(Zt.Days,ye.Abbreviated,Ut.Standalone);break;case"cccc":z=Rn(Zt.Days,ye.Wide,Ut.Standalone);break;case"ccccc":z=Rn(Zt.Days,ye.Narrow,Ut.Standalone);break;case"cccccc":z=Rn(Zt.Days,ye.Short,Ut.Standalone);break;case"E":case"EE":case"EEE":z=Rn(Zt.Days,ye.Abbreviated);break;case"EEEE":z=Rn(Zt.Days,ye.Wide);break;case"EEEEE":z=Rn(Zt.Days,ye.Narrow);break;case"EEEEEE":z=Rn(Zt.Days,ye.Short);break;case"a":case"aa":case"aaa":z=Rn(Zt.DayPeriods,ye.Abbreviated);break;case"aaaa":z=Rn(Zt.DayPeriods,ye.Wide);break;case"aaaaa":z=Rn(Zt.DayPeriods,ye.Narrow);break;case"b":case"bb":case"bbb":z=Rn(Zt.DayPeriods,ye.Abbreviated,Ut.Standalone,!0);break;case"bbbb":z=Rn(Zt.DayPeriods,ye.Wide,Ut.Standalone,!0);break;case"bbbbb":z=Rn(Zt.DayPeriods,ye.Narrow,Ut.Standalone,!0);break;case"B":case"BB":case"BBB":z=Rn(Zt.DayPeriods,ye.Abbreviated,Ut.Format,!0);break;case"BBBB":z=Rn(Zt.DayPeriods,ye.Wide,Ut.Format,!0);break;case"BBBBB":z=Rn(Zt.DayPeriods,ye.Narrow,Ut.Format,!0);break;case"h":z=$t(wn.Hours,1,-12);break;case"hh":z=$t(wn.Hours,2,-12);break;case"H":z=$t(wn.Hours,1);break;case"HH":z=$t(wn.Hours,2);break;case"m":z=$t(wn.Minutes,1);break;case"mm":z=$t(wn.Minutes,2);break;case"s":z=$t(wn.Seconds,1);break;case"ss":z=$t(wn.Seconds,2);break;case"S":z=$t(wn.FractionalSeconds,1);break;case"SS":z=$t(wn.FractionalSeconds,2);break;case"SSS":z=$t(wn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":z=si(Tn.Short);break;case"ZZZZZ":z=si(Tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":z=si(Tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":z=si(Tn.Long);break;default:return null}return Ne[D]=z,z}(ti);Hr+=ur?ur(le,N,Yr):"''"===ti?"'":ti.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Hr}function pr(D,z,N){const j=new Date(0);return j.setFullYear(D,z,N),j.setHours(0,0,0),j}function Or(D,z){const N=function Dr(D){return(0,g.H5H)(D)[g.KH2.LocaleId]}(D);if(Jt[N]??={},Jt[N][z])return Jt[N][z];let j="";switch(z){case"shortDate":j=Oe(D,Qe.Short);break;case"mediumDate":j=Oe(D,Qe.Medium);break;case"longDate":j=Oe(D,Qe.Long);break;case"fullDate":j=Oe(D,Qe.Full);break;case"shortTime":j=me(D,Qe.Short);break;case"mediumTime":j=me(D,Qe.Medium);break;case"longTime":j=me(D,Qe.Long);break;case"fullTime":j=me(D,Qe.Full);break;case"short":const le=Or(D,"shortTime"),Xe=Or(D,"shortDate");j=Nn(ne(D,Qe.Short),[le,Xe]);break;case"medium":const vt=Or(D,"mediumTime"),un=Or(D,"mediumDate");j=Nn(ne(D,Qe.Medium),[vt,un]);break;case"long":const Yr=Or(D,"longTime"),Hr=Or(D,"longDate");j=Nn(ne(D,Qe.Long),[Yr,Hr]);break;case"full":const ti=Or(D,"fullTime"),ur=Or(D,"fullDate");j=Nn(ne(D,Qe.Full),[ti,ur])}return j&&(Jt[N][z]=j),j}function Nn(D,z){return z&&(D=D.replace(/\{([^}]+)}/g,function(N,j){return null!=z&&j in z?z[j]:N})),D}function hr(D,z,N="-",j,le){let Xe="";(D<0||le&&D<=0)&&(le?D=1-D:(D=-D,Xe=N));let vt=String(D);for(;vt.length<z;)vt="0"+vt;return j&&(vt=vt.slice(vt.length-z)),Xe+vt}function $t(D,z,N=0,j=!1,le=!1){return function(Xe,vt){let un=function Ei(D,z){switch(D){case wn.FullYear:return z.getFullYear();case wn.Month:return z.getMonth();case wn.Date:return z.getDate();case wn.Hours:return z.getHours();case wn.Minutes:return z.getMinutes();case wn.Seconds:return z.getSeconds();case wn.FractionalSeconds:return z.getMilliseconds();case wn.Day:return z.getDay();default:throw new Error(`Unknown DateType value "${D}".`)}}(D,Xe);if((N>0||un>-N)&&(un+=N),D===wn.Hours)0===un&&-12===N&&(un=12);else if(D===wn.FractionalSeconds)return function xr(D,z){return hr(D,3).substring(0,z)}(un,z);const Yr=se(vt,Ot.MinusSign);return hr(un,z,Yr,j,le)}}function Rn(D,z,N=Ut.Format,j=!1){return function(le,Xe){return function On(D,z,N,j,le,Xe){switch(N){case Zt.Months:return function Bt(D,z,N){const j=(0,g.H5H)(D),Xe=fr([j[g.KH2.MonthsFormat],j[g.KH2.MonthsStandalone]],z);return fr(Xe,N)}(z,le,j)[D.getMonth()];case Zt.Days:return function Pt(D,z,N){const j=(0,g.H5H)(D),Xe=fr([j[g.KH2.DaysFormat],j[g.KH2.DaysStandalone]],z);return fr(Xe,N)}(z,le,j)[D.getDay()];case Zt.DayPeriods:const vt=D.getHours(),un=D.getMinutes();if(Xe){const Hr=function Tr(D){const z=(0,g.H5H)(D);return $n(z),(z[g.KH2.ExtraData][2]||[]).map(j=>"string"==typeof j?Br(j):[Br(j[0]),Br(j[1])])}(z),ti=function Li(D,z,N){const j=(0,g.H5H)(D);$n(j);const Xe=fr([j[g.KH2.ExtraData][0],j[g.KH2.ExtraData][1]],z)||[];return fr(Xe,N)||[]}(z,le,j),ur=Hr.findIndex(cr=>{if(Array.isArray(cr)){const[vn,Pi]=cr,zr=vt>=vn.hours&&un>=vn.minutes,Tt=vt<Pi.hours||vt===Pi.hours&&un<Pi.minutes;if(vn.hours<Pi.hours){if(zr&&Tt)return!0}else if(zr||Tt)return!0}else if(cr.hours===vt&&cr.minutes===un)return!0;return!1});if(-1!==ur)return ti[ur]}return function ot(D,z,N){const j=(0,g.H5H)(D),Xe=fr([j[g.KH2.DayPeriodsFormat],j[g.KH2.DayPeriodsStandalone]],z);return fr(Xe,N)}(z,le,j)[vt<12?0:1];case Zt.Eras:return function sn(D,z){return fr((0,g.H5H)(D)[g.KH2.Eras],z)}(z,j)[D.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${N}`)}}(le,Xe,D,z,N,j)}}function si(D){return function(z,N,j){const le=-1*j,Xe=se(N,Ot.MinusSign),vt=le>0?Math.floor(le/60):Math.ceil(le/60);switch(D){case Tn.Short:return(le>=0?"+":"")+hr(vt,2,Xe)+hr(Math.abs(le%60),2,Xe);case Tn.ShortGMT:return"GMT"+(le>=0?"+":"")+hr(vt,1,Xe);case Tn.Long:return"GMT"+(le>=0?"+":"")+hr(vt,2,Xe)+":"+hr(Math.abs(le%60),2,Xe);case Tn.Extended:return 0===j?"Z":(le>=0?"+":"")+hr(vt,2,Xe)+":"+hr(Math.abs(le%60),2,Xe);default:throw new Error(`Unknown zone width "${D}"`)}}}const vr=0,Mr=4;function oi(D){const z=D.getDay(),N=0===z?-3:Mr-z;return pr(D.getFullYear(),D.getMonth(),D.getDate()+N)}function Zn(D,z=!1){return function(N,j){let le;if(z){const Xe=new Date(N.getFullYear(),N.getMonth(),1).getDay()-1,vt=N.getDate();le=1+Math.floor((vt+Xe)/7)}else{const Xe=oi(N),vt=function Vi(D){const z=pr(D,vr,1).getDay();return pr(D,0,1+(z<=Mr?Mr:Mr+7)-z)}(Xe.getFullYear()),un=Xe.getTime()-vt.getTime();le=1+Math.round(un/6048e5)}return hr(le,D,se(j,Ot.MinusSign))}}function G(D,z=!1){return function(N,j){return hr(oi(N).getFullYear(),D,se(j,Ot.MinusSign),z)}}const Ne={};function be(D,z){D=D.replace(/:/g,"");const N=Date.parse("Jan 01, 1970 00:00:00 "+D)/6e4;return isNaN(N)?z:N}function Ie(D){return D instanceof Date&&!isNaN(D.valueOf())}function Cn(D,z){z=encodeURIComponent(z);for(const N of D.split(";")){const j=N.indexOf("="),[le,Xe]=-1==j?[N,""]:[N.slice(0,j),N.slice(j+1)];if(le.trim()===z)return decodeURIComponent(Xe)}return null}const an=/\s+/,xn=[];let hn=(()=>{class D{constructor(N,j){this._ngEl=N,this._renderer=j,this.initialClasses=xn,this.stateMap=new Map}set klass(N){this.initialClasses=null!=N?N.trim().split(an):xn}set ngClass(N){this.rawClass="string"==typeof N?N.trim().split(an):N}ngDoCheck(){for(const j of this.initialClasses)this._updateState(j,!0);const N=this.rawClass;if(Array.isArray(N)||N instanceof Set)for(const j of N)this._updateState(j,!0);else if(null!=N)for(const j of Object.keys(N))this._updateState(j,!!N[j]);this._applyStateDiff()}_updateState(N,j){const le=this.stateMap.get(N);void 0!==le?(le.enabled!==j&&(le.changed=!0,le.enabled=j),le.touched=!0):this.stateMap.set(N,{enabled:j,changed:!0,touched:!0})}_applyStateDiff(){for(const N of this.stateMap){const j=N[0],le=N[1];le.changed?(this._toggleClass(j,le.enabled),le.changed=!1):le.touched||(le.enabled&&this._toggleClass(j,!1),this.stateMap.delete(j)),le.touched=!1}}_toggleClass(N,j){(N=N.trim()).length>0&&N.split(an).forEach(le=>{j?this._renderer.addClass(this._ngEl.nativeElement,le):this._renderer.removeClass(this._ngEl.nativeElement,le)})}static{this.\u0275fac=function(j){return new(j||D)(g.rXU(g.aKT),g.rXU(g.sFG))}}static{this.\u0275dir=g.FsC({type:D,selectors:[["","ngClass",""]],inputs:{klass:[g.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return D})();class Ns{constructor(z,N,j,le){this.$implicit=z,this.ngForOf=N,this.index=j,this.count=le}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ii=(()=>{class D{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,j,le){this._viewContainer=N,this._template=j,this._differs=le,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const j=this._viewContainer;N.forEachOperation((le,Xe,vt)=>{if(null==le.previousIndex)j.createEmbeddedView(this._template,new Ns(le.item,this._ngForOf,-1,-1),null===vt?void 0:vt);else if(null==vt)j.remove(null===Xe?void 0:Xe);else if(null!==Xe){const un=j.get(Xe);j.move(un,vt),$s(un,le)}});for(let le=0,Xe=j.length;le<Xe;le++){const un=j.get(le).context;un.index=le,un.count=Xe,un.ngForOf=this._ngForOf}N.forEachIdentityChange(le=>{$s(j.get(le.currentIndex),le)})}static ngTemplateContextGuard(N,j){return!0}static{this.\u0275fac=function(j){return new(j||D)(g.rXU(g.c1b),g.rXU(g.C4Q),g.rXU(g._q3))}}static{this.\u0275dir=g.FsC({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return D})();function $s(D,z){D.context.$implicit=z.item}let Yi=(()=>{class D{constructor(N,j){this._viewContainer=N,this._context=new Yo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=j}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Hs("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Hs("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,j){return!0}static{this.\u0275fac=function(j){return new(j||D)(g.rXU(g.c1b),g.rXU(g.C4Q))}}static{this.\u0275dir=g.FsC({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return D})();class Yo{constructor(){this.$implicit=null,this.ngIf=null}}function Hs(D,z){if(z&&!z.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,g.Tbb)(z)}'.`)}let bn=(()=>{class D{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(N){if(this._shouldRecreateView(N)){const j=this._viewContainerRef;if(this._viewRef&&j.remove(j.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const le=this._createContextForwardProxy();this._viewRef=j.createEmbeddedView(this.ngTemplateOutlet,le,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(N){return!!N.ngTemplateOutlet||!!N.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(N,j,le)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,j,le),get:(N,j,le)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,j,le)}})}static{this.\u0275fac=function(j){return new(j||D)(g.rXU(g.c1b))}}static{this.\u0275dir=g.FsC({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.OA$]})}}return D})();function is(D,z){return new g.wOt(2100,!1)}class so{createSubscription(z,N){return(0,g.O8t)(()=>z.subscribe({next:N,error:j=>{throw j}}))}dispose(z){(0,g.O8t)(()=>z.unsubscribe())}}class ds{createSubscription(z,N){return z.then(N,j=>{throw j})}dispose(z){}}const Zo=new ds,aa=new so;let tn=(()=>{class D{constructor(N){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=N}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(N){if(!this._obj){if(N)try{this.markForCheckOnValueUpdate=!1,this._subscribe(N)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,j=>this._updateLatestValue(N,j))}_selectStrategy(N){if((0,g.jNT)(N))return Zo;if((0,g.zjR)(N))return aa;throw is()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,j){N===this._obj&&(this._latestValue=j,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(j){return new(j||D)(g.rXU(g.gRc,16))}}static{this.\u0275pipe=g.EJ8({name:"async",type:D,pure:!1,standalone:!0})}}return D})();const Mo=new g.nKC(""),qr=new g.nKC("");let bi=(()=>{class D{constructor(N,j,le){this.locale=N,this.defaultTimezone=j,this.defaultOptions=le}transform(N,j,le,Xe){if(null==N||""===N||N!=N)return null;try{return Ct(N,j??this.defaultOptions?.dateFormat??"mediumDate",Xe||this.locale,le??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(vt){throw is()}}static{this.\u0275fac=function(j){return new(j||D)(g.rXU(g.xe9,16),g.rXU(Mo,24),g.rXU(qr,24))}}static{this.\u0275pipe=g.EJ8({name:"date",type:D,pure:!0,standalone:!0})}}return D})(),hs=(()=>{class D{transform(N,j,le){if(null==N)return null;if(!this.supports(N))throw is();return N.slice(j,le)}supports(N){return"string"==typeof N||Array.isArray(N)}static{this.\u0275fac=function(j){return new(j||D)}}static{this.\u0275pipe=g.EJ8({name:"slice",type:D,pure:!1,standalone:!0})}}return D})(),fs=(()=>{class D{static{this.\u0275fac=function(j){return new(j||D)}}static{this.\u0275mod=g.$C({type:D})}static{this.\u0275inj=g.G2t({})}}return D})();const ao="browser",ks="server";function ws(D){return D===ao}function Gs(D){return D===ks}class Cr{}},4438:(Qt,Ke,$)=>{$.d(Ke,{bc$:()=>og,iLQ:()=>qI,sZ2:()=>u_,o8S:()=>Xl,BIS:()=>Ov,gRc:()=>PD,Ql9:()=>CP,OM3:()=>Us,Ocv:()=>xP,Z63:()=>xo,aKT:()=>Pc,uvJ:()=>ei,zcH:()=>Ka,bkB:()=>Qo,$GK:()=>tn,nKC:()=>hn,zZn:()=>ia,_q3:()=>nT,MKu:()=>rT,xe9:()=>fv,Co$:()=>M,Vns:()=>f,SKi:()=>Es,Xx1:()=>ws,Agw:()=>Sd,PLl:()=>Xa,rOR:()=>Cd,sFG:()=>Qd,_9s:()=>hy,czy:()=>jd,WPN:()=>Cu,kdw:()=>$i,C4Q:()=>Kd,NYb:()=>yP,giA:()=>_D,xvI:()=>GR,RxE:()=>cD,c1b:()=>Xc,gXe:()=>b,L39:()=>bM,Ol2:()=>Zs,w6W:()=>B,QZP:()=>aC,Rfq:()=>Zn,WQX:()=>_n,Hps:()=>Wf,QuC:()=>Ir,EmA:()=>k,Udg:()=>SM,N4e:()=>To,O8t:()=>PM,An2:()=>Pf,H3F:()=>lD,H8p:()=>ri,KH2:()=>yp,TgB:()=>uc,wOt:()=>st,WHO:()=>gD,e01:()=>mD,lNU:()=>Br,h9k:()=>tc,$MX:()=>_g,ZF7:()=>Du,Kcf:()=>w_,e5t:()=>Do,UyX:()=>Vd,cWb:()=>A_,osQ:()=>jv,H5H:()=>CI,Zy3:()=>or,mq5:()=>_0,JZv:()=>$t,TL3:()=>hM,LfX:()=>Ni,plB:()=>Nu,jNT:()=>GI,zjR:()=>yD,ngT:()=>oa,TL$:()=>a_,Tbb:()=>vr,rcV:()=>Za,Vt3:()=>Zf,Mj6:()=>O,GFd:()=>el,OA$:()=>va,Jv_:()=>MA,aNF:()=>NA,R7$:()=>dE,BMQ:()=>lI,HbH:()=>Yw,ZvI:()=>s0,AVh:()=>_I,vxM:()=>c0,wni:()=>oA,VBU:()=>Eo,FsC:()=>ms,jDH:()=>Jn,G2t:()=>Ps,$C:()=>Ks,EJ8:()=>nn,rXU:()=>zd,nrm:()=>wI,eu8:()=>AI,bVm:()=>nv,qex:()=>tv,k0s:()=>ev,j41:()=>Jy,RV6:()=>g0,xGo:()=>xh,Mr5:()=>DI,KVO:()=>Fr,kS0:()=>wu,QTQ:()=>fE,bIt:()=>RI,lsd:()=>cA,joV:()=>Wu,qSk:()=>fl,XpG:()=>q0,nI1:()=>HA,bMT:()=>zA,i5U:()=>WA,brH:()=>GA,SdG:()=>X0,NAR:()=>Q0,Y8G:()=>pI,lJ4:()=>xA,eq3:()=>kA,l_i:()=>FA,sMw:()=>LA,mGM:()=>uA,sdS:()=>lA,Dyx:()=>h0,Z7z:()=>d0,fX1:()=>l0,Njj:()=>al,EBC:()=>Yv,eBV:()=>Oa,B4B:()=>yg,n$t:()=>Bd,xc7:()=>mI,DNE:()=>ep,C5r:()=>KA,EFF:()=>EA,JRh:()=>NI,SpI:()=>av,Lme:()=>OI,DH7:()=>RA,mxI:()=>kI,R50:()=>xI,GBs:()=>aA}),$(467);let ce=null,pe=!1,Se=1;const ge=Symbol("SIGNAL");function Pe(e){const n=ce;return ce=e,n}const _e={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ut(e){if((!It(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Se)){if(!e.producerMustRecompute(e)&&!Mn(e))return e.dirty=!1,void(e.lastCleanEpoch=Se);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Se}}function Yt(e){e.dirty=!0,function yt(e){if(void 0===e.liveConsumerNode)return;const n=pe;pe=!0;try{for(const r of e.liveConsumerNode)r.dirty||Yt(r)}finally{pe=n}}(e),e.consumerMarkedDirty?.(e)}function Xt(e){return e&&(e.nextProducerIndex=0),Pe(e)}function zn(e,n){if(Pe(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(It(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)pt(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Mn(e){rn(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],s=e.producerLastReadVersion[n];if(s!==r.version||(ut(r),s!==r.version))return!0}return!1}function mt(e){if(rn(e),It(e))for(let n=0;n<e.producerNode.length;n++)pt(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function pt(e,n){if(function Ut(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),rn(e),1===e.liveConsumerNode.length)for(let s=0;s<e.producerNode.length;s++)pt(e.producerNode[s],e.producerIndexOfThis[s]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const s=e.liveConsumerIndexOfThis[n],a=e.liveConsumerNode[n];rn(a),a.producerIndexOfThis[s]=n}}function It(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function rn(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Pt=null;const xt=()=>{},on={..._e,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:xt};var $n=$(1413),Tr=$(8359),Li=$(4412),Vn=$(6354);const Br="https://g.co/ng/security#xss";class st extends Error{constructor(n,r){super(or(n,r)),this.code=n}}function or(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}function wn(e){return{toString:e}.toString()}const Ct="__parameters__";function hr(e,n,r){return wn(()=>{const s=function Nn(e){return function(...r){if(e){const s=e(...r);for(const a in s)this[a]=s[a]}}}(n);function a(...l){if(this instanceof a)return s.apply(this,l),this;const p=new a(...l);return y.annotation=p,y;function y(w,x,H){const J=w.hasOwnProperty(Ct)?w[Ct]:Object.defineProperty(w,Ct,{value:[]})[Ct];for(;J.length<=H;)J.push(null);return(J[H]=J[H]||[]).push(p),w}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const $t=globalThis;function On(e){for(let n in e)if(e[n]===On)return n;throw Error("Could not find renamed property on target object.")}function si(e,n){for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function vr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(vr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Mr(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const oi=On({__forward_ref__:On});function Zn(e){return e.__forward_ref__=Zn,e.toString=function(){return vr(this())},e}function G(e){return Ne(e)?e():e}function Ne(e){return"function"==typeof e&&e.hasOwnProperty(oi)&&e.__forward_ref__===Zn}function Jn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ps(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ms(e){return qe(e,Lt)||qe(e,an)}function Ni(e){return null!==Ms(e)}function qe(e,n){return e.hasOwnProperty(n)?e[n]:null}function lt(e){return e&&(e.hasOwnProperty(Cn)||e.hasOwnProperty(xn))?e[Cn]:null}const Lt=On({\u0275prov:On}),Cn=On({\u0275inj:On}),an=On({ngInjectableDef:On}),xn=On({ngInjectorDef:On});class hn{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Jn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ui(e){return e&&!!e.\u0275providers}const ni=On({\u0275cmp:On}),wr=On({\u0275dir:On}),io=On({\u0275pipe:On}),rs=On({\u0275mod:On}),_i=On({\u0275fac:On}),Bi=On({__NG_ELEMENT_ID__:On}),kr=On({__NG_ENV_ID__:On});function An(e){return"string"==typeof e?e:null==e?"":String(e)}function aa(e,n){throw new st(-201,!1)}var tn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(tn||{});let oo;function Is(){return oo}function ar(e){const n=oo;return oo=e,n}function Ci(e,n,r){const s=Ms(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:r&tn.Optional?null:void 0!==n?n:void aa()}const qr={},bi="__NG_DI_FLAG__",Oi="ngTempTokenPath",zs=/\n/gm,xi="__source";let Qr;function ui(e){const n=Qr;return Qr=e,n}function No(e,n=tn.Default){if(void 0===Qr)throw new st(-203,!1);return null===Qr?Ci(e,void 0,n):Qr.get(e,n&tn.Optional?null:void 0,n)}function Fr(e,n=tn.Default){return(Is()||No)(G(e),n)}function _n(e,n=tn.Default){return Fr(e,hs(n))}function hs(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function xs(e){const n=[];for(let r=0;r<e.length;r++){const s=G(e[r]);if(Array.isArray(s)){if(0===s.length)throw new st(900,!1);let a,l=tn.Default;for(let p=0;p<s.length;p++){const y=s[p],w=ao(y);"number"==typeof w?-1===w?a=y.token:l|=w:a=y}n.push(Fr(a,l))}else n.push(Fr(s))}return n}function fs(e,n){return e[bi]=n,e.prototype[bi]=n,e}function ao(e){return e[bi]}const ws=fs(hr("Optional"),8),$i=fs(hr("SkipSelf"),4);function _o(e,n){return e.hasOwnProperty(_i)?e[_i]:null}function Xr(e,n){e.forEach(r=>Array.isArray(r)?Xr(r,n):n(r))}function ca(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function Cr(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Ji(e,n,r){let s=kn(e,n);return s>=0?e[1|s]=r:(s=~s,function yo(e,n,r,s){let a=e.length;if(a==n)e.push(r,s);else if(1===a)e.push(s,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>n;)e[a]=e[a-2],a--;e[n]=r,e[n+1]=s}}(e,s,n,r)),s}function Xn(e,n){const r=kn(e,n);if(r>=0)return e[1|r]}function kn(e,n){return function Oo(e,n,r){let s=0,a=e.length>>r;for(;a!==s;){const l=s+(a-s>>1),p=e[l<<r];if(n===p)return l<<r;p>n?a=l:s=l+1}return~(a<<r)}(e,n,1)}const Hi={},yr=[],xo=new hn(""),Ra=new hn("",-1),co=new hn("");class Z{get(n,r=qr){if(r===qr){const s=new Error(`NullInjectorError: No provider for ${vr(n)}!`);throw s.name="NullInjectorError",s}return r}}var I=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(I||{}),b=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(b||{}),O=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(O||{});function W(e,n,r){let s=e.length;for(;;){const a=e.indexOf(n,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const l=n.length;if(a+l===s||e.charCodeAt(a+l)<=32)return a}r=a+1}}function ee(e,n,r){let s=0;for(;s<r.length;){const a=r[s];if("number"==typeof a){if(0!==a)break;s++;const l=r[s++],p=r[s++],y=r[s++];e.setAttribute(n,p,y,l)}else{const l=a,p=r[++s];De(l)?e.setProperty(n,l,p):e.setAttribute(n,l,p),s++}}return s}function Ee(e){return 3===e||4===e||6===e}function De(e){return 64===e.charCodeAt(0)}function Ve(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?r=a:0===r||rt(e,r,a,null,-1===r||2===r?n[++s]:null)}}return e}function rt(e,n,r,s,a){let l=0,p=e.length;if(-1===n)p=-1;else for(;l<e.length;){const y=e[l++];if("number"==typeof y){if(y===n){p=-1;break}if(y>n){p=l-1;break}}}for(;l<e.length;){const y=e[l];if("number"==typeof y)break;if(y===r){if(null===s)return void(null!==a&&(e[l+1]=a));if(s===e[l+1])return void(e[l+2]=a)}l++,null!==s&&l++,null!==a&&l++}-1!==p&&(e.splice(p,0,n),l=p+1),e.splice(l++,0,r),null!==s&&e.splice(l++,0,s),null!==a&&e.splice(l++,0,a)}const Ht="ng-template";function jt(e,n,r,s){let a=0;if(s){for(;a<n.length&&"string"==typeof n[a];a+=2)if("class"===n[a]&&-1!==W(n[a+1].toLowerCase(),r,0))return!0}else if(Yn(e))return!1;if(a=n.indexOf(1,a),a>-1){let l;for(;++a<n.length&&"string"==typeof(l=n[a]);)if(l.toLowerCase()===r)return!0}return!1}function Yn(e){return 4===e.type&&e.value!==Ht}function Un(e,n,r){return n===(4!==e.type||r?e.value:Ht)}function fn(e,n,r){let s=4;const a=e.attrs,l=null!==a?function gi(e){for(let n=0;n<e.length;n++)if(Ee(e[n]))return n;return e.length}(a):0;let p=!1;for(let y=0;y<n.length;y++){const w=n[y];if("number"!=typeof w){if(!p)if(4&s){if(s=2|1&s,""!==w&&!Un(e,w,r)||""===w&&1===n.length){if(yn(s))return!1;p=!0}}else if(8&s){if(null===a||!jt(e,a,w,r)){if(yn(s))return!1;p=!0}}else{const x=n[++y],H=Ar(w,a,Yn(e),r);if(-1===H){if(yn(s))return!1;p=!0;continue}if(""!==x){let J;if(J=H>l?"":a[H+1].toLowerCase(),2&s&&x!==J){if(yn(s))return!1;p=!0}}}}else{if(!p&&!yn(s)&&!yn(w))return!1;if(p&&yn(w))continue;p=!1,s=w|1&s}}return yn(s)||p}function yn(e){return!(1&e)}function Ar(e,n,r,s){if(null===n)return-1;let a=0;if(s||!r){let l=!1;for(;a<n.length;){const p=n[a];if(p===e)return a;if(3===p||6===p)l=!0;else{if(1===p||2===p){let y=n[++a];for(;"string"==typeof y;)y=n[++a];continue}if(4===p)break;if(0===p){a+=4;continue}}a+=l?1:2}return-1}return function jn(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const s=e[r];if("number"==typeof s)return-1;if(s===n)return r;r++}return-1}(n,e)}function gr(e,n,r=!1){for(let s=0;s<n.length;s++)if(fn(e,n[s],r))return!0;return!1}function lo(e,n){e:for(let r=0;r<n.length;r++){const s=n[r];if(e.length===s.length){for(let a=0;a<e.length;a++)if(e[a]!==s[a])continue e;return!0}}return!1}function zi(e,n){return e?":not("+n.trim()+")":n}function br(e){let n=e[0],r=1,s=2,a="",l=!1;for(;r<e.length;){let p=e[r];if("string"==typeof p)if(2&s){const y=e[++r];a+="["+p+(y.length>0?'="'+y+'"':"")+"]"}else 8&s?a+="."+p:4&s&&(a+=" "+p);else""!==a&&!yn(p)&&(n+=zi(l,a),a=""),s=p,l=l||!yn(s);r++}return""!==a&&(n+=zi(l,a)),n}function Eo(e){return wn(()=>{const n=es(e),r={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===I.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||b.Emulated,styles:e.styles||yr,_:null,schemas:e.schemas||null,tView:null,id:""};Wi(r);const s=e.dependencies;return r.directiveDefs=Lr(s,!1),r.pipeDefs=Lr(s,!0),r.id=function La(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)n=Math.imul(31,n)+a.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function ko(e){return Rt(e)||en(e)}function Fs(e){return null!==e}function Ks(e){return wn(()=>({type:e.type,bootstrap:e.bootstrap||yr,declarations:e.declarations||yr,imports:e.imports||yr,exports:e.exports||yr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Io(e,n){if(null==e)return Hi;const r={};for(const s in e)if(e.hasOwnProperty(s)){const a=e[s];let l,p,y=O.None;Array.isArray(a)?(y=a[0],l=a[1],p=a[2]??l):(l=a,p=a),n?(r[l]=y!==O.None?[s,y]:s,n[l]=p):r[l]=s}return r}function ms(e){return wn(()=>{const n=es(e);return Wi(n),n})}function nn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Rt(e){return e[ni]||null}function en(e){return e[wr]||null}function ln(e){return e[io]||null}function Ir(e){const n=Rt(e)||en(e)||ln(e);return null!==n&&n.standalone}function sr(e,n){const r=e[rs]||null;if(!r&&!0===n)throw new Error(`Type ${vr(e)} does not have '\u0275mod' property.`);return r}function es(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Hi,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||yr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Io(e.inputs,n),outputs:Io(e.outputs),debugInfo:null}}function Wi(e){e.features?.forEach(n=>n(e))}function Lr(e,n){if(!e)return null;const r=n?ln:ko;return()=>("function"==typeof e?e():e).map(s=>r(s)).filter(Fs)}function k(e){return{\u0275providers:e}}function F(...e){return{\u0275providers:q(0,e),\u0275fromNgModule:!0}}function q(e,...n){const r=[],s=new Set;let a;const l=p=>{r.push(p)};return Xr(n,p=>{const y=p;de(y,l,[],s)&&(a||=[],a.push(y))}),void 0!==a&&Q(a,l),r}function Q(e,n){for(let r=0;r<e.length;r++){const{ngModule:s,providers:a}=e[r];St(a,l=>{n(l,s)})}}function de(e,n,r,s){if(!(e=G(e)))return!1;let a=null,l=lt(e);const p=!l&&Rt(e);if(l||p){if(p&&!p.standalone)return!1;a=e}else{const w=e.ngModule;if(l=lt(w),!l)return!1;a=w}const y=s.has(a);if(p){if(y)return!1;if(s.add(a),p.dependencies){const w="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const x of w)de(x,n,r,s)}}else{if(!l)return!1;{if(null!=l.imports&&!y){let x;s.add(a);try{Xr(l.imports,H=>{de(H,n,r,s)&&(x||=[],x.push(H))})}finally{}void 0!==x&&Q(x,n)}if(!y){const x=_o(a)||(()=>new a);n({provide:a,useFactory:x,deps:yr},a),n({provide:co,useValue:a,multi:!0},a),n({provide:xo,useValue:()=>Fr(a),multi:!0},a)}const w=l.providers;if(null!=w&&!y){const x=e;St(w,H=>{n(H,x)})}}}return a!==e&&void 0!==e.providers}function St(e,n){for(let r of e)Ui(r)&&(r=r.\u0275providers),Array.isArray(r)?St(r,n):n(r)}const pn=On({provide:String,useValue:On});function gn(e){return null!==e&&"object"==typeof e&&pn in e}function Jr(e){return"function"==typeof e}const ri=new hn(""),Gr={},Ls={};let $r;function Ds(){return void 0===$r&&($r=new Z),$r}class ei{}class Ri extends ei{get destroyed(){return this._destroyed}constructor(n,r,s,a){super(),this.parent=r,this.source=s,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ua(n,p=>this.processProvider(p)),this.records.set(Ra,dr(void 0,this)),a.has("environment")&&this.records.set(ei,dr(void 0,this));const l=this.records.get(ri);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(co,yr,tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=Pe(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=ui(this),s=ar(void 0);try{return n()}finally{ui(r),ar(s)}}get(n,r=qr,s=tn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(kr))return n[kr](this);s=hs(s);const l=ui(this),p=ar(void 0);try{if(!(s&tn.SkipSelf)){let w=this.records.get(n);if(void 0===w){const x=function Uu(e){return"function"==typeof e||"object"==typeof e&&e instanceof hn}(n)&&Ms(n);w=x&&this.injectableDefInScope(x)?dr(wi(n),Gr):null,this.records.set(n,w)}if(null!=w)return this.hydrate(n,w)}return(s&tn.Self?Ds():this.parent).get(n,r=s&tn.Optional&&r===qr?null:r)}catch(y){if("NullInjectorError"===y.name){if((y[Oi]=y[Oi]||[]).unshift(vr(n)),l)throw y;return function ks(e,n,r,s){const a=e[Oi];throw n[xi]&&a.unshift(n[xi]),e.message=function ps(e,n,r,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=vr(n);if(Array.isArray(n))a=n.map(vr).join(" -> ");else if("object"==typeof n){let l=[];for(let p in n)if(n.hasOwnProperty(p)){let y=n[p];l.push(p+":"+("string"==typeof y?JSON.stringify(y):vr(y)))}a=`{${l.join(", ")}}`}return`${r}${s?"("+s+")":""}[${a}]: ${e.replace(zs,"\n  ")}`}("\n"+e.message,a,r,s),e.ngTokenPath=a,e[Oi]=null,e}(y,n,"R3InjectorError",this.source)}throw y}finally{ar(p),ui(l)}}resolveInjectorInitializers(){const n=Pe(null),r=ui(this),s=ar(void 0);try{const l=this.get(xo,yr,tn.Self);for(const p of l)p()}finally{ui(r),ar(s),Pe(n)}}toString(){const n=[],r=this.records;for(const s of r.keys())n.push(vr(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new st(205,!1)}processProvider(n){let r=Jr(n=G(n))?n:G(n&&n.provide);const s=function Fo(e){return gn(e)?dr(void 0,e.useValue):dr(Va(e),Gr)}(n);if(!Jr(n)&&!0===n.multi){let a=this.records.get(r);a||(a=dr(void 0,Gr,!0),a.factory=()=>xs(a.multi),this.records.set(r,a)),r=n,a.multi.push(n)}this.records.set(r,s)}hydrate(n,r){const s=Pe(null);try{return r.value===Gr&&(r.value=Ls,r.value=r.factory()),"object"==typeof r.value&&r.value&&function su(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Pe(s)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=G(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function wi(e){const n=Ms(e),r=null!==n?n.factory:_o(e);if(null!==r)return r;if(e instanceof hn)throw new st(204,!1);if(e instanceof Function)return function qs(e){if(e.length>0)throw new st(204,!1);const r=function xe(e){return e&&(e[Lt]||e[an])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new st(204,!1)}function Va(e,n,r){let s;if(Jr(e)){const a=G(e);return _o(a)||wi(a)}if(gn(e))s=()=>G(e.useValue);else if(function Nr(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...xs(e.deps||[]));else if(function Hn(e){return!(!e||!e.useExisting)}(e))s=()=>Fr(G(e.useExisting));else{const a=G(e&&(e.useClass||e.provide));if(!function $o(e){return!!e.deps}(e))return _o(a)||wi(a);s=()=>new a(...xs(e.deps))}return s}function dr(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function Ua(e,n){for(const r of e)Array.isArray(r)?Ua(r,n):r&&Ui(r)?Ua(r.\u0275providers,n):n(r)}function To(e,n){e instanceof Ri&&e.assertNotDestroyed();const s=ui(e),a=ar(void 0);try{return n()}finally{ui(s),ar(a)}}function ea(){return void 0!==Is()||null!=function Ts(){return Qr}()}const zr=0,Tt=1,mn=2,Sr=3,Ai=4,yi=5,Gi=6,fo=7,ci=8,Fi=9,po=10,Fn=11,la=12,tl=13,ta=14,Vr=15,Ba=16,ou=17,Ma=18,Bu=19,nl=20,Lo=21,Ho=22,ya=23,Kn=25,Ki=1,zo=7,da=9,Zr=10;var hc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(hc||{});function Vs(e){return Array.isArray(e)&&"object"==typeof e[Ki]}function ys(e){return Array.isArray(e)&&!0===e[Ki]}function fc(e){return!!(4&e.flags)}function na(e){return e.componentOffset>-1}function au(e){return!(1&~e.flags)}function go(e){return!!e.template}function uu(e){return!!(512&e[mn])}class Wo{constructor(n,r,s){this.previousValue=n,this.currentValue=r,this.firstChange=s}isFirstChange(){return this.firstChange}}function Go(e,n,r,s){null!==n?n.applyValueToInputSignal(n,s):e[r]=s}function va(){return lu}function lu(e){return e.type.prototype.ngOnChanges&&(e.setInput=rl),ha}function ha(){const e=il(this),n=e?.current;if(n){const r=e.previous;if(r===Hi)e.previous=n;else for(let s in n)r[s]=n[s];e.current=null,this.ngOnChanges(n)}}function rl(e,n,r,s,a){const l=this.declaredInputs[s],p=il(e)||function Cp(e,n){return e[wh]=n}(e,{previous:Hi,current:null}),y=p.current||(p.current={}),w=p.previous,x=w[l];y[l]=new Wo(x&&x.currentValue,r,w===Hi),Go(e,n,a,r)}va.ngInherit=!0;const wh="__ngSimpleChanges__";function il(e){return e[wh]||null}const mo=function(e,n,r){},sl="svg";let bp=!1;function Kr(e){for(;Array.isArray(e);)e=e[zr];return e}function Na(e,n){return Kr(n[e])}function ls(e,n){return Kr(n[e.index])}function za(e,n){return e.data[n]}function Wa(e,n){return e[n]}function Vo(e,n){const r=n[e];return Vs(r)?r:r[zr]}function du(e){return!(128&~e[mn])}function Ko(e,n){return null==n?null:e[n]}function ed(e){e[ou]=0}function _c(e){1024&e[mn]||(e[mn]|=1024,du(e)&&fu(e))}function zu(e){return!!(9216&e[mn]||e[ya]?.dirty)}function hu(e){e[po].changeDetectionScheduler?.notify(1),zu(e)?fu(e):64&e[mn]&&(function ol(){return bp}()?(e[mn]|=1024,fu(e)):e[po].changeDetectionScheduler?.notify())}function fu(e){e[po].changeDetectionScheduler?.notify();let n=Ia(e);for(;null!==n&&!(8192&n[mn])&&(n[mn]|=8192,du(n));)n=Ia(n)}function pu(e,n){if(!(256&~e[mn]))throw new st(911,!1);null===e[Lo]&&(e[Lo]=[]),e[Lo].push(n)}function Ia(e){const n=e[Sr];return ys(n)?n[Sr]:n}const Ln={lFrame:Ph(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rd(){return Ln.bindingsEnabled}function fa(){return null!==Ln.skipHydrationRootTNode}function ct(){return Ln.lFrame.lView}function Ur(){return Ln.lFrame.tView}function Oa(e){return Ln.lFrame.contextLView=e,e[ci]}function al(e){return Ln.lFrame.contextLView=null,e}function Rr(){let e=ul();for(;null!==e&&64===e.type;)e=e.parent;return e}function ul(){return Ln.lFrame.currentTNode}function pa(e,n){const r=Ln.lFrame;r.currentTNode=e,r.isParent=n}function sd(){return Ln.lFrame.isParent}function wc(){Ln.lFrame.isParent=!1}function Qs(){const e=Ln.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function ra(){return Ln.lFrame.bindingIndex++}function Xs(e){const n=Ln.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}function cd(e,n){const r=Ln.lFrame;r.bindingIndex=r.bindingRootIndex=e,mu(n)}function mu(e){Ln.lFrame.currentDirectiveIndex=e}function dd(){return Ln.lFrame.currentQueryIndex}function cl(e){Ln.lFrame.currentQueryIndex=e}function hd(e){const n=e[Tt];return 2===n.type?n.declTNode:1===n.type?e[yi]:null}function Cs(e,n,r){if(r&tn.SkipSelf){let a=n,l=e;for(;!(a=a.parent,null!==a||r&tn.Host||(a=hd(l),null===a||(l=l[ta],10&a.type))););if(null===a)return!1;n=a,e=l}const s=Ln.lFrame=Rh();return s.currentTNode=n,s.lView=e,!0}function fd(e){const n=Rh(),r=e[Tt];Ln.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Rh(){const e=Ln.lFrame,n=null===e?null:e.child;return null===n?Ph(e):n}function Ph(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function ll(){const e=Ln.lFrame;return Ln.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const dl=ll;function pd(){const e=ll();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function bs(){return Ln.lFrame.selectedIndex}function _u(e){Ln.lFrame.selectedIndex=e}function vi(){const e=Ln.lFrame;return za(e.tView,e.selectedIndex)}function fl(){Ln.lFrame.currentNamespace=sl}function Wu(){!function pl(){Ln.lFrame.currentNamespace=null}()}let Dc=!0;function yu(){return Dc}function ga(e){Dc=e}function Cc(e,n){for(let r=n.directiveStart,s=n.directiveEnd;r<s;r++){const l=e.data[r].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:x,ngOnDestroy:H}=l;p&&(e.contentHooks??=[]).push(-r,p),y&&((e.contentHooks??=[]).push(r,y),(e.contentCheckHooks??=[]).push(r,y)),w&&(e.viewHooks??=[]).push(-r,w),x&&((e.viewHooks??=[]).push(r,x),(e.viewCheckHooks??=[]).push(r,x)),null!=H&&(e.destroyHooks??=[]).push(r,H)}}function bc(e,n,r){Mh(e,n,3,r)}function vu(e,n,r,s){(3&e[mn])===r&&Mh(e,n,r,s)}function ml(e,n){let r=e[mn];(3&r)===n&&(r&=16383,r+=1,e[mn]=r)}function Mh(e,n,r,s){const l=s??-1,p=n.length-1;let y=0;for(let w=void 0!==s?65535&e[ou]:0;w<p;w++)if("number"==typeof n[w+1]){if(y=n[w],null!=s&&y>=s)break}else n[w]<0&&(e[ou]+=65536),(y<l||-1==l)&&(_l(e,r,n,w),e[ou]=(4294901760&e[ou])+w+2),w++}function Pp(e,n){mo(4,e,n);const r=Pe(null);try{n.call(e)}finally{Pe(r),mo(5,e,n)}}function _l(e,n,r,s){const a=r[s]<0,l=r[s+1],y=e[a?-r[s]:r[s]];a?e[mn]>>14<e[ou]>>16&&(3&e[mn])===n&&(e[mn]+=16384,Pp(y,l)):Pp(y,l)}const Eu=-1;class qo{constructor(n,r,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=s}}function Ku(e){return e!==Eu}function Sc(e){return 32767&e}function qu(e,n){let r=function _d(e){return e>>16}(e),s=n;for(;r>0;)s=s[ta],r--;return s}let E=!0;function d(e){const n=E;return E=e,n}const A=255,U=5;let Y=0;const Ae={};function gt(e,n){const r=qn(e,n);if(-1!==r)return r;const s=n[Tt];s.firstCreatePass&&(e.injectorIndex=n.length,dn(s.data,e),dn(n,null),dn(s.blueprint,null));const a=Bn(e,n),l=e.injectorIndex;if(Ku(a)){const p=Sc(a),y=qu(a,n),w=y[Tt].data;for(let x=0;x<8;x++)n[l+x]=y[p+x]|w[p+x]}return n[l+8]=a,l}function dn(e,n){e.push(0,0,0,0,0,0,0,0,n)}function qn(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Bn(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,s=null,a=n;for(;null!==a;){if(s=Id(a),null===s)return Eu;if(r++,a=a[ta],-1!==s.injectorIndex)return s.injectorIndex|r<<16}return Eu}function ii(e,n,r){!function We(e,n,r){let s;"string"==typeof r?s=r.charCodeAt(0)||0:r.hasOwnProperty(Bi)&&(s=r[Bi]),null==s&&(s=r[Bi]=Y++);const a=s&A;n.data[e+(a>>U)]|=1<<a}(e,n,r)}function Tu(e,n,r){if(r&tn.Optional||void 0!==e)return e;aa()}function ss(e,n,r,s){if(r&tn.Optional&&void 0===s&&(s=null),!(r&(tn.Self|tn.Host))){const a=e[Fi],l=ar(void 0);try{return a?a.get(n,s,r&tn.Optional):Ci(n,s,r&tn.Optional)}finally{ar(l)}}return Tu(s,0,r)}function vl(e,n,r,s=tn.Default,a){if(null!==e){if(2048&n[mn]&&!(s&tn.Self)){const p=function Np(e,n,r,s,a){let l=e,p=n;for(;null!==l&&null!==p&&2048&p[mn]&&!(512&p[mn]);){const y=El(l,p,r,s|tn.Self,Ae);if(y!==Ae)return y;let w=l.parent;if(!w){const x=p[nl];if(x){const H=x.get(r,Ae,s);if(H!==Ae)return H}w=Id(p),p=p[ta]}l=w}return a}(e,n,r,s,Ae);if(p!==Ae)return p}const l=El(e,n,r,s,Ae);if(l!==Ae)return l}return ss(n,r,s,a)}function El(e,n,r,s,a){const l=function yd(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Bi)?e[Bi]:void 0;return"number"==typeof n?n>=0?n&A:Ed:n}(r);if("function"==typeof l){if(!Cs(n,e,s))return s&tn.Host?Tu(a,0,s):ss(n,r,s,a);try{let p;if(p=l(s),null!=p||s&tn.Optional)return p;aa()}finally{dl()}}else if("number"==typeof l){let p=null,y=qn(e,n),w=Eu,x=s&tn.Host?n[Vr][yi]:null;for((-1===y||s&tn.SkipSelf)&&(w=-1===y?Bn(e,n):n[y+8],w!==Eu&&vd(s,!1)?(p=n[Tt],y=Sc(w),n=qu(w,n)):y=-1);-1!==y;){const H=n[Tt];if(Il(l,y,H.data)){const J=Rc(y,n,r,p,s,x);if(J!==Ae)return J}w=n[y+8],w!==Eu&&vd(s,n[Tt].data[y+8]===x)&&Il(l,y,n)?(p=H,y=Sc(w),n=qu(w,n)):y=-1}}return a}function Rc(e,n,r,s,a,l){const p=n[Tt],y=p.data[e+8],H=Da(y,p,r,null==s?na(y)&&E:s!=p&&!!(3&y.type),a&tn.Host&&l===y);return null!==H?Ca(n,p,H,y):Ae}function Da(e,n,r,s,a){const l=e.providerIndexes,p=n.data,y=1048575&l,w=e.directiveStart,H=l>>20,we=a?y+H:e.directiveEnd;for(let Me=s?y:y+H;Me<we;Me++){const je=p[Me];if(Me<w&&r===je||Me>=w&&je.type===r)return Me}if(a){const Me=p[w];if(Me&&go(Me)&&Me.type===r)return w}return null}function Ca(e,n,r,s){let a=e[r];const l=n.data;if(function Iu(e){return e instanceof qo}(a)){const p=a;p.resolving&&function so(e,n){throw n&&n.join(" > "),new st(-200,e)}(function bn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():An(e)}(l[r]));const y=d(p.canSeeViewProviders);p.resolving=!0;const x=p.injectImpl?ar(p.injectImpl):null;Cs(e,s,tn.Default);try{a=e[r]=p.factory(void 0,l,e,s),n.firstCreatePass&&r>=s.directiveStart&&function md(e,n,r){const{ngOnChanges:s,ngOnInit:a,ngDoCheck:l}=n.type.prototype;if(s){const p=lu(n);(r.preOrderHooks??=[]).push(e,p),(r.preOrderCheckHooks??=[]).push(e,p)}a&&(r.preOrderHooks??=[]).push(0-e,a),l&&((r.preOrderHooks??=[]).push(e,l),(r.preOrderCheckHooks??=[]).push(e,l))}(r,l[r],n)}finally{null!==x&&ar(x),d(y),p.resolving=!1,dl()}}return a}function Il(e,n,r){return!!(r[n+(e>>U)]&1<<e)}function vd(e,n){return!(e&tn.Self||e&tn.Host&&n)}class Ss{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,s){return vl(this._tNode,this._lView,n,hs(s),r)}}function Ed(){return new Ss(Rr(),ct())}function xh(e){return wn(()=>{const n=e.prototype.constructor,r=n[_i]||Xu(n),s=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==s;){const l=a[_i]||Xu(a);if(l&&l!==r)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function Xu(e){return Ne(e)?()=>{const n=Xu(G(e));return n&&n()}:_o(e)}function Id(e){const n=e[Tt],r=n.type;return 2===r?n.declTNode:1===r?e[yi]:null}function wu(e){return function Aa(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const r=e.attrs;if(r){const s=r.length;let a=0;for(;a<s;){const l=r[a];if(Ee(l))break;if(0===l)a+=2;else if("number"==typeof l)for(a++;a<s&&"string"==typeof r[a];)a++;else{if(l===n)return r[a+1];a+=2}}}return null}(Rr(),e)}function wd(e,n=null,r=null,s){const a=kh(e,n,r,s);return a.resolveInjectorInitializers(),a}function kh(e,n=null,r=null,s,a=new Set){const l=[r||yr,F(e)];return s=s||("object"==typeof e?void 0:vr(e)),new Ri(l,n||Ds(),s||null,a)}let ia=(()=>{class e{static{this.THROW_IF_NOT_FOUND=qr}static{this.NULL=new Z}static create(r,s){if(Array.isArray(r))return wd({name:""},s,r,"");{const a=r.name??"";return wd({name:a},r.parent,r.providers,a)}}static{this.\u0275prov=Jn({token:e,providedIn:"any",factory:()=>Fr(Ra)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function Vp(e){return e.ngOriginalError}class Ka{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&Vp(n);for(;r&&Vp(r);)r=Vp(r);return r||null}}const Up=new hn("",{providedIn:"root",factory:()=>_n(Ka).handleError.bind(void 0)});let wl=(()=>{class e{static{this.__NG_ELEMENT_ID__=Av}static{this.__NG_ENV_ID__=r=>r}}return e})();class Bp extends wl{constructor(n){super(),this._lView=n}onDestroy(n){return pu(this._lView,n),()=>function vc(e,n){if(null===e[Lo])return;const r=e[Lo].indexOf(n);-1!==r&&e[Lo].splice(r,1)}(this._lView,n)}}function Av(){return new Bp(ct())}function jp(){return Yu(Rr(),ct())}function Yu(e,n){return new Pc(ls(e,n))}let Pc=(()=>{class e{constructor(r){this.nativeElement=r}static{this.__NG_ELEMENT_ID__=jp}}return e})();function Mc(e){return e instanceof Pc?e.nativeElement:e}function Dd(e){return n=>{setTimeout(e,void 0,n)}}const Qo=class Zu extends $n.B{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,ea()&&(this.destroyRef=_n(wl,{optional:!0})??void 0)}emit(n){const r=Pe(null);try{super.next(n)}finally{Pe(r)}}subscribe(n,r,s){let a=n,l=r||(()=>null),p=s;if(n&&"object"==typeof n){const w=n;a=w.next?.bind(w),l=w.error?.bind(w),p=w.complete?.bind(w)}this.__isAsync&&(l=Dd(l),a&&(a=Dd(a)),p&&(p=Dd(p)));const y=super.subscribe({next:a,error:l,complete:p});return n instanceof Tr.yU&&n.add(y),y}};function Al(){return this._results[Symbol.iterator]()}class Cd{get changes(){return this._changes??=new Qo}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Cd.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Al)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const s=function ki(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function ua(e,n,r){if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++){let a=e[s],l=n[s];if(r&&(a=r(a),l=r(l)),l!==a)return!1}return!0}(this._results,s,r))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Dl(e){return!(128&~e.flags)}const bd=new Map;let Hp=0;const Kp="__ngContext__";function Ao(e,n){Vs(n)?(e[Kp]=n[Bu],function Sv(e){bd.set(e[Bu],e)}(n)):e[Kp]=n}function Uh(e){return Bh(e[la])}function e_(e){return Bh(e[Ai])}function Bh(e){for(;null!==e&&!ys(e);)e=e[Ai];return e}let Ju;function a_(e){Ju=e}const u_=new hn("",{providedIn:"root",factory:()=>sg}),sg="ng",Xa=new hn(""),Sd=new hn("",{providedIn:"platform",factory:()=>"unknown"}),og=new hn(""),Ov=new hn("",{providedIn:"root",factory:()=>function Qa(){if(void 0!==Ju)return Ju;if(typeof document<"u")return document;throw new st(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qh=()=>null;function Qh(e,n,r=!1){return qh(e,n,r)}const Yh=new hn("",{providedIn:"root",factory:()=>!1});let Zh,Jh;function Vc(e){return function pg(){if(void 0===Zh&&(Zh=null,$t.trustedTypes))try{Zh=$t.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Zh}()?.createHTML(e)||e}function v_(e){return function gg(){if(void 0===Jh&&(Jh=null,$t.trustedTypes))try{Jh=$t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Jh}()?.createScriptURL(e)||e}class Uc{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Br})`}}class E_ extends Uc{getTypeName(){return"HTML"}}class I_ extends Uc{getTypeName(){return"Style"}}class mg extends Uc{getTypeName(){return"Script"}}class Bv extends Uc{getTypeName(){return"URL"}}class T_ extends Uc{getTypeName(){return"ResourceURL"}}function Za(e){return e instanceof Uc?e.changingThisBreaksApplicationSecurity:e}function Du(e,n){const r=function Wr(e){return e instanceof Uc&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Br})`)}return r===n}function w_(e){return new E_(e)}function A_(e){return new I_(e)}function Vd(e){return new mg(e)}function jv(e){return new Bv(e)}function Do(e){return new T_(e)}class Ja{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(Vc(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch{return null}}}class $v{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=Vc(n),r}}const D_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _g(e){return(e=String(e)).match(D_)?e:"unsafe:"+e}function eu(e){const n={};for(const r of e.split(","))n[r]=!0;return n}function Pl(...e){const n={};for(const r of e)for(const s in r)r.hasOwnProperty(s)&&(n[s]=!0);return n}const ef=eu("area,br,col,hr,img,wbr"),C_=eu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hv=eu("rp,rt"),ts=Pl(ef,Pl(C_,eu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pl(Hv,eu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pl(Hv,C_)),tf=eu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nf=Pl(tf,eu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),eu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),b_=eu("script,style,template");class pT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,s=!0,a=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?s=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,s&&r.firstChild)a.push(r),r=_T(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let l=mT(r);if(l){r=l;break}r=a.pop()}return this.buf.join("")}startElement(n){const r=zv(n).toLowerCase();if(!ts.hasOwnProperty(r))return this.sanitizedSomething=!0,!b_.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const s=n.attributes;for(let a=0;a<s.length;a++){const l=s.item(a),p=l.name,y=p.toLowerCase();if(!nf.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=l.value;tf[y]&&(w=_g(w)),this.buf.push(" ",p,'="',S_(w),'"')}return this.buf.push(">"),!0}endElement(n){const r=zv(n).toLowerCase();ts.hasOwnProperty(r)&&!ef.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(S_(n))}}function mT(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw Wv(n);return n}function _T(e){const n=e.firstChild;if(n&&function gT(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw Wv(n);return n}function zv(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function Wv(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const yT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ud=/([^\#-~ |!])/g;function S_(e){return e.replace(/&/g,"&amp;").replace(yT,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Ud,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tu;function tc(e,n){let r=null;try{tu=tu||function vs(e){const n=new $v(e);return function hT(){try{return!!(new window.DOMParser).parseFromString(Vc(""),"text/html")}catch{return!1}}()?new Ja(n):n}(e);let s=n?String(n):"";r=tu.getInertBodyElement(s);let a=5,l=s;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,s=l,l=r.innerHTML,r=tu.getInertBodyElement(s)}while(s!==l);return Vc((new pT).sanitizeChildren(R_(r)||r))}finally{if(r){const s=R_(r)||r;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function R_(e){return"content"in e&&function Ml(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Cu=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Cu||{});function yg(e){const n=jc();return n?n.sanitize(Cu.URL,e)||"":Du(e,"URL")?Za(e):_g(An(e))}function vg(e){const n=jc();if(n)return v_(n.sanitize(Cu.RESOURCE_URL,e)||"");if(Du(e,"ResourceURL"))return v_(Za(e));throw new st(904,!1)}function Bd(e,n,r){return function Bc(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?vg:yg}(n,r)(e)}function jc(){const e=ct();return e&&e[po].sanitizer}const Eg=/^>|^->|<!--|-->|--!>|<!-$/g,Ig=/(<|>)/g,Tg="\u200b$1\u200b";function Yv(e){return e.ownerDocument}function Bo(e){return e instanceof Function?e():e}var jd=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(jd||{});let hf;function ff(e,n){return hf(e,n)}function Gc(e,n,r,s,a){if(null!=s){let l,p=!1;ys(s)?l=s:Vs(s)&&(p=!0,s=s[zr]);const y=Kr(s);0===e&&null!==r?null==a?iE(n,r,y):Fl(n,r,y,a||null,!0):1===e&&null!==r?Fl(n,r,y,a||null,!0):2===e?function yf(e,n,r){const s=gf(e,n);s&&function sE(e,n,r,s){e.removeChild(n,r,s)}(e,s,n,r)}(n,y,p):3===e&&n.destroyNode(y),null!=l&&function cE(e,n,r,s,a){const l=r[zo];l!==Kr(r)&&Gc(n,e,s,l,a);for(let y=Zr;y<r.length;y++){const w=r[y];xg(w[Tt],w,e,n,s,l)}}(n,e,l,r,a)}}function L_(e,n){return e.createComment(function uf(e){return e.replace(Eg,n=>n.replace(Ig,Tg))}(n))}function Pg(e,n,r){return e.createElement(n,r)}function rE(e,n){n[po].changeDetectionScheduler?.notify(1),xg(e,n,n[Fn],2,null,null)}function qc(e,n){const r=e[da],s=r.indexOf(n);r.splice(s,1)}function $d(e,n){if(e.length<=Zr)return;const r=Zr+n,s=e[r];if(s){const a=s[Ba];null!==a&&a!==e&&qc(a,s),n>0&&(e[r-1][Ai]=s[Ai]);const l=Cr(e,Zr+n);!function nE(e,n){rE(e,n),n[zr]=null,n[yi]=null}(s[Tt],s);const p=l[Ma];null!==p&&p.detachView(l[Tt]),s[Sr]=null,s[Ai]=null,s[mn]&=-129}return s}function Mg(e,n){if(!(256&n[mn])){const r=n[Fn];r.destroyNode&&xg(e,n,r,3,null,null),function Kc(e){let n=e[la];if(!n)return Ng(e[Tt],e);for(;n;){let r=null;if(Vs(n))r=n[la];else{const s=n[Zr];s&&(r=s)}if(!r){for(;n&&!n[Ai]&&n!==e;)Vs(n)&&Ng(n[Tt],n),n=n[Sr];null===n&&(n=e),Vs(n)&&Ng(n[Tt],n),r=n&&n[Ai]}n=r}}(n)}}function Ng(e,n){if(256&n[mn])return;const r=Pe(null);try{n[mn]&=-129,n[mn]|=256,n[ya]&&mt(n[ya]),function AT(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let s=0;s<r.length;s+=2){const a=n[r[s]];if(!(a instanceof qo)){const l=r[s+1];if(Array.isArray(l))for(let p=0;p<l.length;p+=2){const y=a[l[p]],w=l[p+1];mo(4,y,w);try{w.call(y)}finally{mo(5,y,w)}}else{mo(4,a,l);try{l.call(a)}finally{mo(5,a,l)}}}}}(e,n),function rc(e,n){const r=e.cleanup,s=n[fo];if(null!==r)for(let l=0;l<r.length-1;l+=2)if("string"==typeof r[l]){const p=r[l+3];p>=0?s[p]():s[-p].unsubscribe(),l+=2}else r[l].call(s[r[l+1]]);null!==s&&(n[fo]=null);const a=n[Lo];if(null!==a){n[Lo]=null;for(let l=0;l<a.length;l++)(0,a[l])()}}(e,n),1===n[Tt].type&&n[Fn].destroy();const s=n[Ba];if(null!==s&&ys(n[Sr])){s!==n[Sr]&&qc(s,n);const a=n[Ma];null!==a&&a.detachView(e)}!function zp(e){bd.delete(e[Bu])}(n)}finally{Pe(r)}}function V_(e,n,r){return function U_(e,n,r){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return r[zr];{const{componentOffset:a}=s;if(a>-1){const{encapsulation:l}=e.data[s.directiveStart+a];if(l===b.None||l===b.Emulated)return null}return ls(s,r)}}(e,n.parent,r)}function Fl(e,n,r,s,a){e.insertBefore(n,r,s,a)}function iE(e,n,r){e.appendChild(n,r)}function B_(e,n,r,s,a){null!==s?Fl(e,n,r,s,a):iE(e,n,r)}function gf(e,n){return e.parentNode(n)}function oE(e,n,r){return mf(e,n,r)}let j_,mf=function Ll(e,n,r){return 40&e.type?ls(e,r):null};function _f(e,n,r,s){const a=V_(e,s,n),l=n[Fn],y=oE(s.parent||n[yi],s,n);if(null!=a)if(Array.isArray(r))for(let w=0;w<r.length;w++)B_(l,a,r[w],y,!1);else B_(l,a,r,y,!1);void 0!==j_&&j_(l,s,n,r,a)}function Hd(e,n){if(null!==n){const r=n.type;if(3&r)return ls(n,e);if(4&r)return Og(-1,e[n.index]);if(8&r){const s=n.child;if(null!==s)return Hd(e,s);{const a=e[n.index];return ys(a)?Og(-1,a):Kr(a)}}if(32&r)return ff(n,e)()||Kr(e[n.index]);{const s=H_(e,n);return null!==s?Array.isArray(s)?s[0]:Hd(Ia(e[Vr]),s):Hd(e,n.next)}}return null}function H_(e,n){return null!==n?e[Vr][yi].projection[n.projection]:null}function Og(e,n){const r=Zr+e+1;if(r<n.length){const s=n[r],a=s[Tt].firstChild;if(null!==a)return Hd(s,a)}return n[zo]}function z_(e,n,r,s,a,l,p){for(;null!=r;){const y=s[r.index],w=r.type;if(p&&0===n&&(y&&Ao(Kr(y),s),r.flags|=2),32&~r.flags)if(8&w)z_(e,n,r.child,s,a,l,!1),Gc(n,e,a,y,l);else if(32&w){const x=ff(r,s);let H;for(;H=x();)Gc(n,e,a,H,l);Gc(n,e,a,y,l)}else 16&w?W_(e,n,s,r,a,l):Gc(n,e,a,y,l);r=p?r.projectionNext:r.next}}function xg(e,n,r,s,a,l){z_(r,s,e.firstChild,n,a,l,!1)}function W_(e,n,r,s,a,l){const p=r[Vr],w=p[yi].projection[s.projection];if(Array.isArray(w))for(let x=0;x<w.length;x++)Gc(n,e,a,w[x],l);else{let x=w;const H=p[Sr];Dl(s)&&(x.flags|=128),z_(e,n,x,H,a,l,!0)}}function G_(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function bu(e,n,r){const{mergedAttrs:s,classes:a,styles:l}=r;null!==s&&ee(e,n,s),null!==a&&G_(e,n,a),null!==l&&function lE(e,n,r){e.setAttribute(n,"style",r)}(e,n,l)}const mr={};function dE(e=1){hE(Ur(),ct(),bs()+e,!1)}function hE(e,n,r,s){if(!s)if(3&~n[mn]){const l=e.preOrderHooks;null!==l&&vu(n,l,0,r)}else{const l=e.preOrderCheckHooks;null!==l&&bc(n,l,r)}_u(r)}function zd(e,n=tn.Default){const r=ct();return null===r?Fr(e,n):vl(Rr(),r,G(e),n)}function fE(){throw new Error("invalid")}function pE(e,n,r,s,a,l){const p=Pe(null);try{let y=null;a&O.SignalBased&&(y=n[s][ge]),null!==y&&void 0!==y.transformFn&&(l=y.transformFn(l)),a&O.HasDecoratorInputTransform&&(l=e.inputTransforms[s].call(n,l)),null!==e.setInput?e.setInput(n,y,l,r,s):Go(n,y,s,l)}finally{Pe(p)}}function kg(e,n,r,s,a,l,p,y,w,x,H){const J=n.blueprint.slice();return J[zr]=a,J[mn]=204|s,(null!==x||e&&2048&e[mn])&&(J[mn]|=2048),ed(J),J[Sr]=J[ta]=e,J[ci]=r,J[po]=p||e&&e[po],J[Fn]=y||e&&e[Fn],J[Fi]=w||e&&e[Fi]||null,J[yi]=l,J[Bu]=function bv(){return Hp++}(),J[Gi]=H,J[nl]=x,J[Vr]=2==n.type?e[Vr]:J,J}function Wd(e,n,r,s,a){let l=e.data[n];if(null===l)l=function K_(e,n,r,s,a){const l=ul(),p=sd(),w=e.data[n]=function J_(e,n,r,s,a,l){let p=n?n.injectorIndex:-1,y=0;return fa()&&(y|=128),{type:r,index:s,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?l:l&&l.parent,r,n,s,a);return null===e.firstChild&&(e.firstChild=w),null!==l&&(p?null==l.child&&null!==w.parent&&(l.child=w):null===l.next&&(l.next=w,w.prev=l)),w}(e,n,r,s,a),function Ac(){return Ln.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=r,l.value=s,l.attrs=a;const p=function gu(){const e=Ln.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();l.injectorIndex=null===p?-1:p.injectorIndex}return pa(l,!0),l}function Vl(e,n,r,s){if(0===r)return-1;const a=n.length;for(let l=0;l<r;l++)n.push(s),e.blueprint.push(s),e.data.push(null);return a}function q_(e,n,r,s,a){const l=bs(),p=2&s;try{_u(-1),p&&n.length>Kn&&hE(e,n,Kn,!1),mo(p?2:0,a),r(s,a)}finally{_u(l),mo(p?3:1,a)}}function Q_(e,n,r){if(fc(n)){const s=Pe(null);try{const l=n.directiveEnd;for(let p=n.directiveStart;p<l;p++){const y=e.data[p];y.contentQueries&&y.contentQueries(1,r[p],p)}}finally{Pe(s)}}}function X_(e,n,r){rd()&&(function OT(e,n,r,s){const a=r.directiveStart,l=r.directiveEnd;na(r)&&function UT(e,n,r){const s=ls(n,e),a=gE(r);let p=16;r.signals?p=4096:r.onPush&&(p=64);const y=Tf(e,kg(e,a,null,p,s,n,null,e[po].rendererFactory.createRenderer(s,r),null,null,null));e[n.index]=y}(n,r,e.data[a+r.componentOffset]),e.firstCreatePass||gt(r,n),Ao(s,n);const p=r.initialInputs;for(let y=a;y<l;y++){const w=e.data[y],x=Ca(n,e,y,r);Ao(x,n),null!==p&&BT(0,y-a,x,w,0,p),go(w)&&(Vo(r.index,n)[ci]=Ca(n,e,y,r))}}(e,n,r,ls(r,n)),!(64&~r.flags)&&TE(e,n,r))}function Y_(e,n,r=ls){const s=n.localNames;if(null!==s){let a=n.index+1;for(let l=0;l<s.length;l+=2){const p=s[l+1],y=-1===p?r(n,e):e[p];e[a++]=y}}}function gE(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=vf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function vf(e,n,r,s,a,l,p,y,w,x,H){const J=Kn+s,we=J+a,Me=function Z_(e,n){const r=[];for(let s=0;s<n;s++)r.push(s<e?null:mr);return r}(J,we),je="function"==typeof x?x():x;return Me[Tt]={type:e,blueprint:Me,template:r,queries:null,viewQuery:y,declTNode:n,data:Me.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:we,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:w,consts:je,incompleteFirstPass:!1,ssrId:H}}let mE=()=>null;function ey(e,n,r,s,a){for(let l in n){if(!n.hasOwnProperty(l))continue;const p=n[l];if(void 0===p)continue;s??={};let y,w=O.None;Array.isArray(p)?(y=p[0],w=p[1]):y=p;let x=l;if(null!==a){if(!a.hasOwnProperty(l))continue;x=a[l]}0===e?_E(s,r,x,y,w):_E(s,r,x,y)}return s}function _E(e,n,r,s,a){let l;e.hasOwnProperty(r)?(l=e[r]).push(n,s):l=e[r]=[n,s],void 0!==a&&l.push(a)}function sa(e,n,r,s,a,l,p,y){const w=ls(n,r);let H,x=n.inputs;!y&&null!=x&&(H=x[s])?(sy(e,r,H,s,a),na(n)&&function vE(e,n){const r=Vo(n,e);16&r[mn]||(r[mn]|=64)}(r,n.index)):3&n.type&&(s=function yE(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),a=null!=p?p(a,n.value||"",s):a,l.setProperty(w,s,a))}function Vg(e,n,r,s){if(rd()){const a=null===s?null:{"":-1},l=function kT(e,n){const r=e.directiveRegistry;let s=null,a=null;if(r)for(let l=0;l<r.length;l++){const p=r[l];if(gr(n,p.selectors,!1))if(s||(s=[]),go(p))if(null!==p.findHostDirectiveDefs){const y=[];a=a||new Map,p.findHostDirectiveDefs(p,y,a),s.unshift(...y,p),ty(e,n,y.length)}else s.unshift(p),ty(e,n,0);else a=a||new Map,p.findHostDirectiveDefs?.(p,s,a),s.push(p)}return null===s?null:[s,a]}(e,r);let p,y;null===l?p=y=null:[p,y]=l,null!==p&&IE(e,n,r,p,a,y),a&&function FT(e,n,r){if(n){const s=e.localNames=[];for(let a=0;a<n.length;a+=2){const l=r[n[a+1]];if(null==l)throw new st(-301,!1);s.push(n[a],l)}}}(r,s,a)}r.mergedAttrs=Ve(r.mergedAttrs,r.attrs)}function IE(e,n,r,s,a,l){for(let x=0;x<s.length;x++)ii(gt(r,n),e,s[x].type);!function VT(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,s.length);for(let x=0;x<s.length;x++){const H=s[x];H.providersResolver&&H.providersResolver(H)}let p=!1,y=!1,w=Vl(e,n,s.length,null);for(let x=0;x<s.length;x++){const H=s[x];r.mergedAttrs=Ve(r.mergedAttrs,H.hostAttrs),wE(e,r,n,w,H),LT(w,H,a),null!==H.contentQueries&&(r.flags|=4),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(r.flags|=64);const J=H.type.prototype;!p&&(J.ngOnChanges||J.ngOnInit||J.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),p=!0),!y&&(J.ngOnChanges||J.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),y=!0),w++}!function Lg(e,n,r){const a=n.directiveEnd,l=e.data,p=n.attrs,y=[];let w=null,x=null;for(let H=n.directiveStart;H<a;H++){const J=l[H],we=r?r.get(J):null,je=we?we.outputs:null;w=ey(0,J.inputs,H,w,we?we.inputs:null),x=ey(1,J.outputs,H,x,je);const ht=null===w||null===p||Yn(n)?null:jT(w,H,p);y.push(ht)}null!==w&&(w.hasOwnProperty("class")&&(n.flags|=8),w.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=y,n.inputs=w,n.outputs=x}(e,r,l)}function TE(e,n,r){const s=r.directiveStart,a=r.directiveEnd,l=r.index,p=function Rp(){return Ln.lFrame.currentDirectiveIndex}();try{_u(l);for(let y=s;y<a;y++){const w=e.data[y],x=n[y];mu(y),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&xT(w,x)}}finally{_u(-1),mu(p)}}function xT(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function ty(e,n,r){n.componentOffset=r,(e.components??=[]).push(n.index)}function LT(e,n,r){if(r){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)r[n.exportAs[s]]=e;go(n)&&(r[""]=e)}}function wE(e,n,r,s,a){e.data[s]=a;const l=a.factory||(a.factory=_o(a.type)),p=new qo(l,go(a),zd);e.blueprint[s]=p,r[s]=p,function MT(e,n,r,s,a){const l=a.hostBindings;if(l){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const y=~n.index;(function NT(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(p)!=y&&p.push(y),p.push(r,s,l)}}(e,n,s,Vl(e,r,a.hostVars,mr),a)}function Su(e,n,r,s,a,l){const p=ls(e,n);!function ny(e,n,r,s,a,l,p){if(null==l)e.removeAttribute(n,a,r);else{const y=null==p?An(l):p(l,s||"",a);e.setAttribute(n,a,y,r)}}(n[Fn],p,l,e.value,r,s,a)}function BT(e,n,r,s,a,l){const p=l[n];if(null!==p)for(let y=0;y<p.length;)pE(s,r,p[y++],p[y++],p[y++],p[y++])}function jT(e,n,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(e.hasOwnProperty(l)){null===s&&(s=[]);const p=e[l];for(let y=0;y<p.length;y+=3)if(p[y]===n){s.push(l,p[y+1],p[y+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return s}function AE(e,n,r,s){return[e,!0,0,n,null,s,null,r,null,null]}function DE(e,n){const r=e.contentQueries;if(null!==r){const s=Pe(null);try{for(let a=0;a<r.length;a+=2){const p=r[a+1];if(-1!==p){const y=e.data[p];cl(r[a]),y.contentQueries(2,n[p],p)}}}finally{Pe(s)}}}function Tf(e,n){return e[la]?e[tl][Ai]=n:e[la]=n,e[tl]=n,n}function ry(e,n,r){cl(0);const s=Pe(null);try{n(e,r)}finally{Pe(s)}}function CE(e){return e[fo]||(e[fo]=[])}function bE(e){return e.cleanup||(e.cleanup=[])}function Ug(e,n){const r=e[Fi],s=r?r.get(Ka,null):null;s&&s.handleError(n)}function sy(e,n,r,s,a){for(let l=0;l<r.length;){const p=r[l++],y=r[l++],w=r[l++];pE(e.data[p],n[p],s,y,w,a)}}function ic(e,n,r){const s=Na(n,e);!function F_(e,n,r){e.setValue(n,r)}(e[Fn],s,r)}function SE(e,n){const r=Vo(n,e),s=r[Tt];!function $T(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(s,r);const a=r[zr];null!==a&&null===r[Gi]&&(r[Gi]=Qh(a,r[Fi])),oy(s,r,r[ci])}function oy(e,n,r){fd(n);try{const s=e.viewQuery;null!==s&&ry(1,s,r);const a=e.template;null!==a&&q_(e,n,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),n[Ma]?.finishViewCreation(e),e.staticContentQueries&&DE(e,n),e.staticViewQueries&&ry(2,e.viewQuery,r);const l=e.components;null!==l&&function HT(e,n){for(let r=0;r<n.length;r++)SE(e,n[r])}(n,l)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{n[mn]&=-5,pd()}}function wf(e,n,r,s){const a=Pe(null);try{const l=n.tView,w=kg(e,l,r,4096&e[mn]?4096:16,null,n,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);w[Ba]=e[n.index];const H=e[Ma];return null!==H&&(w[Ma]=H.createEmbeddedView(l)),oy(l,w,r),w}finally{Pe(a)}}function RE(e,n){const r=Zr+n;if(r<e.length)return e[r]}function Gd(e,n){return!n||null===n.firstChild||Dl(e)}function Af(e,n,r,s=!0){const a=n[Tt];if(function kl(e,n,r,s){const a=Zr+s,l=r.length;s>0&&(r[a-1][Ai]=n),s<l-Zr?(n[Ai]=r[a],ca(r,Zr+s,n)):(r.push(n),n[Ai]=null),n[Sr]=r;const p=n[Ba];null!==p&&r!==p&&function pf(e,n){const r=e[da];n[Vr]!==n[Sr][Sr][Vr]&&(e[mn]|=hc.HasTransplantedViews),null===r?e[da]=[n]:r.push(n)}(p,n);const y=n[Ma];null!==y&&y.insertView(e),hu(n),n[mn]|=128}(a,n,e,r),s){const p=Og(r,e),y=n[Fn],w=gf(y,e[zo]);null!==w&&function wT(e,n,r,s,a,l){s[zr]=a,s[yi]=n,xg(e,s,r,1,a,l)}(a,e[yi],y,n,w,p)}const l=n[Gi];null!==l&&null!==l.firstChild&&(l.firstChild=null)}function ay(e,n){const r=$d(e,n);return void 0!==r&&Mg(r[Tt],r),r}function Df(e,n,r,s,a=!1){for(;null!==r;){const l=n[r.index];null!==l&&s.push(Kr(l)),ys(l)&&uy(l,s);const p=r.type;if(8&p)Df(e,n,r.child,s);else if(32&p){const y=ff(r,n);let w;for(;w=y();)s.push(w)}else if(16&p){const y=H_(n,r);if(Array.isArray(y))s.push(...y);else{const w=Ia(n[Vr]);Df(w[Tt],w,y,s,!0)}}r=a?r.projectionNext:r.next}return s}function uy(e,n){for(let r=Zr;r<e.length;r++){const s=e[r],a=s[Tt].firstChild;null!==a&&Df(s[Tt],s,a,n)}e[zo]!==e[zr]&&n.push(e[zo])}let PE=[];const GT={..._e,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{fu(e.lView)},consumerOnSignalRead(){this.lView[ya]=this}},cy=100;function Bg(e,n=!0,r=0){const s=e[po],a=s.rendererFactory;a.begin?.();try{!function KT(e,n){ly(e,n);let r=0;for(;zu(e);){if(r===cy)throw new st(103,!1);r++,ly(e,1)}}(e,r)}catch(p){throw n&&Ug(e,p),p}finally{a.end?.(),s.inlineEffectRunner?.flush()}}function NE(e,n,r,s){const a=n[mn];if(!(256&~a))return;n[po].inlineEffectRunner?.flush(),fd(n);let p=null,y=null;(function qT(e){return 2!==e.type})(e)&&(y=function zT(e){return e[ya]??function ME(e){const n=PE.pop()??Object.create(GT);return n.lView=e,n}(e)}(n),p=Xt(y));try{ed(n),function Sh(e){return Ln.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&q_(e,n,r,2,s);const w=!(3&~a);if(w){const J=e.preOrderCheckHooks;null!==J&&bc(n,J,null)}else{const J=e.preOrderHooks;null!==J&&vu(n,J,0,null),ml(n,0)}if(function QT(e){for(let n=Uh(e);null!==n;n=e_(n)){if(!(n[mn]&hc.HasTransplantedViews))continue;const r=n[da];for(let s=0;s<r.length;s++){_c(r[s])}}}(n),OE(n,0),null!==e.contentQueries&&DE(e,n),w){const J=e.contentCheckHooks;null!==J&&bc(n,J)}else{const J=e.contentHooks;null!==J&&vu(n,J,1),ml(n,1)}!function ST(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let s=0;s<r.length;s++){const a=r[s];if(a<0)_u(~a);else{const l=a,p=r[++s],y=r[++s];cd(p,l),y(2,n[l])}}}finally{_u(-1)}}(e,n);const x=e.components;null!==x&&kE(n,x,0);const H=e.viewQuery;if(null!==H&&ry(2,H,s),w){const J=e.viewCheckHooks;null!==J&&bc(n,J)}else{const J=e.viewHooks;null!==J&&vu(n,J,2),ml(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Ho]){for(const J of n[Ho])J();n[Ho]=null}n[mn]&=-73}catch(w){throw fu(n),w}finally{null!==y&&(zn(y,p),function WT(e){e.lView[ya]!==e&&(e.lView=null,PE.push(e))}(y)),pd()}}function OE(e,n){for(let r=Uh(e);null!==r;r=e_(r))for(let s=Zr;s<r.length;s++)xE(r[s],n)}function XT(e,n,r){xE(Vo(n,e),r)}function xE(e,n){du(e)&&ly(e,n)}function ly(e,n){const s=e[Tt],a=e[mn],l=e[ya];let p=!!(0===n&&16&a);if(p||=!!(64&a&&0===n),p||=!!(1024&a),p||=!(!l?.dirty||!Mn(l)),l&&(l.dirty=!1),e[mn]&=-9217,p)NE(s,e,s.template,e[ci]);else if(8192&a){OE(e,1);const y=s.components;null!==y&&kE(e,y,1)}}function kE(e,n,r){for(let s=0;s<n.length;s++)XT(e,n[s],r)}function Cf(e){for(e[po].changeDetectionScheduler?.notify();e;){e[mn]|=64;const n=Ia(e);if(uu(e)&&!n)return e;e=n}return null}class bf{get rootNodes(){const n=this._lView,r=n[Tt];return Df(r,n,r.firstChild,[])}constructor(n,r,s=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ci]}set context(n){this._lView[ci]=n}get destroyed(){return!(256&~this._lView[mn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Sr];if(ys(n)){const r=n[8],s=r?r.indexOf(this):-1;s>-1&&($d(n,s),Cr(r,s))}this._attachedToViewContainer=!1}Mg(this._lView[Tt],this._lView)}onDestroy(n){pu(this._lView,n)}markForCheck(){Cf(this._cdRefInjectingView||this._lView)}detach(){this._lView[mn]&=-129}reattach(){hu(this._lView),this._lView[mn]|=128}detectChanges(){this._lView[mn]|=1024,Bg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new st(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,rE(this._lView[Tt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new st(902,!1);this._appRef=n,hu(this._lView)}}let Kd=(()=>{class e{static{this.__NG_ELEMENT_ID__=JT}}return e})();const YT=Kd,ZT=class extends YT{constructor(n,r,s){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,s){const a=wf(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:s});return new bf(a)}};function JT(){return Sf(Rr(),ct())}function Sf(e,n){return 4&e.type?new ZT(n,e,Yu(e,n)):null}let Ye=()=>null;function nu(e,n){return Ye(e,n)}class Pf{}class qd{}class Ul{}class sc{resolveComponentFactory(n){throw function zg(e){const n=Error(`No component factory found for ${vr(e)}.`);return n.ngComponent=e,n}(n)}}let Us=(()=>{class e{static{this.NULL=new sc}}return e})();class hy{}let Qd=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function LE(){const e=ct(),r=Vo(Rr().index,e);return(Vs(r)?r:e)[Fn]}()}}return e})(),Xd=(()=>{class e{static{this.\u0275prov=Jn({token:e,providedIn:"root",factory:()=>null})}}return e})();const Gg={},Yd=new Set;function oa(e){Yd.has(e)||(Yd.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Mf(...e){}class Es{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qo(!1),this.onMicrotaskEmpty=new Qo(!1),this.onStable=new Qo(!1),this.onError=new Qo(!1),typeof Zone>"u")throw new st(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!s&&r,a.shouldCoalesceRunChangeDetection=s,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function Kg(){const e="function"==typeof $t.requestAnimationFrame;let n=$t[e?"requestAnimationFrame":"setTimeout"],r=$t[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function gy(e){const n=()=>{!function VE(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call($t,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Of(e),e.isCheckStableRunning=!0,Nf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Of(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,s,a,l,p,y)=>{if(function Qg(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(y))return r.invokeTask(a,l,p,y);try{return xf(e),r.invokeTask(a,l,p,y)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&n(),qg(e)}},onInvoke:(r,s,a,l,p,y,w)=>{try{return xf(e),r.invoke(a,l,p,y,w)}finally{e.shouldCoalesceRunChangeDetection&&n(),qg(e)}},onHasTask:(r,s,a,l)=>{r.hasTask(a,l),s===a&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,Of(e),Nf(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(r,s,a,l)=>(r.handleError(a,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Es.isInAngularZone())throw new st(909,!1)}static assertNotInAngularZone(){if(Es.isInAngularZone())throw new st(909,!1)}run(n,r,s){return this._inner.run(n,r,s)}runTask(n,r,s,a){const l=this._inner,p=l.scheduleEventTask("NgZoneEvent: "+a,n,py,Mf,Mf);try{return l.runTask(p,r,s)}finally{l.cancelTask(p)}}runGuarded(n,r,s){return this._inner.runGuarded(n,r,s)}runOutsideAngular(n){return this._outer.run(n)}}const py={};function Nf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Of(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function xf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function qg(e){e._nesting--,Nf(e)}let Mu=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const s of r)s()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Jn({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Nu(e){return!!sr(e)}function Jd(e,n,r){let s=r?e.styles:null,a=r?e.classes:null,l=0;if(null!==n)for(let p=0;p<n.length;p++){const y=n[p];"number"==typeof y?l=y:1==l?a=Mr(a,y):2==l&&(s=Mr(s,y+": "+n[++p]+";"))}r?e.styles=s:e.stylesWithoutHost=s,r?e.classes=a:e.classesWithoutHost=a}class eh extends Us{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Rt(n);return new Ys(r,this.ngModule)}}function Jg(e){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const s=e[r];void 0!==s&&n.push({propName:Array.isArray(s)?s[0]:s,templateName:r})}return n}class nh{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,s){s=hs(s);const a=this.injector.get(n,Gg,s);return a!==Gg||r===Gg?a:this.parentInjector.get(n,r,s)}}class Ys extends Ul{get inputs(){const n=this.componentDef,r=n.inputTransforms,s=Jg(n.inputs);if(null!==r)for(const a of s)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return s}get outputs(){return Jg(this.componentDef.outputs)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function cs(e){return e.map(br).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,s,a){const l=Pe(null);try{let p=(a=a||this.ngModule)instanceof ei?a:a?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new nh(n,p):n,w=y.get(hy,null);if(null===w)throw new st(407,!1);const x=y.get(Xd,null),we={rendererFactory:w,sanitizer:x,inlineEffectRunner:null,afterRenderEventManager:y.get(Mu,null),changeDetectionScheduler:y.get(Pf,null)},Me=w.createRenderer(null,this.componentDef),je=this.componentDef.selectors[0][0]||"div",ht=s?function RT(e,n,r,s){const l=s.get(Yh,!1)||r===b.ShadowDom,p=e.selectRootElement(n,l);return function PT(e){mE(e)}(p),p}(Me,s,this.componentDef.encapsulation,y):Pg(Me,je,function th(e){const n=e.toLowerCase();return"svg"===n?sl:"math"===n?"math":null}(je));let kt=512;this.componentDef.signals?kt|=4096:this.componentDef.onPush||(kt|=16);let Wt=null;null!==ht&&(Wt=Qh(ht,y,!0));const At=vf(0,null,null,1,0,null,null,null,null,null,null),nr=kg(null,At,null,kt,null,null,we,Me,y,null,Wt);let hi,Qi;fd(nr);try{const Po=this.componentDef;let Sa,wp=null;Po.findHostDirectiveDefs?(Sa=[],wp=new Map,Po.findHostDirectiveDefs(Po,Sa,wp),Sa.push(Po)):Sa=[Po];const uC=function rh(e,n){const r=e[Tt],s=Kn;return e[s]=n,Wd(r,s,2,"#host",null)}(nr,ht),kM=function ih(e,n,r,s,a,l,p){const y=a[Tt];!function UE(e,n,r,s){for(const a of e)n.mergedAttrs=Ve(n.mergedAttrs,a.hostAttrs);null!==n.mergedAttrs&&(Jd(n,n.mergedAttrs,!0),null!==r&&bu(s,r,n))}(s,e,n,p);let w=null;null!==n&&(w=Qh(n,a[Fi]));const x=l.rendererFactory.createRenderer(n,r);let H=16;r.signals?H=4096:r.onPush&&(H=64);const J=kg(a,gE(r),null,H,a[e.index],e,l,x,null,null,w);return y.firstCreatePass&&ty(y,e,s.length-1),Tf(a,J),a[e.index]=J}(uC,ht,Po,Sa,nr,we,Me);Qi=za(At,Kn),ht&&function Hl(e,n,r,s){if(s)ee(e,r,["ng-version","17.3.12"]);else{const{attrs:a,classes:l}=function ho(e){const n=[],r=[];let s=1,a=2;for(;s<e.length;){let l=e[s];if("string"==typeof l)2===a?""!==l&&n.push(l,e[++s]):8===a&&r.push(l);else{if(!yn(a))break;a=l}s++}return{attrs:n,classes:r}}(n.selectors[0]);a&&ee(e,r,a),l&&l.length>0&&G_(e,r,l.join(" "))}}(Me,Po,ht,s),void 0!==r&&function jE(e,n,r){const s=e.projection=[];for(let a=0;a<n.length;a++){const l=r[a];s.push(null!=l?Array.from(l):null)}}(Qi,this.ngContentSelectors,r),hi=function BE(e,n,r,s,a,l){const p=Rr(),y=a[Tt],w=ls(p,a);IE(y,a,p,r,null,s);for(let H=0;H<r.length;H++)Ao(Ca(a,y,p.directiveStart+H,p),a);TE(y,a,p),w&&Ao(w,a);const x=Ca(a,y,p.directiveStart+p.componentOffset,p);if(e[ci]=a[ci]=x,null!==l)for(const H of l)H(x,n);return Q_(y,p,a),x}(kM,Po,Sa,wp,nr,[$E]),oy(At,nr,null)}finally{pd()}return new Iy(this.componentType,hi,Yu(Qi,nr),nr,Qi)}finally{Pe(l)}}}class Iy extends qd{constructor(n,r,s,a,l){super(),this.location=s,this._rootLView=a,this._tNode=l,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new bf(a,void 0,!1),this.componentType=n}setInput(n,r){const s=this._tNode.inputs;let a;if(null!==s&&(a=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const l=this._rootLView;sy(l[Tt],l,a,n,r),this.previousInputValues.set(n,r),Cf(Vo(this._tNode.index,l))}}get injector(){return new Ss(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function $E(){const e=Rr();Cc(ct()[Tt],e)}let Xc=(()=>{class e{static{this.__NG_ELEMENT_ID__=Ty}}return e})();function Ty(){return tm(Rr(),ct())}const em=Xc,sh=class extends em{constructor(n,r,s){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=s}get element(){return Yu(this._hostTNode,this._hostLView)}get injector(){return new Ss(this._hostTNode,this._hostLView)}get parentInjector(){const n=Bn(this._hostTNode,this._hostLView);if(Ku(n)){const r=qu(n,this._hostLView),s=Sc(n);return new Ss(r[Tt].data[s+8],r)}return new Ss(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=Ou(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-Zr}createEmbeddedView(n,r,s){let a,l;"number"==typeof s?a=s:null!=s&&(a=s.index,l=s.injector);const p=nu(this._lContainer,n.ssrId),y=n.createEmbeddedViewImpl(r||{},l,p);return this.insertImpl(y,a,Gd(this._hostTNode,p)),y}createComponent(n,r,s,a,l){const p=n&&!function vt(e){return"function"==typeof e}(n);let y;if(p)y=r;else{const je=r||{};y=je.index,s=je.injector,a=je.projectableNodes,l=je.environmentInjector||je.ngModuleRef}const w=p?n:new Ys(Rt(n)),x=s||this.parentInjector;if(!l&&null==w.ngModule){const ht=(p?x:this.parentInjector).get(ei,null);ht&&(l=ht)}const H=Rt(w.componentType??{}),J=nu(this._lContainer,H?.id??null),Me=w.create(x,a,J?.firstChild??null,l);return this.insertImpl(Me.hostView,y,Gd(this._hostTNode,J)),Me}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,s){const a=n._lView;if(function Ah(e){return ys(e[Sr])}(a)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const w=a[Sr],x=new sh(w,w[yi],w[Sr]);x.detach(x.indexOf(n))}}const l=this._adjustIndex(r),p=this._lContainer;return Af(p,a,l,s),n.attachToViewContainerRef(),ca(Vf(p),l,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=Ou(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),s=$d(this._lContainer,r);s&&(Cr(Vf(this._lContainer),r),Mg(s[Tt],s))}detach(n){const r=this._adjustIndex(n,-1),s=$d(this._lContainer,r);return s&&null!=Cr(Vf(this._lContainer),r)?new bf(s):null}_adjustIndex(n,r=0){return n??this.length+r}};function Ou(e){return e[8]}function Vf(e){return e[8]||(e[8]=[])}function tm(e,n){let r;const s=n[e.index];return ys(s)?r=s:(r=AE(s,n,null,e),n[e.index]=r,Tf(n,r)),Uf(r,n,e,s),new sh(r,e,n)}let Uf=function wy(e,n,r,s){if(e[zo])return;let a;a=8&r.type?Kr(s):function nm(e,n){const r=e[Fn],s=r.createComment(""),a=ls(n,e);return Fl(r,gf(r,a),s,function CT(e,n){return e.nextSibling(n)}(r,a),!1),s}(n,r),e[zo]=a},Bf=()=>!1;class Yc{constructor(n){this.queryList=n,this.matches=null}clone(){return new Yc(this.queryList)}setDirty(){this.queryList.setDirty()}}class xu{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const s=null!==n.contentQueries?n.contentQueries[0]:r.length,a=[];for(let l=0;l<s;l++){const p=r.getByIndex(l);a.push(this.queries[p.indexInDeclarationView].clone())}return new xu(a)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==zl(n,r).matches&&this.queries[r].setDirty()}}class $f{constructor(n,r,s=null){this.flags=r,this.read=s,this.predicate="string"==typeof n?function HE(e){return e.split(",").map(n=>n.trim())}(n):n}}class sm{constructor(n=[]){this.queries=n}elementStart(n,r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let s=0;s<this.length;s++){const a=null!==r?r.length:0,l=this.getByIndex(s).embeddedTView(n,a);l&&(l.indexInDeclarationView=s,null!==r?r.push(l):r=[l])}return null!==r?new sm(r):null}template(n,r){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Hf{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new Hf(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==r;)s=s.parent;return r===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const s=this.metadata.predicate;if(Array.isArray(s))for(let a=0;a<s.length;a++){const l=s[a];this.matchTNodeWithReadOption(n,r,Dy(r,l)),this.matchTNodeWithReadOption(n,r,Da(r,n,l,!1,!1))}else s===Kd?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Da(r,n,s,!1,!1))}matchTNodeWithReadOption(n,r,s){if(null!==s){const a=this.metadata.read;if(null!==a)if(a===Pc||a===Xc||a===Kd&&4&r.type)this.addMatch(r.index,-2);else{const l=Da(r,n,a,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,s)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function Dy(e,n){const r=e.localNames;if(null!==r)for(let s=0;s<r.length;s+=2)if(r[s]===n)return r[s+1];return null}function om(e,n,r,s){return-1===r?function Cy(e,n){return 11&e.type?Yu(e,n):4&e.type?Sf(e,n):null}(n,e):-2===r?function am(e,n,r){return r===Pc?Yu(n,e):r===Kd?Sf(n,e):r===Xc?tm(n,e):void 0}(e,n,s):Ca(e,e[Tt],r,n)}function um(e,n,r,s){const a=n[Ma].queries[s];if(null===a.matches){const l=e.data,p=r.matches,y=[];for(let w=0;null!==p&&w<p.length;w+=2){const x=p[w];y.push(x<0?null:om(n,l[x],p[w+1],r.metadata.read))}a.matches=y}return a.matches}function zf(e,n,r,s){const a=e.queries.getByIndex(r),l=a.matches;if(null!==l){const p=um(e,n,a,r);for(let y=0;y<l.length;y+=2){const w=l[y];if(w>0)s.push(p[y/2]);else{const x=l[y+1],H=n[-w];for(let J=Zr;J<H.length;J++){const we=H[J];we[Ba]===we[Sr]&&zf(we[Tt],we,x,s)}if(null!==H[da]){const J=H[da];for(let we=0;we<J.length;we++){const Me=J[we];zf(Me[Tt],Me,x,s)}}}}}return s}function by(e,n,r){const s=new Cd(!(4&~r));return function If(e,n,r,s){const a=CE(n);a.push(r),e.firstCreatePass&&bE(e).push(s,a.length-1)}(e,n,s,s.destroy),(n[Ma]??=new xu).queries.push(new Yc(s))-1}function oc(e,n,r){null===e.queries&&(e.queries=new sm),e.queries.track(new Hf(n,r))}function zl(e,n){return e.queries.getByIndex(n)}function oh(e,n){const r=e[Tt],s=zl(r,n);return s.crossesNgTemplate?zf(r,e,n,[]):um(r,e,s,n)}function Wf(e){return"function"==typeof e&&void 0!==e[ge]}function Sy(e){return Wf(e)&&"function"==typeof e.set}function Zf(e){let n=function mm(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const s=[e];for(;n;){let a;if(go(e))a=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new st(903,!1);a=n.\u0275dir}if(a){if(r){s.push(a);const p=e;p.inputs=ph(e.inputs),p.inputTransforms=ph(e.inputTransforms),p.declaredInputs=ph(e.declaredInputs),p.outputs=ph(e.outputs);const y=a.hostBindings;y&&By(e,y);const w=a.viewQuery,x=a.contentQueries;if(w&&Jf(e,w),x&&Uy(e,x),_m(e,a),si(e.outputs,a.outputs),go(a)&&a.data.animation){const H=e.data;H.animation=(H.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let p=0;p<l.length;p++){const y=l[p];y&&y.ngInherit&&y(e),y===Zf&&(r=!1)}}n=Object.getPrototypeOf(n)}!function ym(e){let n=0,r=null;for(let s=e.length-1;s>=0;s--){const a=e[s];a.hostVars=n+=a.hostVars,a.hostAttrs=Ve(a.hostAttrs,r=Ve(r,a.hostAttrs))}}(s)}function _m(e,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const s=n.inputs[r];if(void 0!==s&&(e.inputs[r]=s,e.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){const a=Array.isArray(s)?s[0]:s;if(!n.inputTransforms.hasOwnProperty(a))continue;e.inputTransforms??={},e.inputTransforms[a]=n.inputTransforms[a]}}}function ph(e){return e===Hi?{}:e===yr?[]:e}function Jf(e,n){const r=e.viewQuery;e.viewQuery=r?(s,a)=>{n(s,a),r(s,a)}:n}function Uy(e,n){const r=e.contentQueries;e.contentQueries=r?(s,a,l)=>{n(s,a,l),r(s,a,l)}:n}function By(e,n){const r=e.hostBindings;e.hostBindings=r?(s,a)=>{n(s,a),r(s,a)}:n}function el(e){const n=e.inputConfig,r={};for(const s in n)if(n.hasOwnProperty(s)){const a=n[s];Array.isArray(a)&&a[3]&&(r[s]=a[3])}e.inputTransforms=r}class f{}class M{}function B(e,n){return new Be(e,n??null,[])}class Be extends f{constructor(n,r,s){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eh(this);const a=sr(n);this._bootstrapComponents=Bo(a.bootstrap),this._r3Injector=kh(n,r,[{provide:f,useValue:this},{provide:Us,useValue:this.componentFactoryResolver},...s],vr(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class at extends M{constructor(n){super(),this.moduleType=n}create(n){return new Be(this.moduleType,n,[])}}class Mi extends f{constructor(n){super(),this.componentFactoryResolver=new eh(this),this.instance=null;const r=new Ri([...n.providers,{provide:f,useValue:this},{provide:Us,useValue:this.componentFactoryResolver}],n.parent||Ds(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Zs(e,n,r=null){return new Mi({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}let uc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Li.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Jn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function zy(e){return!!eI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function eI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function cc(e,n,r){return e[n]=r}function eo(e,n,r){return!Object.is(e[n],r)&&(e[n]=r,!0)}function _h(e,n,r,s){const a=eo(e,n,r);return eo(e,n+1,s)||a}function ep(e,n,r,s,a,l,p,y){const w=ct(),x=Ur(),H=e+Kn,J=x.firstCreatePass?function wC(e,n,r,s,a,l,p,y,w){const x=n.consts,H=Wd(n,e,4,p||null,Ko(x,y));Vg(n,r,H,Ko(x,w)),Cc(n,H);const J=H.tView=vf(2,H,s,a,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,x,null);return null!==n.queries&&(n.queries.template(n,H),J.queries=n.queries.embeddedTView(H)),H}(H,x,w,n,r,s,a,l,p):x.data[H];pa(J,!1);const we=hw(x,w,J,e);yu()&&_f(x,w,we,J),Ao(we,w);const Me=AE(we,w,we,J);return w[H]=Me,Tf(w,Me),function rm(e,n,r){return Bf(e,n,r)}(Me,J,w),au(J)&&X_(x,w,J),null!=p&&Y_(w,J,y),ep}let hw=function fw(e,n,r,s){return ga(!0),n[Fn].createComment("")};function lI(e,n,r,s){const a=ct();return eo(a,ra(),n)&&(Ur(),Su(vi(),a,e,n,r,s)),lI}function up(e,n,r,s){return eo(e,ra(),r)?n+An(r)+s:mr}function cp(e,n,r,s,a,l){const y=_h(e,function wa(){return Ln.lFrame.bindingIndex}(),r,a);return Xs(2),y?n+An(r)+s+An(a)+l:mr}function Yy(e,n){return e<<17|n<<2}function Ql(e){return e>>17&32767}function dI(e){return 2|e}function vh(e){return(131068&e)>>2}function hI(e,n){return-131069&e|n<<2}function fI(e){return 1|e}function zw(e,n,r,s){const a=e[r+1],l=null===n;let p=s?Ql(a):vh(a),y=!1;for(;0!==p&&(!1===y||l);){const x=e[p+1];cb(e[p],n)&&(y=!0,e[p+1]=s?fI(x):dI(x)),p=s?Ql(x):vh(x)}y&&(e[r+1]=s?dI(a):fI(a))}function cb(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&kn(e,n)>=0}const So={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ww(e){return e.substring(So.key,So.keyEnd)}function Gw(e,n){const r=So.textEnd;return r===n?-1:(n=So.keyEnd=function fb(e,n,r){for(;n<r&&e.charCodeAt(n)>32;)n++;return n}(e,So.key=n,r),mp(e,n,r))}function mp(e,n,r){for(;n<r&&e.charCodeAt(n)<=32;)n++;return n}function pI(e,n,r){const s=ct();return eo(s,ra(),n)&&sa(Ur(),vi(),s,e,n,s[Fn],r,!1),pI}function gI(e,n,r,s,a){const p=a?"class":"style";sy(e,r,n.inputs[p],p,s)}function mI(e,n,r){return Lu(e,n,r,!1),mI}function _I(e,n){return Lu(e,n,null,!0),_I}function Yw(e){Vu(Tb,dc,e,!0)}function dc(e,n){for(let r=function db(e){return function qw(e){So.key=0,So.keyEnd=0,So.value=0,So.valueEnd=0,So.textEnd=e.length}(e),Gw(e,mp(e,0,So.textEnd))}(n);r>=0;r=Gw(n,r))Ji(e,Ww(n),!0)}function Lu(e,n,r,s){const a=ct(),l=Ur(),p=Xs(2);l.firstUpdatePass&&Jw(l,e,p,s),n!==mr&&eo(a,p,n)&&t0(l,l.data[bs()],a,a[Fn],e,a[p+1]=function Ab(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=vr(Za(e)))),e}(n,r),s,p)}function Vu(e,n,r,s){const a=Ur(),l=Xs(2);a.firstUpdatePass&&Jw(a,null,l,s);const p=ct();if(r!==mr&&eo(p,l,r)){const y=a.data[bs()];if(r0(y,s)&&!Zw(a,l)){let w=s?y.classesWithoutHost:y.stylesWithoutHost;null!==w&&(r=Mr(w,r||"")),gI(a,y,p,r,s)}else!function wb(e,n,r,s,a,l,p,y){a===mr&&(a=yr);let w=0,x=0,H=0<a.length?a[0]:null,J=0<l.length?l[0]:null;for(;null!==H||null!==J;){const we=w<a.length?a[w+1]:void 0,Me=x<l.length?l[x+1]:void 0;let ht,je=null;H===J?(w+=2,x+=2,we!==Me&&(je=J,ht=Me)):null===J||null!==H&&H<J?(w+=2,je=H):(x+=2,je=J,ht=Me),null!==je&&t0(e,n,r,s,je,ht,p,y),H=w<a.length?a[w]:null,J=x<l.length?l[x]:null}}(a,y,p,p[Fn],p[l+1],p[l+1]=function Ib(e,n,r){if(null==r||""===r)return yr;const s=[],a=Za(r);if(Array.isArray(a))for(let l=0;l<a.length;l++)e(s,a[l],!0);else if("object"==typeof a)for(const l in a)a.hasOwnProperty(l)&&e(s,l,a[l]);else"string"==typeof a&&n(s,a);return s}(e,n,r),s,l)}}function Zw(e,n){return n>=e.expandoStartIndex}function Jw(e,n,r,s){const a=e.data;if(null===a[r+1]){const l=a[bs()],p=Zw(e,r);r0(l,s)&&null===n&&!p&&(n=!1),n=function _b(e,n,r,s){const a=function ld(e){const n=Ln.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let l=s?n.residualClasses:n.residualStyles;if(null===a)0===(s?n.classBindings:n.styleBindings)&&(r=bm(r=yI(null,e,n,r,s),n.attrs,s),l=null);else{const p=n.directiveStylingLast;if(-1===p||e[p]!==a)if(r=yI(a,e,n,r,s),null===l){let w=function yb(e,n,r){const s=r?n.classBindings:n.styleBindings;if(0!==vh(s))return e[Ql(s)]}(e,n,s);void 0!==w&&Array.isArray(w)&&(w=yI(null,e,n,w[1],s),w=bm(w,n.attrs,s),function vb(e,n,r,s){e[Ql(r?n.classBindings:n.styleBindings)]=s}(e,n,s,w))}else l=function Eb(e,n,r){let s;const a=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<a;l++)s=bm(s,e[l].hostAttrs,r);return bm(s,n.attrs,r)}(e,n,s)}return void 0!==l&&(s?n.residualClasses=l:n.residualStyles=l),r}(a,l,n,s),function ab(e,n,r,s,a,l){let p=l?n.classBindings:n.styleBindings,y=Ql(p),w=vh(p);e[s]=r;let H,x=!1;if(Array.isArray(r)?(H=r[1],(null===H||kn(r,H)>0)&&(x=!0)):H=r,a)if(0!==w){const we=Ql(e[y+1]);e[s+1]=Yy(we,y),0!==we&&(e[we+1]=hI(e[we+1],s)),e[y+1]=function sb(e,n){return 131071&e|n<<17}(e[y+1],s)}else e[s+1]=Yy(y,0),0!==y&&(e[y+1]=hI(e[y+1],s)),y=s;else e[s+1]=Yy(w,0),0===y?y=s:e[w+1]=hI(e[w+1],s),w=s;x&&(e[s+1]=dI(e[s+1])),zw(e,H,s,!0),zw(e,H,s,!1),function ub(e,n,r,s,a){const l=a?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof n&&kn(l,n)>=0&&(r[s+1]=fI(r[s+1]))}(n,H,e,s,l),p=Yy(y,w),l?n.classBindings=p:n.styleBindings=p}(a,l,n,r,p,s)}}function yI(e,n,r,s,a){let l=null;const p=r.directiveEnd;let y=r.directiveStylingLast;for(-1===y?y=r.directiveStart:y++;y<p&&(l=n[y],s=bm(s,l.hostAttrs,a),l!==e);)y++;return null!==e&&(r.directiveStylingLast=y),s}function bm(e,n,r){const s=r?1:2;let a=-1;if(null!==n)for(let l=0;l<n.length;l++){const p=n[l];"number"==typeof p?a=p:a===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ji(e,p,!!r||n[++l]))}return void 0===e?null:e}function Tb(e,n,r){const s=String(n);""!==s&&!s.includes(" ")&&Ji(e,s,r)}function t0(e,n,r,s,a,l,p,y){if(!(3&n.type))return;const w=e.data,x=w[y+1],H=function ob(e){return!(1&~e)}(x)?n0(w,n,r,a,vh(x),p):void 0;Zy(H)||(Zy(l)||function ib(e){return!(2&~e)}(x)&&(l=n0(w,null,r,a,y,p)),function bT(e,n,r,s,a){if(n)a?e.addClass(r,s):e.removeClass(r,s);else{let l=-1===s.indexOf("-")?void 0:jd.DashCase;null==a?e.removeStyle(r,s,l):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),l|=jd.Important),e.setStyle(r,s,a,l))}}(s,p,Na(bs(),r),a,l))}function n0(e,n,r,s,a,l){const p=null===n;let y;for(;a>0;){const w=e[a],x=Array.isArray(w),H=x?w[1]:w,J=null===H;let we=r[a+1];we===mr&&(we=J?yr:void 0);let Me=J?Xn(we,s):H===s?we:void 0;if(x&&!Zy(Me)&&(Me=Xn(w,s)),Zy(Me)&&(y=Me,p))return y;const je=e[a+1];a=p?Ql(je):vh(je)}if(null!==n){let w=l?n.residualClasses:n.residualStyles;null!=w&&(y=Xn(w,s))}return y}function Zy(e){return void 0!==e}function r0(e,n){return!!(e.flags&(n?8:16))}function s0(e,n,r){Vu(Ji,dc,up(ct(),e,n,r),!0)}class xb{destroy(n){}updateValue(n,r){}swap(n,r){const s=Math.min(n,r),a=Math.max(n,r),l=this.detach(a);if(a-s>1){const p=this.detach(s);this.attach(s,l),this.attach(a,p)}else this.attach(s,l)}move(n,r){this.attach(r,this.detach(n))}}function vI(e,n,r,s,a){return e===r&&Object.is(n,s)?1:Object.is(a(e,n),a(r,s))?-1:0}function EI(e,n,r,s){return!(void 0===n||!n.has(s)||(e.attach(r,n.get(s)),n.delete(s),0))}function o0(e,n,r,s,a){if(EI(e,n,s,r(s,a)))e.updateValue(s,a);else{const l=e.create(s,a);e.attach(s,l)}}function a0(e,n,r,s){const a=new Set;for(let l=n;l<=r;l++)a.add(s(l,e.at(l)));return a}class u0{constructor(){this.kvMap=new Map,this._vMap=void 0}has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const r=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(r)?(this.kvMap.set(n,this._vMap.get(r)),this._vMap.delete(r)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,r){if(this.kvMap.has(n)){let s=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const a=this._vMap;for(;a.has(s);)s=a.get(s);a.set(s,r)}else this.kvMap.set(n,r)}forEach(n){for(let[r,s]of this.kvMap)if(n(s,r),void 0!==this._vMap){const a=this._vMap;for(;a.has(s);)s=a.get(s),n(s,r)}}}function c0(e,n,r){oa("NgControlFlow");const s=ct(),a=ra(),l=II(s,Kn+e);if(eo(s,a,n)){const y=Pe(null);try{if(ay(l,0),-1!==n){const w=TI(s[Tt],Kn+n),x=nu(l,w.tView.ssrId);Af(l,wf(s,w,r,{dehydratedView:x}),0,Gd(w,x))}}finally{Pe(y)}}else{const y=RE(l,0);void 0!==y&&(y[ci]=r)}}class Fb{constructor(n,r,s){this.lContainer=n,this.$implicit=r,this.$index=s}get $count(){return this.lContainer.length-Zr}}function l0(e,n){return n}class Vb{constructor(n,r,s){this.hasEmptyBlock=n,this.trackByFn=r,this.liveCollection=s}}function d0(e,n,r,s,a,l,p,y,w,x,H,J,we){oa("NgControlFlow");const Me=void 0!==w,je=ct(),ht=y?p.bind(je[Vr][ci]):p,kt=new Vb(Me,ht);je[Kn+e]=kt,ep(e+1,n,r,s,a,l),Me&&ep(e+2,w,x,H,J,we)}class Ub extends xb{constructor(n,r,s){super(),this.lContainer=n,this.hostLView=r,this.templateTNode=s,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Zr}at(n){return this.getLView(n)[ci].$implicit}attach(n,r){const s=r[Gi];this.needsIndexUpdate||=n!==this.length,Af(this.lContainer,r,n,Gd(this.templateTNode,s))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function Bb(e,n){return $d(e,n)}(this.lContainer,n)}create(n,r){const s=nu(this.lContainer,this.templateTNode.tView.ssrId);return wf(this.hostLView,this.templateTNode,new Fb(this.lContainer,r,n),{dehydratedView:s})}destroy(n){Mg(n[Tt],n)}updateValue(n,r){this.getLView(n)[ci].$implicit=r}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[ci].$index=n}getLView(n){return function jb(e,n){return RE(e,n)}(this.lContainer,n)}}function h0(e){const n=Pe(null),r=bs();try{const s=ct(),a=s[Tt],l=s[r];if(void 0===l.liveCollection){const y=r+1,w=II(s,y),x=TI(a,y);l.liveCollection=new Ub(w,s,x)}else l.liveCollection.reset();const p=l.liveCollection;if(function kb(e,n,r){let s,a,l=0,p=e.length-1;if(Array.isArray(n)){let y=n.length-1;for(;l<=p&&l<=y;){const w=e.at(l),x=n[l],H=vI(l,w,l,x,r);if(0!==H){H<0&&e.updateValue(l,x),l++;continue}const J=e.at(p),we=n[y],Me=vI(p,J,y,we,r);if(0!==Me){Me<0&&e.updateValue(p,we),p--,y--;continue}const je=r(l,w),ht=r(p,J),kt=r(l,x);if(Object.is(kt,ht)){const Wt=r(y,we);Object.is(Wt,je)?(e.swap(l,p),e.updateValue(p,we),y--,p--):e.move(p,l),e.updateValue(l,x),l++}else if(s??=new u0,a??=a0(e,l,p,r),EI(e,s,l,kt))e.updateValue(l,x),l++,p++;else if(a.has(kt))s.set(je,e.detach(l)),p--;else{const Wt=e.create(l,n[l]);e.attach(l,Wt),l++,p++}}for(;l<=y;)o0(e,s,r,l,n[l]),l++}else if(null!=n){const y=n[Symbol.iterator]();let w=y.next();for(;!w.done&&l<=p;){const x=e.at(l),H=w.value,J=vI(l,x,l,H,r);if(0!==J)J<0&&e.updateValue(l,H),l++,w=y.next();else{s??=new u0,a??=a0(e,l,p,r);const we=r(l,H);if(EI(e,s,l,we))e.updateValue(l,H),l++,p++,w=y.next();else if(a.has(we)){const Me=r(l,x);s.set(Me,e.detach(l)),p--}else e.attach(l,e.create(l,H)),l++,p++,w=y.next()}}for(;!w.done;)o0(e,s,r,e.length,w.value),w=y.next()}for(;l<=p;)e.destroy(e.detach(p--));s?.forEach(y=>{e.destroy(y)})}(p,e,l.trackByFn),p.updateIndexes(),l.hasEmptyBlock){const y=ra(),w=0===p.length;if(eo(s,y,w)){const x=r+2,H=II(s,x);if(w){const J=TI(a,x),we=nu(H,J.tView.ssrId);Af(H,wf(s,J,void 0,{dehydratedView:we}),0,Gd(J,we))}else ay(H,0)}}}finally{Pe(n)}}function II(e,n){return e[n]}function TI(e,n){return za(e,n)}function Jy(e,n,r,s){const a=ct(),l=Ur(),p=Kn+e,y=a[Fn],w=l.firstCreatePass?function $b(e,n,r,s,a,l){const p=n.consts,w=Wd(n,e,2,s,Ko(p,a));return Vg(n,r,w,Ko(p,l)),null!==w.attrs&&Jd(w,w.attrs,!1),null!==w.mergedAttrs&&Jd(w,w.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,w),w}(p,l,a,n,r,s):l.data[p],x=f0(l,a,w,y,n,e);a[p]=x;const H=au(w);return pa(w,!0),bu(y,x,w),!function wm(e){return!(32&~e.flags)}(w)&&yu()&&_f(l,a,x,w),0===function td(){return Ln.lFrame.elementDepthCount}()&&Ao(x,a),function nd(){Ln.lFrame.elementDepthCount++}(),H&&(X_(l,a,w),Q_(l,w,a)),null!==s&&Y_(a,w),Jy}function ev(){let e=Rr();sd()?wc():(e=e.parent,pa(e,!1));const n=e;(function id(e){return Ln.skipHydrationRootTNode===e})(n)&&function Ch(){Ln.skipHydrationRootTNode=null}(),function wo(){Ln.lFrame.elementDepthCount--}();const r=Ur();return r.firstCreatePass&&(Cc(r,e),fc(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Nh(e){return!!(8&e.flags)}(n)&&gI(r,n,ct(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Oh(e){return!!(16&e.flags)}(n)&&gI(r,n,ct(),n.stylesWithoutHost,!1),ev}function wI(e,n,r,s){return Jy(e,n,r,s),ev(),wI}let f0=(e,n,r,s,a,l)=>(ga(!0),Pg(s,a,function gl(){return Ln.lFrame.currentNamespace}()));function tv(e,n,r){const s=ct(),a=Ur(),l=e+Kn,p=a.firstCreatePass?function Wb(e,n,r,s,a){const l=n.consts,p=Ko(l,s),y=Wd(n,e,8,"ng-container",p);return null!==p&&Jd(y,p,!0),Vg(n,r,y,Ko(l,a)),null!==n.queries&&n.queries.elementStart(n,y),y}(l,a,s,n,r):a.data[l];pa(p,!0);const y=p0(a,s,p,e);return s[l]=y,yu()&&_f(a,s,y,p),Ao(y,s),au(p)&&(X_(a,s,p),Q_(a,p,s)),null!=r&&Y_(s,p),tv}function nv(){let e=Rr();const n=Ur();return sd()?wc():(e=e.parent,pa(e,!1)),n.firstCreatePass&&(Cc(n,e),fc(e)&&n.queries.elementEnd(e)),nv}function AI(e,n,r){return tv(e,n,r),nv(),AI}let p0=(e,n,r,s)=>(ga(!0),L_(n[Fn],""));function g0(){return ct()}function DI(e,n,r){const s=ct();return eo(s,ra(),n)&&sa(Ur(),vi(),s,e,n,s[Fn],r,!0),DI}const Eh=void 0;var Qb=["en",[["a","p"],["AM","PM"],Eh],[["AM","PM"],Eh,Eh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eh,"{1} 'at' {0}",Eh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qb(e){const r=Math.floor(Math.abs(e)),s=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===s?1:5}];let _p={};function CI(e){const n=function Xb(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=y0(n);if(r)return r;const s=n.split("-")[0];if(r=y0(s),r)return r;if("en"===s)return Qb;throw new st(701,!1)}function _0(e){return CI(e)[yp.PluralCase]}function y0(e){return e in _p||(_p[e]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[e]),_p[e]}var yp=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(yp||{});const vp="en-US";let v0=vp;function RI(e,n,r,s){const a=ct(),l=Ur(),p=Rr();return PI(l,a,a[Fn],p,e,n,s),RI}function PI(e,n,r,s,a,l,p){const y=au(s),x=e.firstCreatePass&&bE(e),H=n[ci],J=CE(n);let we=!0;if(3&s.type||p){const ht=ls(s,n),kt=p?p(ht):ht,Wt=J.length,At=p?hi=>p(Kr(hi[s.index])):s.index;let nr=null;if(!p&&y&&(nr=function GS(e,n,r,s){const a=e.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const p=a[l];if(p===r&&a[l+1]===s){const y=n[fo],w=a[l+2];return y.length>w?y[w]:null}"string"==typeof p&&(l+=2)}return null}(e,n,a,s.index)),null!==nr)(nr.__ngLastListenerFn__||nr).__ngNextListenerFn__=l,nr.__ngLastListenerFn__=l,we=!1;else{l=K0(s,n,H,l,!1);const hi=r.listen(kt,a,l);J.push(l,hi),x&&x.push(a,At,Wt,Wt+1)}}else l=K0(s,n,H,l,!1);const Me=s.outputs;let je;if(we&&null!==Me&&(je=Me[a])){const ht=je.length;if(ht)for(let kt=0;kt<ht;kt+=2){const Qi=n[je[kt]][je[kt+1]].subscribe(l),Po=J.length;J.push(l,Qi),x&&x.push(a,s.index,Po,-(Po+1))}}}function G0(e,n,r,s){const a=Pe(null);try{return mo(6,n,r),!1!==r(s)}catch(l){return Ug(e,l),!1}finally{mo(7,n,r),Pe(a)}}function K0(e,n,r,s,a){return function l(p){if(p===Function)return s;Cf(e.componentOffset>-1?Vo(e.index,n):n);let w=G0(n,r,s,p),x=l.__ngNextListenerFn__;for(;x;)w=G0(n,r,x,p)&&w,x=x.__ngNextListenerFn__;return a&&!1===w&&p.preventDefault(),w}}function q0(e=1){return function hl(e){return(Ln.lFrame.contextLView=function yc(e,n){for(;e>0;)n=n[ta],e--;return n}(e,Ln.lFrame.contextLView))[ci]}(e)}function KS(e,n){let r=null;const s=function pi(e){const n=e.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(e);for(let a=0;a<n.length;a++){const l=n[a];if("*"!==l){if(null===s?gr(e,l,!0):lo(s,l))return a}else r=a}return r}function Q0(e){const n=ct()[Vr][yi];if(!n.projection){const s=n.projection=function Zi(e,n){const r=[];for(let s=0;s<e;s++)r.push(n);return r}(e?e.length:1,null),a=s.slice();let l=n.child;for(;null!==l;){const p=e?KS(l,e):0;null!==p&&(a[p]?a[p].projectionNext=l:s[p]=l,a[p]=l),l=l.next}}}function X0(e,n=0,r){const s=ct(),a=Ur(),l=Wd(a,Kn+e,16,null,r||null);null===l.projection&&(l.projection=n),wc(),(!s[Gi]||fa())&&32&~l.flags&&function uE(e,n,r){W_(n[Fn],0,n,r,V_(e,r,n),oE(r.parent||n[yi],r,n))}(a,s,l)}function oA(e,n,r,s){!function dm(e,n,r,s){const a=Ur();if(a.firstCreatePass){const l=Rr();oc(a,new $f(n,r,s),l.index),function ku(e,n){const r=e.contentQueries||(e.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,n)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return by(a,ct(),r)}(e,n,r,s)}function aA(e,n,r){!function lm(e,n,r){const s=Ur();return s.firstCreatePass&&(oc(s,new $f(e,n,r),-1),!(2&~n)&&(s.staticViewQueries=!0)),by(s,ct(),n)}(e,n,r)}function uA(e){const n=ct(),r=Ur(),s=dd();cl(s+1);const a=zl(r,s);if(e.dirty&&function Sp(e){return!(4&~e[mn])}(n)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const l=oh(n,s);e.reset(l,Mc),e.notifyOnChanges()}return!0}return!1}function cA(){return function cm(e,n){return e[Ma].queries[n].queryList}(ct(),dd())}function lA(e){return Wa(function bh(){return Ln.lFrame.contextLView}(),Kn+e)}function EA(e,n=""){const r=ct(),s=Ur(),a=e+Kn,l=s.firstCreatePass?Wd(s,a,1,n,null):s.data[a],p=IA(s,r,l,n,e);r[a]=p,yu()&&_f(s,r,p,l),pa(l,!1)}let IA=(e,n,r,s,a)=>(ga(!0),function xl(e,n){return e.createText(n)}(n[Fn],s));function NI(e){return av("",e,""),NI}function av(e,n,r){const s=ct(),a=up(s,e,n,r);return a!==mr&&ic(s,bs(),a),av}function OI(e,n,r,s,a){const l=ct(),p=cp(l,e,n,r,s,a);return p!==mr&&ic(l,bs(),p),OI}function xI(e,n,r){Sy(n)&&(n=n());const s=ct();return eo(s,ra(),n)&&sa(Ur(),vi(),s,e,n,s[Fn],r,!1),xI}function RA(e,n){const r=Sy(e);return r&&e.set(n),r}function kI(e,n){const r=ct(),s=Ur(),a=Rr();return PI(s,r,r[Fn],a,e,n),kI}function FI(e,n,r,s,a){if(e=G(e),Array.isArray(e))for(let l=0;l<e.length;l++)FI(e[l],n,r,s,a);else{const l=Ur(),p=ct(),y=Rr();let w=Jr(e)?e:G(e.provide);const x=Va(e),H=1048575&y.providerIndexes,J=y.directiveStart,we=y.providerIndexes>>20;if(Jr(e)||!e.multi){const Me=new qo(x,a,zd),je=VI(w,n,a?H:H+we,J);-1===je?(ii(gt(y,p),l,w),LI(l,e,n.length),n.push(w),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),r.push(Me),p.push(Me)):(r[je]=Me,p[je]=Me)}else{const Me=VI(w,n,H+we,J),je=VI(w,n,H,H+we),kt=je>=0&&r[je];if(a&&!kt||!a&&!(Me>=0&&r[Me])){ii(gt(y,p),l,w);const Wt=function hR(e,n,r,s,a){const l=new qo(e,r,zd);return l.multi=[],l.index=n,l.componentProviders=0,PA(l,a,s&&!r),l}(a?dR:lR,r.length,a,s,x);!a&&kt&&(r[je].providerFactory=Wt),LI(l,e,n.length,0),n.push(w),y.directiveStart++,y.directiveEnd++,a&&(y.providerIndexes+=1048576),r.push(Wt),p.push(Wt)}else LI(l,e,Me>-1?Me:je,PA(r[a?je:Me],x,!a&&s));!a&&s&&kt&&r[je].componentProviders++}}}function LI(e,n,r,s){const a=Jr(n),l=function Ti(e){return!!e.useClass}(n);if(a||l){const w=(l?G(n.useClass):n).prototype.ngOnDestroy;if(w){const x=e.destroyHooks||(e.destroyHooks=[]);if(!a&&n.multi){const H=x.indexOf(r);-1===H?x.push(r,[s,w]):x[H+1].push(s,w)}else x.push(r,w)}}}function PA(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function VI(e,n,r,s){for(let a=r;a<s;a++)if(n[a]===e)return a;return-1}function lR(e,n,r,s){return UI(this.multi,[])}function dR(e,n,r,s){const a=this.multi;let l;if(this.providerFactory){const p=this.providerFactory.componentProviders,y=Ca(r,r[Tt],this.providerFactory.index,s);l=y.slice(0,p),UI(a,l);for(let w=p;w<y.length;w++)l.push(y[w])}else l=[],UI(a,l);return l}function UI(e,n){for(let r=0;r<e.length;r++)n.push((0,e[r])());return n}function MA(e,n=[]){return r=>{r.providersResolver=(s,a)=>function cR(e,n,r){const s=Ur();if(s.firstCreatePass){const a=go(e);FI(r,s.data,s.blueprint,a,!0),FI(n,s.data,s.blueprint,a,!1)}}(s,a?a(e):e,n)}}let fR=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const s=q(0,r.type),a=s.length>0?Zs([s],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Jn({token:e,providedIn:"environment",factory:()=>new e(Fr(ei))})}}return e})();function NA(e){oa("NgStandalone"),e.getStandaloneInjector=n=>n.get(fR).getOrCreateStandaloneInjector(e)}function xA(e,n,r){const s=Qs()+e,a=ct();return a[s]===mr?cc(a,s,r?n.call(r):n()):function Tm(e,n){return e[n]}(a,s)}function kA(e,n,r,s){return VA(ct(),Qs(),e,n,r,s)}function FA(e,n,r,s,a){return UA(ct(),Qs(),e,n,r,s,a)}function LA(e,n,r,s,a,l){return BA(ct(),Qs(),e,n,r,s,a,l)}function xm(e,n){const r=e[n];return r===mr?void 0:r}function VA(e,n,r,s,a,l){const p=n+r;return eo(e,p,a)?cc(e,p+1,l?s.call(l,a):s(a)):xm(e,p+1)}function UA(e,n,r,s,a,l,p){const y=n+r;return _h(e,y,a,l)?cc(e,y+2,p?s.call(p,a,l):s(a,l)):xm(e,y+2)}function BA(e,n,r,s,a,l,p,y){const w=n+r;return function Wy(e,n,r,s,a){const l=_h(e,n,r,s);return eo(e,n+2,a)||l}(e,w,a,l,p)?cc(e,w+3,y?s.call(y,a,l,p):s(a,l,p)):xm(e,w+3)}function HA(e,n){const r=Ur();let s;const a=e+Kn;r.firstCreatePass?(s=function TR(e,n){if(n)for(let r=n.length-1;r>=0;r--){const s=n[r];if(e===s.name)return s}}(n,r.pipeRegistry),r.data[a]=s,s.onDestroy&&(r.destroyHooks??=[]).push(a,s.onDestroy)):s=r.data[a];const l=s.factory||(s.factory=_o(s.type)),y=ar(zd);try{const w=d(!1),x=l();return d(w),function YS(e,n,r,s){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),n[r]=s}(r,ct(),a,x),x}finally{ar(y)}}function zA(e,n,r){const s=e+Kn,a=ct(),l=Wa(a,s);return km(a,s)?VA(a,Qs(),n,l.transform,r,l):l.transform(r)}function WA(e,n,r,s){const a=e+Kn,l=ct(),p=Wa(l,a);return km(l,a)?UA(l,Qs(),n,p.transform,r,s,p):p.transform(r,s)}function GA(e,n,r,s,a){const l=e+Kn,p=ct(),y=Wa(p,l);return km(p,l)?BA(p,Qs(),n,y.transform,r,s,a,y):y.transform(r,s,a)}function km(e,n){return e[Tt].data[n].pure}function KA(e,n){return Sf(e,n)}class cD{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const GR=new cD("17.3.12");let lD=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Jn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const gD=new hn(""),mD=new hn("");let WI,yP=(()=>{class e{constructor(r,s,a){this._ngZone=r,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,WI||(function vP(e){WI=e}(a),a.addToWindow(s)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Es.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(r)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,s,a){let l=-1;s&&s>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==l),r()},s)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:a})}whenStable(r,s,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,s,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,s,a){return[]}static{this.\u0275fac=function(s){return new(s||e)(Fr(Es),Fr(_D),Fr(mD))}}static{this.\u0275prov=Jn({token:e,factory:e.\u0275fac})}}return e})(),_D=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,s){this._applications.set(r,s)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,s=!0){return WI?.findTestabilityInTree(this,r,s)??null}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Jn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function GI(e){return!!e&&"function"==typeof e.then}function yD(e){return!!e&&"function"==typeof e.subscribe}const EP=new hn("");let KI=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s}),this.appInits=_n(EP,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const l=a();if(GI(l))r.push(l);else if(yD(l)){const p=new Promise((y,w)=>{l.subscribe({complete:y,error:w})});r.push(p)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{s()}).catch(a=>{this.reject(a)}),0===r.length&&s(),this.initialized=!0}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Jn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const qI=new hn("");let Xl=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_n(Up),this.afterRenderEffectManager=_n(Mu),this.externalTestViews=new Set,this.beforeRender=new $n.B,this.afterTick=new $n.B,this.componentTypes=[],this.components=[],this.isStable=_n(uc).hasPendingTasks.pipe((0,Vn.T)(r=>!r)),this._injector=_n(ei)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,s){const a=r instanceof Ul;if(!this._injector.get(KI).done)throw!a&&Ir(r),new st(405,!1);let p;p=a?r:this._injector.get(Us).resolveComponentFactory(r),this.componentTypes.push(p.componentType);const y=function IP(e){return e.isBoundToModule}(p)?void 0:this._injector.get(f),x=p.create(ia.NULL,[],s||p.selector,y),H=x.location.nativeElement,J=x.injector.get(gD,null);return J?.registerApplication(H),x.onDestroy(()=>{this.detachView(x.hostView),dv(this.components,x),J?.unregisterApplication(H)}),this._loadComponent(x),x}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new st(101,!1);const s=Pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(a){this.internalErrorHandler(a)}finally{this.afterTick.next(),this._runningTick=!1,Pe(s)}}detectChangesInAttachedViews(r){let s=0;const a=this.afterRenderEffectManager;for(;;){if(s===cy)throw new st(103,!1);if(r){const l=0===s;this.beforeRender.next(l);for(let{_lView:p,notifyErrorHandler:y}of this._views)wP(p,l,y)}if(s++,a.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:l})=>QI(l))&&(a.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:l})=>QI(l))))break}}attachView(r){const s=r;this._views.push(s),s.attachToAppRef(this)}detachView(r){const s=r;dv(this._views,s),s.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const s=this._injector.get(qI,[]);[...this._bootstrapListeners,...s].forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>dv(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new st(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Jn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function dv(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function wP(e,n,r){!n&&!QI(e)||function AP(e,n,r){let s;r?(s=0,e[mn]|=1024):s=64&e[mn]?0:1,Bg(e,n,s)}(e,r,n)}function QI(e){return zu(e)}class DP{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let CP=(()=>{class e{compileModuleSync(r){return new at(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const s=this.compileModuleSync(r),l=Bo(sr(r).declarations).reduce((p,y)=>{const w=Rt(y);return w&&p.push(new Ys(w)),p},[]);return new DP(s,l)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Jn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),RP=(()=>{class e{constructor(){this.zone=_n(Es),this.applicationRef=_n(Xl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Jn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function wD(e){return[{provide:Es,useFactory:e},{provide:xo,multi:!0,useFactory:()=>{const n=_n(RP,{optional:!0});return()=>n.initialize()}},{provide:xo,multi:!0,useFactory:()=>{const n=_n(NP);return()=>{n.initialize()}}},{provide:Up,useFactory:PP}]}function PP(){const e=_n(Es),n=_n(Ka);return r=>e.runOutsideAngular(()=>n.handleError(r))}function MP(e){return k([[],wD(()=>new Es(function AD(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}let NP=(()=>{class e{constructor(){this.subscription=new Tr.yU,this.initialized=!1,this.zone=_n(Es),this.pendingTasks=_n(uc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Es.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Es.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=Jn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const fv=new hn("",{providedIn:"root",factory:()=>_n(fv,tn.Optional|tn.SkipSelf)||function OP(){return typeof $localize<"u"&&$localize.locale||vp}()}),xP=new hn("",{providedIn:"root",factory:()=>"USD"}),XI=new hn("");let Yl=null;let PD=(()=>{class e{static{this.__NG_ELEMENT_ID__=UP}}return e})();function UP(e){return function BP(e,n,r){if(na(e)&&!r){const s=Vo(e.index,n);return new bf(s,s)}return 47&e.type?new bf(n[Vr],n):null}(Rr(),ct(),!(16&~e))}class xD{constructor(){}supports(n){return zy(n)}create(n){return new WP(n)}}const zP=(e,n)=>n;class WP{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||zP}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,s=this._removalsHead,a=0,l=null;for(;r||s;){const p=!s||r&&r.currentIndex<FD(s,a,l)?r:s,y=FD(p,a,l),w=p.currentIndex;if(p===s)a--,s=s._nextRemoved;else if(r=r._next,null==p.previousIndex)a++;else{l||(l=[]);const x=y-a,H=w-a;if(x!=H){for(let we=0;we<x;we++){const Me=we<l.length?l[we]:l[we]=0,je=Me+we;H<=je&&je<x&&(l[we]=Me+1)}l[p.previousIndex]=H-x}}y!==w&&n(p,y,w)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!zy(n))throw new st(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let a,l,p,r=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let y=0;y<this.length;y++)l=n[y],p=this._trackByFn(y,l),null!==r&&Object.is(r.trackById,p)?(s&&(r=this._verifyReinsertion(r,l,p,y)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,p,y),s=!0),r=r._next}else a=0,function IC(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let s;for(;!(s=r.next()).done;)n(s.value)}}(n,y=>{p=this._trackByFn(a,y),null!==r&&Object.is(r.trackById,p)?(s&&(r=this._verifyReinsertion(r,y,p,a)),Object.is(r.item,y)||this._addIdentityChange(r,y)):(r=this._mismatch(r,y,p,a),s=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,s,a){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,l,a)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,a))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,l,a)):n=this._addAfter(new GP(r,s),l,a),n}_verifyReinsertion(n,r,s,a){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==l?n=this._reinsertAfter(l,n._prev,a):n.currentIndex!=a&&(n.currentIndex=a,this._addToMoves(n,a)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const a=n._prevRemoved,l=n._nextRemoved;return null===a?this._removalsHead=l:a._nextRemoved=l,null===l?this._removalsTail=a:l._prevRemoved=a,this._insertAfter(n,r,s),this._addToMoves(n,s),n}_moveAfter(n,r,s){return this._unlink(n),this._insertAfter(n,r,s),this._addToMoves(n,s),n}_addAfter(n,r,s){return this._insertAfter(n,r,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,s){const a=null===r?this._itHead:r._next;return n._next=a,n._prev=r,null===a?this._itTail=n:a._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new kD),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,s=n._next;return null===r?this._itHead=s:r._next=s,null===s?this._itTail=r:s._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kD),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class GP{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KP{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===r||r<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const r=n._prevDup,s=n._nextDup;return null===r?this._head=s:r._nextDup=s,null===s?this._tail=r:s._prevDup=r,null===this._head}}class kD{constructor(){this.map=new Map}put(n){const r=n.trackById;let s=this.map.get(r);s||(s=new KP,this.map.set(r,s)),s.add(n)}get(n,r){const a=this.map.get(n);return a?a.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FD(e,n,r){const s=e.previousIndex;if(null===s)return s;let a=0;return r&&s<r.length&&(a=r[s]),s+n+a}class LD{constructor(){}supports(n){return n instanceof Map||eI(n)}create(){return new qP}}class qP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||eI(n)))throw new st(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,s),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(a,s);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let s=r;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const s=n._prev;return r._next=n,r._prev=s,n._prev=r,s&&(s._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const a=this._records.get(n);this._maybeAddToChanges(a,r);const l=a._prev,p=a._next;return l&&(l._next=p),p&&(p._prev=l),a._next=null,a._prev=null,a}const s=new QP(n);return this._records.set(n,s),s.currentValue=r,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(s=>r(n[s],s))}}class QP{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VD(){return new nT([new xD])}let nT=(()=>{class e{static{this.\u0275prov=Jn({token:e,providedIn:"root",factory:VD})}constructor(r){this.factories=r}static create(r,s){if(null!=s){const a=s.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:s=>e.create(r,s||VD()),deps:[[e,new $i,new ws]]}}find(r){const s=this.factories.find(a=>a.supports(r));if(null!=s)return s;throw new st(901,!1)}}return e})();function UD(){return new rT([new LD])}let rT=(()=>{class e{static{this.\u0275prov=Jn({token:e,providedIn:"root",factory:UD})}constructor(r){this.factories=r}static create(r,s){if(s){const a=s.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:s=>e.create(r,s||UD()),deps:[[e,new $i,new ws]]}}find(r){const s=this.factories.find(a=>a.supports(r));if(s)return s;throw new st(901,!1)}}return e})();function hM(e){try{const{rootComponent:n,appProviders:r,platformProviders:s}=e,a=function VP(e=[]){if(Yl)return Yl;const n=function bD(e=[],n){return ia.create({name:n,providers:[{provide:ri,useValue:"platform"},{provide:XI,useValue:new Set([()=>Yl=null])},...e]})}(e);return Yl=n,function vD(){!function sn(e){Pt=e}(()=>{throw new st(600,!1)})}(),function SD(e){e.get(Xa,null)?.forEach(r=>r())}(n),n}(s),l=[MP(),...r||[]],y=new Mi({providers:l,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,w=y.get(Es);return w.run(()=>{y.resolveInjectorInitializers();const x=y.get(Ka,null);let H;w.runOutsideAngular(()=>{H=w.onError.subscribe({next:Me=>{x.handleError(Me)}})});const J=()=>y.destroy(),we=a.get(XI);return we.add(J),y.onDestroy(()=>{H.unsubscribe(),we.delete(J)}),function ED(e,n,r){try{const s=r();return GI(s)?s.catch(a=>{throw n.runOutsideAngular(()=>e.handleError(a)),a}):s}catch(s){throw n.runOutsideAngular(()=>e.handleError(s)),s}}(x,w,()=>{const Me=y.get(KI);return Me.runInitializers(),Me.donePromise.then(()=>{!function E0(e){"string"==typeof e&&(v0=e.toLowerCase().replace(/_/g,"-"))}(y.get(fv,vp)||vp);const ht=y.get(Xl);return void 0!==n&&ht.bootstrap(n),ht})})})}catch(n){return Promise.reject(n)}}function bM(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function SM(e,n=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?n:Number(e)}function PM(e){const n=Pe(null);try{return e()}finally{Pe(n)}}const MM=new hn("",{providedIn:"root",factory:()=>_n(NM)});let NM=(()=>{class e{static{this.\u0275prov=Jn({token:e,providedIn:"root",factory:()=>new OM})}}return e})();class OM{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=_n(uc),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),null===this.taskId){const r=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(r),this.taskId=null})}}enqueue(n){const r=n.creationZone;this.queues.has(r)||this.queues.set(r,new Set);const s=this.queues.get(r);s.has(n)||(this.queuedEffectCount++,s.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,r]of this.queues)null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r))}flushQueue(n){for(const r of n)n.delete(r),this.queuedEffectCount--,r.run()}}class xM{constructor(n,r,s,a,l,p){this.scheduler=n,this.effectFn=r,this.creationZone=s,this.injector=l,this.watcher=function cn(e,n,r){const s=Object.create(on);r&&(s.consumerAllowSignalWrites=!0),s.fn=e,s.schedule=n;const a=w=>{s.cleanupFn=w};return s.ref={notify:()=>Yt(s),run:()=>{if(null===s.fn)return;if(function He(){return pe}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(s.dirty=!1,s.hasRun&&!Mn(s))return;s.hasRun=!0;const w=Xt(s);try{s.cleanupFn(),s.cleanupFn=xt,s.fn(a)}finally{zn(s,w)}},cleanup:()=>s.cleanupFn(),destroy:()=>function p(w){(function l(w){return null===w.fn&&null===w.schedule})(w)||(mt(w),w.cleanupFn(),w.fn=null,w.schedule=null,w.cleanupFn=xt)}(s),[ge]:s},s.ref}(y=>this.runEffect(y),()=>this.schedule(),p),this.unregisterOnDestroy=a?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(r){this.injector.get(Ka,null,{optional:!0})?.handleError(r)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function aC(e,n){oa("NgSignals"),!n?.injector&&function Pa(e){if(!ea())throw new st(-203,!1)}();const r=n?.injector??_n(ia),s=!0!==n?.manualCleanup?r.get(wl):null,a=new xM(r.get(MM),e,typeof Zone>"u"?null:Zone.current,s,r,n?.allowSignalWrites??!1),l=r.get(PD,null,{optional:!0});return l&&8&l._lView[mn]?(l._lView[Ho]??=[]).push(a.watcher.notify):a.watcher.notify(),a}},7440:(Qt,Ke,$)=>{$.d(Ke,{MW:()=>nt,Wp:()=>Yt,XU:()=>pe,gL:()=>Se});var g=$(2214),re=$(4438),ce=$(5407);class pe{constructor(pt){return pt}}class Se{constructor(){return(0,g.Dk)()}}const it=new re.nKC("angularfire2._apps"),He={provide:pe,useFactory:function Pe(Ze){return Ze&&1===Ze.length?Ze[0]:new pe((0,g.Sx)())},deps:[[new re.Xx1,it]]},he={provide:Se,deps:[[new re.Xx1,it]]};function _e(Ze){return(pt,It)=>{const rn=It.get(re.Agw);(0,g.KO)("angularfire",ce.xv.full,"core"),(0,g.KO)("angularfire",ce.xv.full,"app"),(0,g.KO)("angular",re.xvI.full,rn.toString());const Ut=pt.runOutsideAngular(()=>Ze(It));return new pe(Ut)}}function nt(Ze,...pt){return(0,re.EmA)([He,he,{provide:it,useFactory:_e(Ze),multi:!0,deps:[re.SKi,re.zZn,ce.u0,...pt]}])}const Yt=(0,ce.S3)(g.Wp,!0)},6335:(Qt,Ke,$)=>{$.d(Ke,{Nj:()=>_e,DF:()=>ze,eJ:()=>Ot,xI:()=>Pt,_q:()=>Mn,x9:()=>Zt,df:()=>Or,CI:()=>hr,kQ:()=>Ze});var g=$(5407),re=$(4438),ce=$(7440),pe=$(2214),Se=$(9579),ge=$(1985);function it(Zn){return new ge.c(function(G){return{unsubscribe:(0,Se.iZ)(Zn,G.next.bind(G),G.error.bind(G),G.complete.bind(G))}})}class _e{constructor(G){return G}}class ze{constructor(){return(0,g.CA)("auth")}}const ut=new re.nKC("angularfire2.auth-instances");function Ft(Zn){return(G,Ne)=>{const ae=G.runOutsideAngular(()=>Zn(Ne));return new _e(ae)}}const Yt={provide:ze,deps:[[new re.Xx1,ut]]},Xt={provide:_e,useFactory:function yt(Zn,G){const Ne=(0,g.lR)("auth",Zn,G);return Ne&&new _e(Ne)},deps:[[new re.Xx1,ut],ce.XU]};function Mn(Zn,...G){return(0,pe.KO)("angularfire",g.xv.full,"auth"),(0,re.EmA)([Xt,Yt,{provide:ut,useFactory:Ft(Zn),multi:!0,deps:[re.SKi,re.zZn,g.u0,ce.gL,[new re.Xx1,g.Jv],...G]}])}const Ze=(0,g.S3)(it,!0),Ot=(0,g.S3)(Se.eJ,!0),Pt=(0,g.S3)(Se.xI,!0),Zt=(0,g.S3)(Se.x9,!0),Or=(0,g.S3)(Se.df,!0),hr=(0,g.S3)(Se.CI,!0)},4262:(Qt,Ke,$)=>{$.d(Ke,{_7:()=>If,gS:()=>wE,rJ:()=>Tf,kd:()=>iy,H9:()=>SE,x7:()=>uy,GG:()=>ME,aU:()=>cy,AB:()=>NE,My:()=>Kd,hV:()=>Vg,P:()=>Sf,BN:()=>FE,mZ:()=>jg,_M:()=>$g});var nt,ut,g=$(5407),re=$(4438),ce=$(7440),pe=$(6335),Se=$(2214),ge=$(467),Pe=$(7852),it=$(1362),He=$(8041),he=$(1076),_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ze={};(function(){var u;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function c(ke,ve,Re){Re||(Re=0);var Fe=Array(16);if("string"==typeof ve)for(var Le=0;16>Le;++Le)Fe[Le]=ve.charCodeAt(Re++)|ve.charCodeAt(Re++)<<8|ve.charCodeAt(Re++)<<16|ve.charCodeAt(Re++)<<24;else for(Le=0;16>Le;++Le)Fe[Le]=ve[Re++]|ve[Re++]<<8|ve[Re++]<<16|ve[Re++]<<24;var Ye=ke.g[3],Ce=(ve=ke.g[0])+(Ye^(Re=ke.g[1])&((Le=ke.g[2])^Ye))+Fe[0]+3614090360&4294967295;Ce=(Re=(Le=(Ye=(ve=(Re=(Le=(Ye=(ve=(Re=(Le=(Ye=(ve=(Re=(Le=(Ye=(ve=(Re=(Le=(Ye=(ve=(Re=(Le=(Ye=(ve=(Re=(Le=(Ye=(ve=(Re=(Le=(Ye=(ve=(Re=(Le=(Ye=(ve=(Re=(Le=(Ye=(ve=(Re=(Le=(Ye=(ve=(Re=(Le=(Ye=(ve=(Re=(Le=(Ye=(ve=(Re=(Le=(Ye=(ve=(Re=(Le=(Ye=(ve=Re+(Ce<<7&4294967295|Ce>>>25))+((Ce=Ye+(Le^ve&(Re^Le))+Fe[1]+3905402710&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Le+(Re^Ye&(ve^Re))+Fe[2]+606105819&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Re+(ve^Le&(Ye^ve))+Fe[3]+3250441966&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ve+(Ye^Re&(Le^Ye))+Fe[4]+4118548399&4294967295)<<7&4294967295|Ce>>>25))+((Ce=Ye+(Le^ve&(Re^Le))+Fe[5]+1200080426&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Le+(Re^Ye&(ve^Re))+Fe[6]+2821735955&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Re+(ve^Le&(Ye^ve))+Fe[7]+4249261313&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ve+(Ye^Re&(Le^Ye))+Fe[8]+1770035416&4294967295)<<7&4294967295|Ce>>>25))+((Ce=Ye+(Le^ve&(Re^Le))+Fe[9]+2336552879&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Le+(Re^Ye&(ve^Re))+Fe[10]+4294925233&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Re+(ve^Le&(Ye^ve))+Fe[11]+2304563134&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ve+(Ye^Re&(Le^Ye))+Fe[12]+1804603682&4294967295)<<7&4294967295|Ce>>>25))+((Ce=Ye+(Le^ve&(Re^Le))+Fe[13]+4254626195&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Le+(Re^Ye&(ve^Re))+Fe[14]+2792965006&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Re+(ve^Le&(Ye^ve))+Fe[15]+1236535329&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ve+(Le^Ye&(Re^Le))+Fe[1]+4129170786&4294967295)<<5&4294967295|Ce>>>27))+((Ce=Ye+(Re^Le&(ve^Re))+Fe[6]+3225465664&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Le+(ve^Re&(Ye^ve))+Fe[11]+643717713&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Re+(Ye^ve&(Le^Ye))+Fe[0]+3921069994&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ve+(Le^Ye&(Re^Le))+Fe[5]+3593408605&4294967295)<<5&4294967295|Ce>>>27))+((Ce=Ye+(Re^Le&(ve^Re))+Fe[10]+38016083&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Le+(ve^Re&(Ye^ve))+Fe[15]+3634488961&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Re+(Ye^ve&(Le^Ye))+Fe[4]+3889429448&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ve+(Le^Ye&(Re^Le))+Fe[9]+568446438&4294967295)<<5&4294967295|Ce>>>27))+((Ce=Ye+(Re^Le&(ve^Re))+Fe[14]+3275163606&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Le+(ve^Re&(Ye^ve))+Fe[3]+4107603335&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Re+(Ye^ve&(Le^Ye))+Fe[8]+1163531501&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ve+(Le^Ye&(Re^Le))+Fe[13]+2850285829&4294967295)<<5&4294967295|Ce>>>27))+((Ce=Ye+(Re^Le&(ve^Re))+Fe[2]+4243563512&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Le+(ve^Re&(Ye^ve))+Fe[7]+1735328473&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Re+(Ye^ve&(Le^Ye))+Fe[12]+2368359562&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ve+(Re^Le^Ye)+Fe[5]+4294588738&4294967295)<<4&4294967295|Ce>>>28))+((Ce=Ye+(ve^Re^Le)+Fe[8]+2272392833&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Le+(Ye^ve^Re)+Fe[11]+1839030562&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Re+(Le^Ye^ve)+Fe[14]+4259657740&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ve+(Re^Le^Ye)+Fe[1]+2763975236&4294967295)<<4&4294967295|Ce>>>28))+((Ce=Ye+(ve^Re^Le)+Fe[4]+1272893353&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Le+(Ye^ve^Re)+Fe[7]+4139469664&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Re+(Le^Ye^ve)+Fe[10]+3200236656&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ve+(Re^Le^Ye)+Fe[13]+681279174&4294967295)<<4&4294967295|Ce>>>28))+((Ce=Ye+(ve^Re^Le)+Fe[0]+3936430074&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Le+(Ye^ve^Re)+Fe[3]+3572445317&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Re+(Le^Ye^ve)+Fe[6]+76029189&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ve+(Re^Le^Ye)+Fe[9]+3654602809&4294967295)<<4&4294967295|Ce>>>28))+((Ce=Ye+(ve^Re^Le)+Fe[12]+3873151461&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Le+(Ye^ve^Re)+Fe[15]+530742520&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Re+(Le^Ye^ve)+Fe[2]+3299628645&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ve+(Le^(Re|~Ye))+Fe[0]+4096336452&4294967295)<<6&4294967295|Ce>>>26))+((Ce=Ye+(Re^(ve|~Le))+Fe[7]+1126891415&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Le+(ve^(Ye|~Re))+Fe[14]+2878612391&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Re+(Ye^(Le|~ve))+Fe[5]+4237533241&4294967295)<<21&4294967295|Ce>>>11))+((Ce=ve+(Le^(Re|~Ye))+Fe[12]+1700485571&4294967295)<<6&4294967295|Ce>>>26))+((Ce=Ye+(Re^(ve|~Le))+Fe[3]+2399980690&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Le+(ve^(Ye|~Re))+Fe[10]+4293915773&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Re+(Ye^(Le|~ve))+Fe[1]+2240044497&4294967295)<<21&4294967295|Ce>>>11))+((Ce=ve+(Le^(Re|~Ye))+Fe[8]+1873313359&4294967295)<<6&4294967295|Ce>>>26))+((Ce=Ye+(Re^(ve|~Le))+Fe[15]+4264355552&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Le+(ve^(Ye|~Re))+Fe[6]+2734768916&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Re+(Ye^(Le|~ve))+Fe[13]+1309151649&4294967295)<<21&4294967295|Ce>>>11))+((Ye=(ve=Re+((Ce=ve+(Le^(Re|~Ye))+Fe[4]+4149444226&4294967295)<<6&4294967295|Ce>>>26))+((Ce=Ye+(Re^(ve|~Le))+Fe[11]+3174756917&4294967295)<<10&4294967295|Ce>>>22))^((Le=Ye+((Ce=Le+(ve^(Ye|~Re))+Fe[2]+718787259&4294967295)<<15&4294967295|Ce>>>17))|~ve))+Fe[9]+3951481745&4294967295,ke.g[0]=ke.g[0]+ve&4294967295,ke.g[1]=ke.g[1]+(Le+(Ce<<21&4294967295|Ce>>>11))&4294967295,ke.g[2]=ke.g[2]+Le&4294967295,ke.g[3]=ke.g[3]+Ye&4294967295}function _(ke,ve){this.h=ve;for(var Re=[],Fe=!0,Le=ke.length-1;0<=Le;Le--){var Ye=0|ke[Le];Fe&&Ye==ve||(Re[Le]=Ye,Fe=!1)}this.g=Re}(function t(ke,ve){function Re(){}Re.prototype=ve.prototype,ke.D=ve.prototype,ke.prototype=new Re,ke.prototype.constructor=ke,ke.C=function(Fe,Le,Ye){for(var Ce=Array(arguments.length-2),Ru=2;Ru<arguments.length;Ru++)Ce[Ru-2]=arguments[Ru];return ve.prototype[Le].apply(Fe,Ce)}})(o,function i(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(ke,ve){void 0===ve&&(ve=ke.length);for(var Re=ve-this.blockSize,Fe=this.B,Le=this.h,Ye=0;Ye<ve;){if(0==Le)for(;Ye<=Re;)c(this,ke,Ye),Ye+=this.blockSize;if("string"==typeof ke){for(;Ye<ve;)if(Fe[Le++]=ke.charCodeAt(Ye++),Le==this.blockSize){c(this,Fe),Le=0;break}}else for(;Ye<ve;)if(Fe[Le++]=ke[Ye++],Le==this.blockSize){c(this,Fe),Le=0;break}}this.h=Le,this.o+=ve},o.prototype.v=function(){var ke=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ke[0]=128;for(var ve=1;ve<ke.length-8;++ve)ke[ve]=0;var Re=8*this.o;for(ve=ke.length-8;ve<ke.length;++ve)ke[ve]=255&Re,Re/=256;for(this.u(ke),ke=Array(16),ve=Re=0;4>ve;++ve)for(var Fe=0;32>Fe;Fe+=8)ke[Re++]=this.g[ve]>>>Fe&255;return ke};var C={};function P(ke){return-128<=ke&&128>ke?function h(ke,ve){var Re=C;return Object.prototype.hasOwnProperty.call(Re,ke)?Re[ke]:Re[ke]=ve(ke)}(ke,function(ve){return new _([0|ve],0>ve?-1:0)}):new _([0|ke],0>ke?-1:0)}function L(ke){if(isNaN(ke)||!isFinite(ke))return ie;if(0>ke)return Dt(L(-ke));for(var ve=[],Re=1,Fe=0;ke>=Re;Fe++)ve[Fe]=ke/Re|0,Re*=4294967296;return new _(ve,0)}var ie=P(0),Te=P(1),Ge=P(16777216);function _t(ke){if(0!=ke.h)return!1;for(var ve=0;ve<ke.g.length;ve++)if(0!=ke.g[ve])return!1;return!0}function Nt(ke){return-1==ke.h}function Dt(ke){for(var ve=ke.g.length,Re=[],Fe=0;Fe<ve;Fe++)Re[Fe]=~ke.g[Fe];return new _(Re,~ke.h).add(Te)}function En(ke,ve){return ke.add(Dt(ve))}function Sn(ke,ve){for(;(65535&ke[ve])!=ke[ve];)ke[ve+1]+=ke[ve]>>>16,ke[ve]&=65535,ve++}function In(ke,ve){this.g=ke,this.h=ve}function _r(ke,ve){if(_t(ve))throw Error("division by zero");if(_t(ke))return new In(ie,ie);if(Nt(ke))return ve=_r(Dt(ke),ve),new In(Dt(ve.g),Dt(ve.h));if(Nt(ve))return ve=_r(ke,Dt(ve)),new In(Dt(ve.g),ve.h);if(30<ke.g.length){if(Nt(ke)||Nt(ve))throw Error("slowDivide_ only works with positive integers.");for(var Re=Te,Fe=ve;0>=Fe.l(ke);)Re=li(Re),Fe=li(Fe);var Le=Pr(Re,1),Ye=Pr(Fe,1);for(Fe=Pr(Fe,2),Re=Pr(Re,2);!_t(Fe);){var Ce=Ye.add(Fe);0>=Ce.l(ke)&&(Le=Le.add(Re),Ye=Ce),Fe=Pr(Fe,1),Re=Pr(Re,1)}return ve=En(ke,Le.j(ve)),new In(Le,ve)}for(Le=ie;0<=ke.l(ve);){for(Re=Math.max(1,Math.floor(ke.m()/ve.m())),Fe=48>=(Fe=Math.ceil(Math.log(Re)/Math.LN2))?1:Math.pow(2,Fe-48),Ce=(Ye=L(Re)).j(ve);Nt(Ce)||0<Ce.l(ke);)Ce=(Ye=L(Re-=Fe)).j(ve);_t(Ye)&&(Ye=Te),Le=Le.add(Ye),ke=En(ke,Ce)}return new In(Le,ke)}function li(ke){for(var ve=ke.g.length+1,Re=[],Fe=0;Fe<ve;Fe++)Re[Fe]=ke.i(Fe)<<1|ke.i(Fe-1)>>>31;return new _(Re,ke.h)}function Pr(ke,ve){var Re=ve>>5;ve%=32;for(var Fe=ke.g.length-Re,Le=[],Ye=0;Ye<Fe;Ye++)Le[Ye]=0<ve?ke.i(Ye+Re)>>>ve|ke.i(Ye+Re+1)<<32-ve:ke.i(Ye+Re);return new _(Le,ke.h)}(u=_.prototype).m=function(){if(Nt(this))return-Dt(this).m();for(var ke=0,ve=1,Re=0;Re<this.g.length;Re++){var Fe=this.i(Re);ke+=(0<=Fe?Fe:4294967296+Fe)*ve,ve*=4294967296}return ke},u.toString=function(ke){if(2>(ke=ke||10)||36<ke)throw Error("radix out of range: "+ke);if(_t(this))return"0";if(Nt(this))return"-"+Dt(this).toString(ke);for(var ve=L(Math.pow(ke,6)),Re=this,Fe="";;){var Le=_r(Re,ve).g,Ye=((0<(Re=En(Re,Le.j(ve))).g.length?Re.g[0]:Re.h)>>>0).toString(ke);if(_t(Re=Le))return Ye+Fe;for(;6>Ye.length;)Ye="0"+Ye;Fe=Ye+Fe}},u.i=function(ke){return 0>ke?0:ke<this.g.length?this.g[ke]:this.h},u.l=function(ke){return Nt(ke=En(this,ke))?-1:_t(ke)?0:1},u.abs=function(){return Nt(this)?Dt(this):this},u.add=function(ke){for(var ve=Math.max(this.g.length,ke.g.length),Re=[],Fe=0,Le=0;Le<=ve;Le++){var Ye=Fe+(65535&this.i(Le))+(65535&ke.i(Le)),Ce=(Ye>>>16)+(this.i(Le)>>>16)+(ke.i(Le)>>>16);Fe=Ce>>>16,Re[Le]=(Ce&=65535)<<16|(Ye&=65535)}return new _(Re,-2147483648&Re[Re.length-1]?-1:0)},u.j=function(ke){if(_t(this)||_t(ke))return ie;if(Nt(this))return Nt(ke)?Dt(this).j(Dt(ke)):Dt(Dt(this).j(ke));if(Nt(ke))return Dt(this.j(Dt(ke)));if(0>this.l(Ge)&&0>ke.l(Ge))return L(this.m()*ke.m());for(var ve=this.g.length+ke.g.length,Re=[],Fe=0;Fe<2*ve;Fe++)Re[Fe]=0;for(Fe=0;Fe<this.g.length;Fe++)for(var Le=0;Le<ke.g.length;Le++){var Ye=this.i(Fe)>>>16,Ce=65535&this.i(Fe),Ru=ke.i(Le)>>>16,nu=65535&ke.i(Le);Re[2*Fe+2*Le]+=Ce*nu,Sn(Re,2*Fe+2*Le),Re[2*Fe+2*Le+1]+=Ye*nu,Sn(Re,2*Fe+2*Le+1),Re[2*Fe+2*Le+1]+=Ce*Ru,Sn(Re,2*Fe+2*Le+1),Re[2*Fe+2*Le+2]+=Ye*Ru,Sn(Re,2*Fe+2*Le+2)}for(Fe=0;Fe<ve;Fe++)Re[Fe]=Re[2*Fe+1]<<16|Re[2*Fe];for(Fe=ve;Fe<2*ve;Fe++)Re[Fe]=0;return new _(Re,0)},u.A=function(ke){return _r(this,ke).h},u.and=function(ke){for(var ve=Math.max(this.g.length,ke.g.length),Re=[],Fe=0;Fe<ve;Fe++)Re[Fe]=this.i(Fe)&ke.i(Fe);return new _(Re,this.h&ke.h)},u.or=function(ke){for(var ve=Math.max(this.g.length,ke.g.length),Re=[],Fe=0;Fe<ve;Fe++)Re[Fe]=this.i(Fe)|ke.i(Fe);return new _(Re,this.h|ke.h)},u.xor=function(ke){for(var ve=Math.max(this.g.length,ke.g.length),Re=[],Fe=0;Fe<ve;Fe++)Re[Fe]=this.i(Fe)^ke.i(Fe);return new _(Re,this.h^ke.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,ut=ze.Md5=o,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=L,_.fromString=function K(ke,ve){if(0==ke.length)throw Error("number format error: empty string");if(2>(ve=ve||10)||36<ve)throw Error("radix out of range: "+ve);if("-"==ke.charAt(0))return Dt(K(ke.substring(1),ve));if(0<=ke.indexOf("-"))throw Error('number format error: interior "-" character');for(var Re=L(Math.pow(ve,8)),Fe=ie,Le=0;Le<ke.length;Le+=8){var Ye=Math.min(8,ke.length-Le),Ce=parseInt(ke.substring(Le,Le+Ye),ve);8>Ye?(Ye=L(Math.pow(ve,Ye)),Fe=Fe.j(Ye).add(L(Ce))):Fe=(Fe=Fe.j(Re)).add(L(Ce))}return Fe},nt=ze.Integer=_}).apply(typeof _e<"u"?_e:typeof self<"u"?self:typeof window<"u"?window:{});var Yt,zn,Mn,mt,Ze,pt,It,rn,yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ft={};(function(){var u,t="function"==typeof Object.defineProperties?Object.defineProperty:function(f,M,B){return f==Array.prototype||f==Object.prototype||(f[M]=B.value),f},o=function i(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof yt&&yt];for(var M=0;M<f.length;++M){var B=f[M];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}(this);!function c(f,M){if(M)e:{var B=o;f=f.split(".");for(var te=0;te<f.length-1;te++){var Be=f[te];if(!(Be in B))break e;B=B[Be]}(M=M(te=B[f=f[f.length-1]]))!=te&&null!=M&&t(B,f,{configurable:!0,writable:!0,value:M})}}("Array.prototype.values",function(f){return f||function(){return function h(f,M){f instanceof String&&(f+="");var B=0,te=!1,Be={next:function(){if(!te&&B<f.length){var at=B++;return{value:M(at,f[at]),done:!1}}return te=!0,{done:!0,value:void 0}}};return Be[Symbol.iterator]=function(){return Be},Be}(this,function(M,B){return B})}});var _=_||{},C=this||self;function P(f){var M=typeof f;return"array"==(M="object"!=M?M:f?Array.isArray(f)?"array":M:"null")||"object"==M&&"number"==typeof f.length}function L(f){var M=typeof f;return"object"==M&&null!=f||"function"==M}function K(f,M,B){return f.call.apply(f.bind,arguments)}function ie(f,M,B){if(!f)throw Error();if(2<arguments.length){var te=Array.prototype.slice.call(arguments,2);return function(){var Be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Be,te),f.apply(M,Be)}}return function(){return f.apply(M,arguments)}}function Te(f,M,B){return(Te=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?K:ie).apply(null,arguments)}function Ge(f,M){var B=Array.prototype.slice.call(arguments,1);return function(){var te=B.slice();return te.push.apply(te,arguments),f.apply(this,te)}}function _t(f,M){function B(){}B.prototype=M.prototype,f.aa=M.prototype,f.prototype=new B,f.prototype.constructor=f,f.Qb=function(te,Be,at){for(var qt=Array(arguments.length-2),Mi=2;Mi<arguments.length;Mi++)qt[Mi-2]=arguments[Mi];return M.prototype[Be].apply(te,qt)}}function Nt(f){const M=f.length;if(0<M){const B=Array(M);for(let te=0;te<M;te++)B[te]=f[te];return B}return[]}function Dt(f,M){for(let B=1;B<arguments.length;B++){const te=arguments[B];if(P(te)){const Be=f.length||0,at=te.length||0;f.length=Be+at;for(let qt=0;qt<at;qt++)f[Be+qt]=te[qt]}else f.push(te)}}function Sn(f){return/^[\s\xa0]*$/.test(f)}function In(){var f=C.navigator;return f&&(f=f.userAgent)?f:""}function _r(f){return _r[" "](f),f}_r[" "]=function(){};var li=!(-1==In().indexOf("Gecko")||-1!=In().toLowerCase().indexOf("webkit")&&-1==In().indexOf("Edge")||-1!=In().indexOf("Trident")||-1!=In().indexOf("MSIE")||-1!=In().indexOf("Edge"));function Pr(f,M,B){for(const te in f)M.call(B,f[te],te,f)}function ve(f){const M={};for(const B in f)M[B]=f[B];return M}const Re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fe(f,M){let B,te;for(let Be=1;Be<arguments.length;Be++){for(B in te=arguments[Be],te)f[B]=te[B];for(let at=0;at<Re.length;at++)B=Re[at],Object.prototype.hasOwnProperty.call(te,B)&&(f[B]=te[B])}}function Le(f){var M=1;f=f.split(":");const B=[];for(;0<M&&f.length;)B.push(f.shift()),M--;return f.length&&B.push(f.join(":")),B}function Ye(f){C.setTimeout(()=>{throw f},0)}function Ce(){var f=zg;let M=null;return f.g&&(M=f.g,f.g=f.g.next,f.g||(f.h=null),M.next=null),M}var nu=new class En{constructor(M,B){this.i=M,this.j=B,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}(()=>new Pf,f=>f.reset());class Pf{constructor(){this.next=this.g=this.h=null}set(M,B){this.h=M,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let qd,Ul=!1,zg=new class Ru{constructor(){this.h=this.g=null}add(M,B){const te=nu.get();te.set(M,B),this.h?this.h.next=te:this.g=te,this.h=te}},Wg=()=>{const f=C.Promise.resolve(void 0);qd=()=>{f.then(ow)}};var ow=()=>{for(var f;f=Ce();){try{f.h.call(f.g)}catch(B){Ye(B)}var M=nu;M.j(f),100>M.h&&(M.h++,f.next=M.g,M.g=f)}Ul=!1};function sc(){this.s=this.s,this.C=this.C}function Us(f,M){this.type=f,this.g=this.target=M,this.defaultPrevented=!1}sc.prototype.s=!1,sc.prototype.ma=function(){this.s||(this.s=!0,this.N())},sc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Us.prototype.h=function(){this.defaultPrevented=!0};var hy=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var f=!1,M=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const B=()=>{};C.addEventListener("test",B,M),C.removeEventListener("test",B,M)}catch{}return f}();function Qd(f,M){if(Us.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var B=this.type=f.type,te=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=M,M=f.relatedTarget){if(li){e:{try{_r(M.nodeName);var Be=!0;break e}catch{}Be=!1}Be||(M=null)}}else"mouseover"==B?M=f.fromElement:"mouseout"==B&&(M=f.toElement);this.relatedTarget=M,te?(this.clientX=void 0!==te.clientX?te.clientX:te.pageX,this.clientY=void 0!==te.clientY?te.clientY:te.pageY,this.screenX=te.screenX||0,this.screenY=te.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:LE[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Qd.aa.h.call(this)}}_t(Qd,Us);var LE={2:"touch",3:"pen",4:"mouse"};Qd.prototype.h=function(){Qd.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xd="closure_listenable_"+(1e6*Math.random()|0),Gg=0;function aw(f,M,B,te,Be){this.listener=f,this.proxy=null,this.src=M,this.type=B,this.capture=!!te,this.ha=Be,this.key=++Gg,this.da=this.fa=!1}function Yd(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function oa(f){this.src=f,this.g={},this.h=0}function Mf(f,M){var B=M.type;if(B in f.g){var at,te=f.g[B],Be=Array.prototype.indexOf.call(te,M,void 0);(at=0<=Be)&&Array.prototype.splice.call(te,Be,1),at&&(Yd(M),0==f.g[B].length&&(delete f.g[B],f.h--))}}function Kg(f,M,B,te){for(var Be=0;Be<f.length;++Be){var at=f[Be];if(!at.da&&at.listener==M&&at.capture==!!B&&at.ha==te)return Be}return-1}oa.prototype.add=function(f,M,B,te,Be){var at=f.toString();(f=this.g[at])||(f=this.g[at]=[],this.h++);var qt=Kg(f,M,te,Be);return-1<qt?(M=f[qt],B||(M.fa=!1)):((M=new aw(M,this.src,at,!!te,Be)).fa=B,f.push(M)),M};var fy="closure_lm_"+(1e6*Math.random()|0),Es={};function py(f,M,B,te,Be){if(te&&te.once)return gy(f,M,B,te,Be);if(Array.isArray(M)){for(var at=0;at<M.length;at++)py(f,M[at],B,te,Be);return null}return B=Pu(B),f&&f[Xd]?f.K(M,B,L(te)?!!te.capture:!!te,Be):Nf(f,M,B,!1,te,Be)}function Nf(f,M,B,te,Be,at){if(!M)throw Error("Invalid event type");var qt=L(Be)?!!Be.capture:!!Be,Mi=Qg(f);if(Mi||(f[fy]=Mi=new oa(f)),(B=Mi.add(M,B,te,qt,at)).proxy)return B;if(te=function VE(){const M=my;return function f(B){return M.call(f.src,f.listener,B)}}(),B.proxy=te,te.src=f,te.listener=B,f.addEventListener)hy||(Be=qt),void 0===Be&&(Be=!1),f.addEventListener(M.toString(),te,Be);else if(f.attachEvent)f.attachEvent(qg(M.toString()),te);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(te)}return B}function gy(f,M,B,te,Be){if(Array.isArray(M)){for(var at=0;at<M.length;at++)gy(f,M[at],B,te,Be);return null}return B=Pu(B),f&&f[Xd]?f.L(M,B,L(te)?!!te.capture:!!te,Be):Nf(f,M,B,!0,te,Be)}function Of(f,M,B,te,Be){if(Array.isArray(M))for(var at=0;at<M.length;at++)Of(f,M[at],B,te,Be);else te=L(te)?!!te.capture:!!te,B=Pu(B),f&&f[Xd]?(f=f.i,(M=String(M).toString())in f.g&&-1<(B=Kg(at=f.g[M],B,te,Be))&&(Yd(at[B]),Array.prototype.splice.call(at,B,1),0==at.length&&(delete f.g[M],f.h--))):f&&(f=Qg(f))&&(M=f.g[M.toString()],f=-1,M&&(f=Kg(M,B,te,Be)),(B=-1<f?M[f]:null)&&xf(B))}function xf(f){if("number"!=typeof f&&f&&!f.da){var M=f.src;if(M&&M[Xd])Mf(M.i,f);else{var B=f.type,te=f.proxy;M.removeEventListener?M.removeEventListener(B,te,f.capture):M.detachEvent?M.detachEvent(qg(B),te):M.addListener&&M.removeListener&&M.removeListener(te),(B=Qg(M))?(Mf(B,f),0==B.h&&(B.src=null,M[fy]=null)):Yd(f)}}}function qg(f){return f in Es?Es[f]:Es[f]="on"+f}function my(f,M){if(f.da)f=!0;else{M=new Qd(M,this);var B=f.listener,te=f.ha||f.src;f.fa&&xf(f),f=B.call(te,M)}return f}function Qg(f){return(f=f[fy])instanceof oa?f:null}var Xg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pu(f){return"function"==typeof f?f:(f[Xg]||(f[Xg]=function(M){return f.handleEvent(M)}),f[Xg])}function Co(){sc.call(this),this.i=new oa(this),this.M=this,this.F=null}function bo(f,M){var B,te=f.F;if(te)for(B=[];te;te=te.F)B.push(te);if(f=f.M,te=M.type||M,"string"==typeof M)M=new Us(M,f);else if(M instanceof Us)M.target=M.target||f;else{var Be=M;Fe(M=new Us(te,f),Be)}if(Be=!0,B)for(var at=B.length-1;0<=at;at--){var qt=M.g=B[at];Be=kf(qt,te,!0,M)&&Be}if(Be=kf(qt=M.g=f,te,!0,M)&&Be,Be=kf(qt,te,!1,M)&&Be,B)for(at=0;at<B.length;at++)Be=kf(qt=M.g=B[at],te,!1,M)&&Be}function kf(f,M,B,te){if(!(M=f.i.g[String(M)]))return!0;M=M.concat();for(var Be=!0,at=0;at<M.length;++at){var qt=M[at];if(qt&&!qt.da&&qt.capture==B){var Mi=qt.listener,Zs=qt.ha||qt.src;qt.fa&&Mf(f.i,qt),Be=!1!==Mi.call(Zs,te)&&Be}}return Be&&!te.defaultPrevented}function _y(f,M,B){if("function"==typeof f)B&&(f=Te(f,B));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=Te(f.handleEvent,f)}return 2147483647<Number(M)?-1:C.setTimeout(f,M||0)}function Yg(f){f.g=_y(()=>{f.g=null,f.i&&(f.i=!1,Yg(f))},f.l);const M=f.h;f.h=null,f.m.apply(null,M)}_t(Co,sc),Co.prototype[Xd]=!0,Co.prototype.removeEventListener=function(f,M,B,te){Of(this,f,M,B,te)},Co.prototype.N=function(){if(Co.aa.N.call(this),this.i){var M,f=this.i;for(M in f.g){for(var B=f.g[M],te=0;te<B.length;te++)Yd(B[te]);delete f.g[M],f.h--}}this.F=null},Co.prototype.K=function(f,M,B,te){return this.i.add(String(f),M,!1,B,te)},Co.prototype.L=function(f,M,B,te){return this.i.add(String(f),M,!0,B,te)};class yy extends sc{constructor(M,B){super(),this.m=M,this.l=B,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:Yg(this)}N(){super.N(),this.g&&(C.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mu(f){sc.call(this),this.h=f,this.g={}}_t(Mu,sc);var Ff=[];function Nu(f){Pr(f.g,function(M,B){this.g.hasOwnProperty(B)&&xf(M)},f),f.g={}}Mu.prototype.N=function(){Mu.aa.N.call(this),Nu(this)},Mu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bl=C.JSON.stringify,vy=C.JSON.parse,Zd=class{stringify(f){return C.JSON.stringify(f,void 0)}parse(f){return C.JSON.parse(f,void 0)}};function Zg(){}function Lf(){}Zg.prototype.h=null;var jl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ru(){Us.call(this,"d")}function Qc(){Us.call(this,"c")}_t(ru,Us),_t(Qc,Us);var $l={},Jd=null;function eh(){return Jd=Jd||new Co}function Jg(f){Us.call(this,$l.La,f)}function th(f){const M=eh();bo(M,new Jg(M))}function nh(f,M){Us.call(this,$l.STAT_EVENT,f),this.stat=M}function Ys(f){const M=eh();bo(M,new nh(M,f))}function Iy(f,M){Us.call(this,$l.Ma,f),this.size=M}function rh(f,M){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return C.setTimeout(function(){f()},M)}function ih(){this.g=!0}function Hl(f,M,B,te){f.info(function(){return"XMLHTTP TEXT ("+M+"): "+function $E(f,M){if(!f.g)return M;if(!M)return null;try{var B=JSON.parse(M);if(B)for(f=0;f<B.length;f++)if(Array.isArray(B[f])){var te=B[f];if(!(2>te.length)){var Be=te[1];if(Array.isArray(Be)&&!(1>Be.length)){var at=Be[0];if("noop"!=at&&"stop"!=at&&"close"!=at)for(var qt=1;qt<Be.length;qt++)Be[qt]=""}}}return Bl(B)}catch{return M}}(f,B)+(te?" "+te:"")})}$l.La="serverreachability",_t(Jg,Us),$l.STAT_EVENT="statevent",_t(nh,Us),$l.Ma="timingevent",_t(Iy,Us),ih.prototype.xa=function(){this.g=!1},ih.prototype.info=function(){};var em,Xc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ty={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function sh(){}function Ou(f,M,B,te){this.j=f,this.i=M,this.l=B,this.R=te||1,this.U=new Mu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vf}function Vf(){this.i=null,this.g="",this.h=!1}_t(sh,Zg),sh.prototype.g=function(){return new XMLHttpRequest},sh.prototype.i=function(){return{}},em=new sh;var tm={},nm={};function Uf(f,M,B){f.L=1,f.v=hm(ku(M)),f.m=B,f.P=!0,Bf(f,null)}function Bf(f,M){f.F=Date.now(),jf(f),f.A=ku(f.v);var B=f.A,te=f.R;Array.isArray(te)||(te=[String(te)]),GE(B.i,"t",te),f.C=0,B=f.j.J,f.h=new Vf,f.g=Hy(f.j,B?M:null,!f.m),0<f.O&&(f.M=new yy(Te(f.Y,f,f.g),f.O)),M=f.U,B=f.g,te=f.ca;var Be="readystatechange";Array.isArray(Be)||(Be&&(Ff[0]=Be.toString()),Be=Ff);for(var at=0;at<Be.length;at++){var qt=py(B,Be[at],te||M.handleEvent,!1,M.h||M);if(!qt)break;M.g[qt.key]=qt}M=f.H?ve(f.H):{},f.m?(f.u||(f.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,M)):(f.u="GET",f.g.ea(f.A,f.u,null,M)),th(),function UE(f,M,B,te,Be,at){f.info(function(){if(f.g)if(at)for(var qt="",Mi=at.split("&"),Zs=0;Zs<Mi.length;Zs++){var di=Mi[Zs].split("=");if(1<di.length){var Js=di[0];di=di[1];var Xo=Js.split("_");qt=2<=Xo.length&&"type"==Xo[1]?qt+(Js+"=")+di+"&":qt+(Js+"=redacted&")}}else qt=null;else qt=at;return"XMLHTTP REQ ("+te+") [attempt "+Be+"]: "+M+"\n"+B+"\n"+qt})}(f.i,f.u,f.A,f.l,f.R,f.m)}function rm(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function wy(f,M){var B=f.C,te=M.indexOf("\n",B);return-1==te?nm:(B=Number(M.substring(B,te)),isNaN(B)?tm:(te+=1)+B>M.length?nm:(M=M.slice(te,te+B),f.C=te+B,M))}function jf(f){f.S=Date.now()+f.I,Ay(f,f.I)}function Ay(f,M){if(null!=f.B)throw Error("WatchDog timer not null");f.B=rh(Te(f.ba,f),M)}function im(f){f.B&&(C.clearTimeout(f.B),f.B=null)}function Yc(f){0==f.j.G||f.J||Uy(f.j,f)}function xu(f){im(f);var M=f.M;M&&"function"==typeof M.ma&&M.ma(),f.M=null,Nu(f.U),f.g&&(M=f.g,f.g=null,M.abort(),M.ma())}function $f(f,M){try{var B=f.j;if(0!=B.G&&(B.g==f||om(B.h,f)))if(!f.K&&om(B.h,f)&&3==B.G){try{var te=B.Da.g.parse(M)}catch{te=null}if(Array.isArray(te)&&3==te.length){var Be=te;if(0==Be[0]){e:if(!B.u){if(B.g){if(!(B.g.F+3e3<f.F))break e;Jf(B),Yf(B)}_m(B),Ys(18)}}else B.za=Be[1],0<B.za-B.T&&37500>Be[2]&&B.F&&0==B.v&&!B.C&&(B.C=rh(Te(B.Za,B),6e3));if(1>=Cy(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else Jc(B,11)}else if((f.K||B.g==f)&&Jf(B),!Sn(M))for(Be=B.Da.g.parse(M),M=0;M<Be.length;M++){let di=Be[M];if(B.T=di[0],di=di[1],2==B.G)if("c"==di[0]){B.K=di[1],B.ia=di[2];const Js=di[3];null!=Js&&(B.la=Js,B.j.info("VER="+B.la));const Xo=di[4];null!=Xo&&(B.Aa=Xo,B.j.info("SVER="+B.Aa));const mh=di[5];null!=mh&&"number"==typeof mh&&0<mh&&(B.L=te=1.5*mh,B.j.info("backChannelRequestTimeoutMs_="+te)),te=B;const ka=f.g;if(ka){const Im=ka.g?ka.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Im){var at=te.h;at.g||-1==Im.indexOf("spdy")&&-1==Im.indexOf("quic")&&-1==Im.indexOf("h2")||(at.j=at.l,at.g=new Set,at.h&&(am(at,at.h),at.h=null))}if(te.D){const uc=ka.g?ka.g.getResponseHeader("X-HTTP-Session-Id"):null;uc&&(te.ya=uc,os(te.I,te.D,uc))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-f.F,B.j.info("Handshake RTT: "+B.R+"ms"));var qt=f;if((te=B).qa=$y(te,te.J?te.ia:null,te.W),qt.K){um(te.h,qt);var Mi=qt,Zs=te.L;Zs&&(Mi.I=Zs),Mi.B&&(im(Mi),jf(Mi)),te.g=qt}else Zf(te);0<B.i.length&&gm(B)}else"stop"!=di[0]&&"close"!=di[0]||Jc(B,7);else 3==B.G&&("stop"==di[0]||"close"==di[0]?"stop"==di[0]?Jc(B,7):Xf(B):"noop"!=di[0]&&B.l&&B.l.ta(di),B.v=0)}th()}catch{}}Ou.prototype.ca=function(f){f=f.target;const M=this.M;M&&3==ac(f)?M.j():this.Y(f)},Ou.prototype.Y=function(f){try{if(f==this.g)e:{const Xo=ac(this.g);var M=this.g.Ba();if(this.g.Z(),!(3>Xo)&&(3!=Xo||this.g&&(this.h.h||this.g.oa()||Ly(this.g)))){this.J||4!=Xo||7==M||th(),im(this);var B=this.g.Z();this.X=B;t:if(rm(this)){var te=Ly(this.g);f="";var Be=te.length,at=4==ac(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xu(this),Yc(this);var qt="";break t}this.h.i=new C.TextDecoder}for(M=0;M<Be;M++)this.h.h=!0,f+=this.h.i.decode(te[M],{stream:!(at&&M==Be-1)});te.length=0,this.h.g+=f,this.C=0,qt=this.h.g}else qt=this.g.oa();if(this.o=200==B,function BE(f,M,B,te,Be,at,qt){f.info(function(){return"XMLHTTP RESP ("+te+") [ attempt "+Be+"]: "+M+"\n"+B+"\n"+at+" "+qt})}(this.i,this.u,this.A,this.l,this.R,Xo,B),this.o){if(this.T&&!this.K){t:{if(this.g){var Mi,Zs=this.g;if((Mi=Zs.g?Zs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sn(Mi)){var di=Mi;break t}}di=null}if(!(B=di)){this.o=!1,this.s=3,Ys(12),xu(this),Yc(this);break e}Hl(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$f(this,B)}if(this.P){let ka;for(B=!0;!this.J&&this.C<qt.length;){if(ka=wy(this,qt),ka==nm){4==Xo&&(this.s=4,Ys(14),B=!1),Hl(this.i,this.l,null,"[Incomplete Response]");break}if(ka==tm){this.s=4,Ys(15),Hl(this.i,this.l,qt,"[Invalid Chunk]"),B=!1;break}Hl(this.i,this.l,ka,null),$f(this,ka)}if(rm(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Xo||0!=qt.length||this.h.h||(this.s=1,Ys(16),B=!1),this.o=this.o&&B,B){if(0<qt.length&&!this.W){this.W=!0;var Js=this.j;Js.g==this&&Js.ba&&!Js.M&&(Js.j.info("Great, no buffering proxy detected. Bytes received: "+qt.length),ym(Js),Js.M=!0,Ys(11))}}else Hl(this.i,this.l,qt,"[Invalid Chunked Response]"),xu(this),Yc(this)}else Hl(this.i,this.l,qt,null),$f(this,qt);4==Xo&&xu(this),this.o&&!this.J&&(4==Xo?Uy(this.j,this):(this.o=!1,jf(this)))}else(function YE(f){const M={};f=(f.g&&2<=ac(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let te=0;te<f.length;te++){if(Sn(f[te]))continue;var B=Le(f[te]);const Be=B[0];if("string"!=typeof(B=B[1]))continue;B=B.trim();const at=M[Be]||[];M[Be]=at,at.push(B)}!function ke(f,M){for(const B in f)M.call(void 0,f[B],B,f)}(M,function(te){return te.join(", ")})})(this.g),400==B&&0<qt.indexOf("Unknown SID")?(this.s=3,Ys(12)):(this.s=0,Ys(13)),xu(this),Yc(this)}}}catch{}},Ou.prototype.cancel=function(){this.J=!0,xu(this)},Ou.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function jE(f,M){f.info(function(){return"TIMEOUT: "+M})}(this.i,this.A),2!=this.L&&(th(),Ys(17)),xu(this),this.s=2,Yc(this)):Ay(this,this.S-f)};var sm=class{constructor(f,M){this.g=f,this.map=M}};function Hf(f){this.l=f||10,f=C.PerformanceNavigationTiming?0<(f=C.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(C.chrome&&C.chrome.loadTimes&&C.chrome.loadTimes()&&C.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dy(f){return!!f.h||!!f.g&&f.g.size>=f.j}function Cy(f){return f.h?1:f.g?f.g.size:0}function om(f,M){return f.h?f.h==M:!!f.g&&f.g.has(M)}function am(f,M){f.g?f.g.add(M):f.h=M}function um(f,M){f.h&&f.h==M?f.h=null:f.g&&f.g.has(M)&&f.g.delete(M)}function zf(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let M=f.i;for(const B of f.g.values())M=M.concat(B.D);return M}return Nt(f.i)}function lm(f,M){if(f.forEach&&"function"==typeof f.forEach)f.forEach(M,void 0);else if(P(f)||"string"==typeof f)Array.prototype.forEach.call(f,M,void 0);else for(var B=function by(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(P(f)||"string"==typeof f){var M=[];f=f.length;for(var B=0;B<f;B++)M.push(B);return M}M=[],B=0;for(const te in f)M[B++]=te;return M}}}(f),te=function cm(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(P(f)){for(var M=[],B=f.length,te=0;te<B;te++)M.push(f[te]);return M}for(te in M=[],B=0,f)M[B++]=f[te];return M}(f),Be=te.length,at=0;at<Be;at++)M.call(void 0,te[at],B&&B[at],f)}Hf.prototype.cancel=function(){if(this.i=zf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var dm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oc(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof oc){this.h=f.h,zl(this,f.j),this.o=f.o,this.g=f.g,oh(this,f.s),this.l=f.l;var M=f.i,B=new uh;B.i=M.i,M.g&&(B.g=new Map(M.g),B.h=M.h),Wf(this,B),this.m=f.m}else f&&(M=String(f).match(dm))?(this.h=!1,zl(this,M[1]||"",!0),this.o=ah(M[2]||""),this.g=ah(M[3]||"",!0),oh(this,M[4]),this.l=ah(M[5]||"",!0),Wf(this,M[6]||"",!0),this.m=ah(M[7]||"")):(this.h=!1,this.i=new uh(null,this.h))}function ku(f){return new oc(f)}function zl(f,M,B){f.j=B?ah(M,!0):M,f.j&&(f.j=f.j.replace(/:$/,""))}function oh(f,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);f.s=M}else f.s=null}function Wf(f,M,B){M instanceof uh?(f.i=M,function uw(f,M){M&&!f.j&&(Zc(f),f.i=null,f.g.forEach(function(B,te){var Be=te.toLowerCase();te!=Be&&(zE(this,te),GE(this,Be,B))},f)),f.j=M}(f.i,f.h)):(B||(M=Wl(M,My)),f.i=new uh(M,f.h))}function os(f,M,B){f.i.set(M,B)}function hm(f){return os(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ah(f,M){return f?M?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Wl(f,M,B){return"string"==typeof f?(f=encodeURI(f).replace(M,Sy),B&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Sy(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}oc.prototype.toString=function(){var f=[],M=this.j;M&&f.push(Wl(M,Gf,!0),":");var B=this.g;return(B||"file"==M)&&(f.push("//"),(M=this.o)&&f.push(Wl(M,Gf,!0),"@"),f.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(B=this.s)&&f.push(":",String(B))),(B=this.l)&&(this.g&&"/"!=B.charAt(0)&&f.push("/"),f.push(Wl(B,"/"==B.charAt(0)?Py:Ry,!0))),(B=this.i.toString())&&f.push("?",B),(B=this.m)&&f.push("#",Wl(B,Ny)),f.join("")};var Gf=/[#\/\?@]/g,Ry=/[#\?:]/g,Py=/[#\?]/g,My=/[#\?@]/g,Ny=/#/g;function uh(f,M){this.h=this.g=null,this.i=f||null,this.j=!!M}function Zc(f){f.g||(f.g=new Map,f.h=0,f.i&&function HE(f,M){if(f){f=f.split("&");for(var B=0;B<f.length;B++){var te=f[B].indexOf("="),Be=null;if(0<=te){var at=f[B].substring(0,te);Be=f[B].substring(te+1)}else at=f[B];M(at,Be?decodeURIComponent(Be.replace(/\+/g," ")):"")}}}(f.i,function(M,B){f.add(decodeURIComponent(M.replace(/\+/g," ")),B)}))}function zE(f,M){Zc(f),M=ch(f,M),f.g.has(M)&&(f.i=null,f.h-=f.g.get(M).length,f.g.delete(M))}function WE(f,M){return Zc(f),M=ch(f,M),f.g.has(M)}function GE(f,M,B){zE(f,M),0<B.length&&(f.i=null,f.g.set(ch(f,M),Nt(B)),f.h+=B.length)}function ch(f,M){return M=String(M),f.j&&(M=M.toLowerCase()),M}function Fu(f,M,B,te,Be){try{Be&&(Be.onload=null,Be.onerror=null,Be.onabort=null,Be.ontimeout=null),te(B)}catch{}}function Oy(){this.g=new Zd}function dw(f,M,B){const te=B||"";try{lm(f,function(Be,at){let qt=Be;L(Be)&&(qt=Bl(Be)),M.push(te+at+"="+encodeURIComponent(qt))})}catch(Be){throw M.push(te+"type="+encodeURIComponent("_badmap")),Be}}function Kf(f){this.l=f.Ub||null,this.j=f.eb||!1}function fm(f,M){Co.call(this),this.D=f,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function KE(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function qf(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Qf(f)}function Qf(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function qE(f){let M="";return Pr(f,function(B,te){M+=te,M+=":",M+=B,M+="\r\n"}),M}function xy(f,M,B){e:{for(te in B){var te=!1;break e}te=!0}te||(B=qE(B),"string"==typeof f?null!=B&&encodeURIComponent(String(B)):os(f,M,B))}function Rs(f){Co.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(u=uh.prototype).add=function(f,M){Zc(this),this.i=null,f=ch(this,f);var B=this.g.get(f);return B||this.g.set(f,B=[]),B.push(M),this.h+=1,this},u.forEach=function(f,M){Zc(this),this.g.forEach(function(B,te){B.forEach(function(Be){f.call(M,Be,te,this)},this)},this)},u.na=function(){Zc(this);const f=Array.from(this.g.values()),M=Array.from(this.g.keys()),B=[];for(let te=0;te<M.length;te++){const Be=f[te];for(let at=0;at<Be.length;at++)B.push(M[te])}return B},u.V=function(f){Zc(this);let M=[];if("string"==typeof f)WE(this,f)&&(M=M.concat(this.g.get(ch(this,f))));else{f=Array.from(this.g.values());for(let B=0;B<f.length;B++)M=M.concat(f[B])}return M},u.set=function(f,M){return Zc(this),this.i=null,WE(this,f=ch(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[M]),this.h+=1,this},u.get=function(f,M){return f&&0<(f=this.V(f)).length?String(f[0]):M},u.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],M=Array.from(this.g.keys());for(var B=0;B<M.length;B++){var te=M[B];const at=encodeURIComponent(String(te)),qt=this.V(te);for(te=0;te<qt.length;te++){var Be=at;""!==qt[te]&&(Be+="="+encodeURIComponent(String(qt[te]))),f.push(Be)}}return this.i=f.join("&")},_t(Kf,Zg),Kf.prototype.g=function(){return new fm(this.l,this.j)},Kf.prototype.i=function(f){return function(){return f}}({}),_t(fm,Co),(u=fm.prototype).open=function(f,M){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=M,this.readyState=1,Qf(this)},u.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(M.body=f),(this.D||C).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},u.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qf(this)),this.readyState=0},u.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Qf(this)),this.g&&(this.readyState=3,Qf(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof C.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;KE(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},u.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var M=f.value?f.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!f.done}))&&(this.response=this.responseText+=M)}f.done?qf(this):Qf(this),3==this.readyState&&KE(this)}},u.Ra=function(f){this.g&&(this.response=this.responseText=f,qf(this))},u.Qa=function(f){this.g&&(this.response=f,qf(this))},u.ga=function(){this.g&&qf(this)},u.setRequestHeader=function(f,M){this.u.append(f,M)},u.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},u.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],M=this.h.entries();for(var B=M.next();!B.done;)f.push((B=B.value)[0]+": "+B[1]),B=M.next();return f.join("\r\n")},Object.defineProperty(fm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),_t(Rs,Co);var QE=/^https?$/i,Gl=["POST","PUT"];function Kl(f,M){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=M,f.m=5,ky(f),lh(f)}function ky(f){f.A||(f.A=!0,bo(f,"complete"),bo(f,"error"))}function XE(f){if(f.h&&typeof _<"u"&&(!f.v[1]||4!=ac(f)||2!=f.Z()))if(f.u&&4==ac(f))_y(f.Ea,0,f);else if(bo(f,"readystatechange"),4==ac(f)){f.h=!1;try{const qt=f.Z();e:switch(qt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var B;if(!(B=M)){var te;if(te=0===qt){var Be=String(f.D).match(dm)[1]||null;!Be&&C.self&&C.self.location&&(Be=C.self.location.protocol.slice(0,-1)),te=!QE.test(Be?Be.toLowerCase():"")}B=te}if(B)bo(f,"complete"),bo(f,"success");else{f.m=6;try{var at=2<ac(f)?f.g.statusText:""}catch{at=""}f.l=at+" ["+f.Z()+"]",ky(f)}}finally{lh(f)}}}function lh(f,M){if(f.g){Fy(f);const B=f.g,te=f.v[0]?()=>{}:null;f.g=null,f.v=null,M||bo(f,"ready");try{B.onreadystatechange=te}catch{}}}function Fy(f){f.I&&(C.clearTimeout(f.I),f.I=null)}function ac(f){return f.g?f.g.readyState:0}function Ly(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function dh(f,M,B){return B&&B.internalChannelParams&&B.internalChannelParams[f]||M}function hh(f){this.Aa=0,this.i=[],this.j=new ih,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dh("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dh("baseRetryDelayMs",5e3,f),this.cb=dh("retryDelaySeedMs",1e4,f),this.Wa=dh("forwardChannelMaxRetries",2,f),this.wa=dh("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Hf(f&&f.concurrentRequestLimit),this.Da=new Oy,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Xf(f){if(pm(f),3==f.G){var M=f.U++,B=ku(f.I);if(os(B,"SID",f.K),os(B,"RID",M),os(B,"TYPE","terminate"),fh(f,B),(M=new Ou(f,f.j,M)).L=2,M.v=hm(ku(B)),B=!1,C.navigator&&C.navigator.sendBeacon)try{B=C.navigator.sendBeacon(M.v.toString(),"")}catch{}!B&&C.Image&&((new Image).src=M.v,B=!0),B||(M.g=Hy(M.j,null),M.g.ea(M.v)),M.F=Date.now(),jf(M)}jy(f)}function Yf(f){f.g&&(ym(f),f.g.cancel(),f.g=null)}function pm(f){Yf(f),f.u&&(C.clearTimeout(f.u),f.u=null),Jf(f),f.h.cancel(),f.s&&("number"==typeof f.s&&C.clearTimeout(f.s),f.s=null)}function gm(f){if(!Dy(f.h)&&!f.s){f.s=!0;var M=f.Ga;qd||Wg(),Ul||(qd(),Ul=!0),zg.add(M,f),f.B=0}}function ZE(f,M){var B;B=M?M.l:f.U++;const te=ku(f.I);os(te,"SID",f.K),os(te,"RID",B),os(te,"AID",f.T),fh(f,te),f.m&&f.o&&xy(te,f.m,f.o),B=new Ou(f,f.j,B,f.B+1),null===f.m&&(B.H=f.o),M&&(f.i=M.D.concat(f.i)),M=mm(f,B,1e3),B.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),am(f.h,B),Uf(B,te,M)}function fh(f,M){f.H&&Pr(f.H,function(B,te){os(M,te,B)}),f.l&&lm({},function(B,te){os(M,te,B)})}function mm(f,M,B){B=Math.min(f.i.length,B);var te=f.l?Te(f.l.Na,f.l,f):null;e:{var Be=f.i;let at=-1;for(;;){const qt=["count="+B];-1==at?0<B?(at=Be[0].g,qt.push("ofs="+at)):at=0:qt.push("ofs="+at);let Mi=!0;for(let Zs=0;Zs<B;Zs++){let di=Be[Zs].g;const Js=Be[Zs].map;if(di-=at,0>di)at=Math.max(0,Be[Zs].g-100),Mi=!1;else try{dw(Js,qt,"req"+di+"_")}catch{te&&te(Js)}}if(Mi){te=qt.join("&");break e}}}return f=f.i.splice(0,B),M.D=f,te}function Zf(f){if(!f.g&&!f.u){f.Y=1;var M=f.Fa;qd||Wg(),Ul||(qd(),Ul=!0),zg.add(M,f),f.v=0}}function _m(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=rh(Te(f.Fa,f),By(f,f.v)),f.v++,0))}function ym(f){null!=f.A&&(C.clearTimeout(f.A),f.A=null)}function ph(f){f.g=new Ou(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var M=ku(f.qa);os(M,"RID","rpc"),os(M,"SID",f.K),os(M,"AID",f.T),os(M,"CI",f.F?"0":"1"),!f.F&&f.ja&&os(M,"TO",f.ja),os(M,"TYPE","xmlhttp"),fh(f,M),f.m&&f.o&&xy(M,f.m,f.o),f.L&&(f.g.I=f.L);var B=f.g;f=f.ia,B.L=1,B.v=hm(ku(M)),B.m=null,B.P=!0,Bf(B,f)}function Jf(f){null!=f.C&&(C.clearTimeout(f.C),f.C=null)}function Uy(f,M){var B=null;if(f.g==M){Jf(f),ym(f),f.g=null;var te=2}else{if(!om(f.h,M))return;B=M.D,um(f.h,M),te=1}if(0!=f.G)if(M.o)if(1==te){B=M.m?M.m.length:0,M=Date.now()-M.F;var Be=f.B;bo(te=eh(),new Iy(te,B)),gm(f)}else Zf(f);else if(3==(Be=M.s)||0==Be&&0<M.X||!(1==te&&function Vy(f,M){return!(Cy(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=M.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=rh(Te(f.Ga,f,M),By(f,f.B)),f.B++,0)))}(f,M)||2==te&&_m(f)))switch(B&&0<B.length&&(M=f.h,M.i=M.i.concat(B)),Be){case 1:Jc(f,5);break;case 4:Jc(f,10);break;case 3:Jc(f,6);break;default:Jc(f,2)}}function By(f,M){let B=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(B*=2),B*M}function Jc(f,M){if(f.j.info("Error code "+M),2==M){var B=Te(f.fb,f),te=f.Xa;const Be=!te;te=new oc(te||"//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||zl(te,"https"),hm(te),Be?function cw(f,M){const B=new ih;if(C.Image){const te=new Image;te.onload=Ge(Fu,B,"TestLoadImage: loaded",!0,M,te),te.onerror=Ge(Fu,B,"TestLoadImage: error",!1,M,te),te.onabort=Ge(Fu,B,"TestLoadImage: abort",!1,M,te),te.ontimeout=Ge(Fu,B,"TestLoadImage: timeout",!1,M,te),C.setTimeout(function(){te.ontimeout&&te.ontimeout()},1e4),te.src=f}else M(!1)}(te.toString(),B):function lw(f,M){new ih;const te=new AbortController,Be=setTimeout(()=>{te.abort(),Fu(0,0,!1,M)},1e4);fetch(f,{signal:te.signal}).then(at=>{clearTimeout(Be),Fu(0,0,!!at.ok,M)}).catch(()=>{clearTimeout(Be),Fu(0,0,!1,M)})}(te.toString(),B)}else Ys(2);f.G=0,f.l&&f.l.sa(M),jy(f),pm(f)}function jy(f){if(f.G=0,f.ka=[],f.l){const M=zf(f.h);(0!=M.length||0!=f.i.length)&&(Dt(f.ka,M),Dt(f.ka,f.i),f.h.i.length=0,Nt(f.i),f.i.length=0),f.l.ra()}}function $y(f,M,B){var te=B instanceof oc?ku(B):new oc(B);if(""!=te.g)M&&(te.g=M+"."+te.g),oh(te,te.s);else{var Be=C.location;te=Be.protocol,M=M?M+"."+Be.hostname:Be.hostname,Be=+Be.port;var at=new oc(null);te&&zl(at,te),M&&(at.g=M),Be&&oh(at,Be),B&&(at.l=B),te=at}return M=f.ya,(B=f.D)&&M&&os(te,B,M),os(te,"VER",f.la),fh(f,te),te}function Hy(f,M,B){if(M&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(M=new Rs(f.Ca&&!f.pa?new Kf({eb:B}):f.pa)).Ha(f.J),M}function vm(){}function gh(){}function ma(f,M){Co.call(this),this.g=new hh(M),this.l=f,this.h=M&&M.messageUrlParams||null,f=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(f?f["X-WebChannel-Content-Type"]=M.messageContentType:f={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(f?f["X-WebChannel-Client-Profile"]=M.va:f={"X-WebChannel-Client-Profile":M.va}),this.g.S=f,(f=M&&M.Sb)&&!Sn(f)&&(this.g.m=f),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!Sn(M)&&(this.g.D=M,null!==(f=this.h)&&M in f&&M in(f=this.h)&&delete f[M]),this.j=new el(this)}function JE(f){ru.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var M=f.__sm__;if(M){e:{for(const B in M){f=B;break e}f=void 0}(this.i=f)&&(f=this.i,M=null!==M&&f in M?M[f]:void 0),this.data=M}else this.data=f}function Em(){Qc.call(this),this.status=1}function el(f){this.g=f}(u=Rs.prototype).Ha=function(f){this.J=f},u.ea=function(f,M,B,te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);M=M?M.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():em.g(),this.v=function Ey(f){return f.h||(f.h=f.i())}(this.o?this.o:em),this.g.onreadystatechange=Te(this.Ea,this);try{this.B=!0,this.g.open(M,String(f),!0),this.B=!1}catch(at){return void Kl(this,at)}if(f=B||"",B=new Map(this.headers),te)if(Object.getPrototypeOf(te)===Object.prototype)for(var Be in te)B.set(Be,te[Be]);else{if("function"!=typeof te.keys||"function"!=typeof te.get)throw Error("Unknown input type for opt_headers: "+String(te));for(const at of te.keys())B.set(at,te.get(at))}te=Array.from(B.keys()).find(at=>"content-type"==at.toLowerCase()),Be=C.FormData&&f instanceof C.FormData,!(0<=Array.prototype.indexOf.call(Gl,M,void 0))||te||Be||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[at,qt]of B)this.g.setRequestHeader(at,qt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fy(this),this.u=!0,this.g.send(f),this.u=!1}catch(at){Kl(this,at)}},u.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,bo(this,"complete"),bo(this,"abort"),lh(this))},u.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lh(this,!0)),Rs.aa.N.call(this)},u.Ea=function(){this.s||(this.B||this.u||this.j?XE(this):this.bb())},u.bb=function(){XE(this)},u.isActive=function(){return!!this.g},u.Z=function(){try{return 2<ac(this)?this.g.status:-1}catch{return-1}},u.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},u.Oa=function(f){if(this.g){var M=this.g.responseText;return f&&0==M.indexOf(f)&&(M=M.substring(f.length)),vy(M)}},u.Ba=function(){return this.m},u.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(u=hh.prototype).la=8,u.G=1,u.connect=function(f,M,B,te){Ys(0),this.W=f,this.H=M||{},B&&void 0!==te&&(this.H.OSID=B,this.H.OAID=te),this.F=this.X,this.I=$y(this,null,this.W),gm(this)},u.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Be=new Ou(this,this.j,f);let at=this.o;if(this.S&&(at?(at=ve(at),Fe(at,this.S)):at=this.S),null!==this.m||this.O||(Be.H=at,at=null),this.P)e:{for(var M=0,B=0;B<this.i.length;B++){var te=this.i[B];if(void 0===(te="__data__"in te.map&&"string"==typeof(te=te.map.__data__)?te.length:void 0))break;if(4096<(M+=te)){M=B;break e}if(4096===M||B===this.i.length-1){M=B+1;break e}}M=1e3}else M=1e3;M=mm(this,Be,M),os(B=ku(this.I),"RID",f),os(B,"CVER",22),this.D&&os(B,"X-HTTP-Session-Id",this.D),fh(this,B),at&&(this.O?M="headers="+encodeURIComponent(String(qE(at)))+"&"+M:this.m&&xy(B,this.m,at)),am(this.h,Be),this.Ua&&os(B,"TYPE","init"),this.P?(os(B,"$req",M),os(B,"SID","null"),Be.T=!0,Uf(Be,B,null)):Uf(Be,B,M),this.G=2}}else 3==this.G&&(f?ZE(this,f):0==this.i.length||Dy(this.h)||ZE(this))},u.Fa=function(){if(this.u=null,ph(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=rh(Te(this.ab,this),f)}},u.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ys(10),Yf(this),ph(this))},u.Za=function(){null!=this.C&&(this.C=null,Yf(this),_m(this),Ys(19))},u.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ys(2)):(this.j.info("Failed to ping google.com"),Ys(1))},u.isActive=function(){return!!this.l&&this.l.isActive(this)},(u=vm.prototype).ua=function(){},u.ta=function(){},u.sa=function(){},u.ra=function(){},u.isActive=function(){return!0},u.Na=function(){},gh.prototype.g=function(f,M){return new ma(f,M)},_t(ma,Co),ma.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ma.prototype.close=function(){Xf(this.g)},ma.prototype.o=function(f){var M=this.g;if("string"==typeof f){var B={};B.__data__=f,f=B}else this.u&&((B={}).__data__=Bl(f),f=B);M.i.push(new sm(M.Ya++,f)),3==M.G&&gm(M)},ma.prototype.N=function(){this.g.l=null,delete this.j,Xf(this.g),delete this.g,ma.aa.N.call(this)},_t(JE,ru),_t(Em,Qc),_t(el,vm),el.prototype.ua=function(){bo(this.g,"a")},el.prototype.ta=function(f){bo(this.g,new JE(f))},el.prototype.sa=function(f){bo(this.g,new Em)},el.prototype.ra=function(){bo(this.g,"b")},gh.prototype.createWebChannel=gh.prototype.g,ma.prototype.send=ma.prototype.o,ma.prototype.open=ma.prototype.m,ma.prototype.close=ma.prototype.close,rn=Ft.createWebChannelTransport=function(){return new gh},It=Ft.getStatEventTarget=function(){return eh()},pt=Ft.Event=$l,Ze=Ft.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xc.NO_ERROR=0,Xc.TIMEOUT=8,Xc.HTTP_ERROR=6,mt=Ft.ErrorCode=Xc,Ty.COMPLETE="complete",Mn=Ft.EventType=Ty,Lf.EventType=jl,jl.OPEN="a",jl.CLOSE="b",jl.ERROR="c",jl.MESSAGE="d",Co.prototype.listen=Co.prototype.K,zn=Ft.WebChannel=Lf,Ft.FetchXmlHttpFactory=Kf,Rs.prototype.listenOnce=Rs.prototype.L,Rs.prototype.getLastError=Rs.prototype.Ka,Rs.prototype.getLastErrorCode=Rs.prototype.Ba,Rs.prototype.getStatus=Rs.prototype.Z,Rs.prototype.getResponseJson=Rs.prototype.Oa,Rs.prototype.getResponseText=Rs.prototype.oa,Rs.prototype.send=Rs.prototype.ea,Rs.prototype.setWithCredentials=Rs.prototype.Ha,Yt=Ft.XhrIo=Rs}).apply(typeof yt<"u"?yt:typeof self<"u"?self:typeof window<"u"?window:{});const Ut="@firebase/firestore";class ye{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ye.UNAUTHENTICATED=new ye(null),ye.GOOGLE_CREDENTIALS=new ye("google-credentials-uid"),ye.FIRST_PARTY=new ye("first-party-uid"),ye.MOCK_USER=new ye("mock-user");let Qe="10.14.0";const Ot=new He.Vy("@firebase/firestore");function Qn(){return Ot.logLevel}function ot(u,...t){if(Ot.logLevel<=He.$b.DEBUG){const i=t.map(sn);Ot.debug(`Firestore (${Qe}): ${u}`,...i)}}function Pt(u,...t){if(Ot.logLevel<=He.$b.ERROR){const i=t.map(sn);Ot.error(`Firestore (${Qe}): ${u}`,...i)}}function Bt(u,...t){if(Ot.logLevel<=He.$b.WARN){const i=t.map(sn);Ot.warn(`Firestore (${Qe}): ${u}`,...i)}}function sn(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch{return u}}function Et(u="Unexpected state"){const t=`FIRESTORE (${Qe}) INTERNAL ASSERTION FAILED: `+u;throw Pt(t),new Error(t)}function Mt(u,t){u||Et()}function me(u,t){return u}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends he.g{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dt{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}class wt{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(ye.UNAUTHENTICATED))}shutdown(){}}class xt{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class on{constructor(t){this.t=t,this.currentUser=ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){var o=this;Mt(void 0===this.o);let c=this.i;const h=L=>this.i!==c?(c=this.i,i(L)):Promise.resolve();let _=new dt;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new dt,t.enqueueRetryable(()=>h(this.currentUser))};const C=()=>{const L=_;t.enqueueRetryable((0,ge.A)(function*(){yield L.promise,yield h(o.currentUser)}))},P=L=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=L,this.o&&(this.auth.addAuthTokenListener(this.o),C())};this.t.onInit(L=>P(L)),setTimeout(()=>{if(!this.auth){const L=this.t.getImmediate({optional:!0});L?P(L):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new dt)}},0),C()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Mt("string"==typeof o.accessToken),new wt(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Mt(null===t||"string"==typeof t),new ye(t)}}class Gt{constructor(t,i,o){this.l=t,this.h=i,this.P=o,this.type="FirstParty",this.user=ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $n{constructor(t,i,o){this.l=t,this.h=i,this.P=o}getToken(){return Promise.resolve(new Gt(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tr{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Li{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){Mt(void 0===this.o);const o=h=>{null!=h.error&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const _=h.token!==this.R;return this.R=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>o(h))};const c=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>c(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?c(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Mt("string"==typeof i.token),this.R=i.token,new Tr(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function fr(u){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(u);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let o=0;o<u;o++)i[o]=Math.floor(256*Math.random());return i}class Br{static newId(){const i=62*Math.floor(256/62);let o="";for(;o.length<20;){const c=fr(40);for(let h=0;h<c.length;++h)o.length<20&&c[h]<i&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[h]%62))}return o}}function st(u,t){return u<t?-1:u>t?1:0}function or(u,t,i){return u.length===t.length&&u.every((o,c)=>i(o,t[c]))}class rr{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new se(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new se(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new se(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new se(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return rr.fromMillis(Date.now())}static fromDate(t){return rr.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*i));return new rr(i,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?st(this.nanoseconds,t.nanoseconds):st(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Jt(t)}static min(){return new Jt(new rr(0,0))}static max(){return new Jt(new rr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class as{constructor(t,i,o){void 0===i?i=0:i>t.length&&Et(),void 0===o?o=t.length-i:o>t.length-i&&Et(),this.segments=t,this.offset=i,this.len=o}get length(){return this.len}isEqual(t){return 0===as.comparator(this,t)}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof as?t.forEach(o=>{i.push(o)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,o=this.limit();i<o;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const o=Math.min(t.length,i.length);for(let c=0;c<o;c++){const h=t.get(c),_=i.get(c);if(h<_)return-1;if(h>_)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class Tn extends as{construct(t,i,o){return new Tn(t,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const o of t){if(o.indexOf("//")>=0)throw new se(ne.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(c=>c.length>0))}return new Tn(i)}static emptyPath(){return new Tn([])}}const wn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends as{construct(t,i,o){return new Zt(t,i,o)}static isValidIdentifier(t){return wn.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zt(["__name__"])}static fromServerFormat(t){const i=[];let o="",c=0;const h=()=>{if(0===o.length)throw new se(ne.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let _=!1;for(;c<t.length;){const C=t[c];if("\\"===C){if(c+1===t.length)throw new se(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const P=t[c+1];if("\\"!==P&&"."!==P&&"`"!==P)throw new se(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=P,c+=2}else"`"===C?(_=!_,c++):"."!==C||_?(o+=C,c++):(h(),c++)}if(h(),_)throw new se(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zt(i)}static emptyPath(){return new Zt([])}}class Ct{constructor(t){this.path=t}static fromPath(t){return new Ct(Tn.fromString(t))}static fromName(t){return new Ct(Tn.fromString(t).popFirst(5))}static empty(){return new Ct(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Tn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,i){return Tn.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ct(new Tn(t.slice()))}}class si{constructor(t,i,o){this.readTime=t,this.documentKey=i,this.largestBatchId=o}static min(){return new si(Jt.min(),Ct.empty(),-1)}static max(){return new si(Jt.max(),Ct.empty(),-1)}}function vr(u,t){let i=u.readTime.compareTo(t.readTime);return 0!==i?i:(i=Ct.comparator(u.documentKey,t.documentKey),0!==i?i:st(u.largestBatchId,t.largestBatchId))}const Mr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function oi(u){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,ge.A)(function*(u){if(u.code!==ne.FAILED_PRECONDITION||u.message!==Mr)throw u;ot("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class G{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new G((o,c)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(o,c)},this.catchCallback=h=>{this.wrapFailure(i,h).next(o,c)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof G?i:G.resolve(i)}catch(i){return G.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):G.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):G.reject(i)}static resolve(t){return new G((i,o)=>{i(t)})}static reject(t){return new G((i,o)=>{o(t)})}static waitFor(t){return new G((i,o)=>{let c=0,h=0,_=!1;t.forEach(C=>{++c,C.next(()=>{++h,_&&h===c&&i()},P=>o(P))}),_=!0,h===c&&i()})}static or(t){let i=G.resolve(!1);for(const o of t)i=i.next(c=>c?G.resolve(c):o());return i}static forEach(t,i){const o=[];return t.forEach((c,h)=>{o.push(i.call(this,c,h))}),this.waitFor(o)}static mapArray(t,i){return new G((o,c)=>{const h=t.length,_=new Array(h);let C=0;for(let P=0;P<h;P++){const L=P;i(t[L]).next(K=>{_[L]=K,++C,C===h&&o(_)},K=>c(K))}})}static doWhile(t,i){return new G((o,c)=>{const h=()=>{!0===t()?i().next(()=>{h()},c):o()};h()})}}function oe(u){return"IndexedDbTransactionError"===u.name}let ir=(()=>{class u{constructor(i,o){this.previousValue=i,o&&(o.sequenceNumberHandler=c=>this.ie(c),this.se=c=>o.writeSequenceNumber(c))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return u.oe=-1,u})();function ai(u){return null==u}function Wn(u){return 0===u&&1/u==-1/0}function io(u){let t=0;for(const i in u)Object.prototype.hasOwnProperty.call(u,i)&&t++;return t}function rs(u,t){for(const i in u)Object.prototype.hasOwnProperty.call(u,i)&&t(i,u[i])}function Bi(u){for(const t in u)if(Object.prototype.hasOwnProperty.call(u,t))return!1;return!0}class kr{constructor(t,i){this.comparator=t,this.root=i||bn.EMPTY}insert(t,i){return new kr(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(t){return new kr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(t){let i=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(t,o.key);if(0===c)return i+o.left.size;c<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,o)=>(t(i,o),!1))}toString(){const t=[];return this.inorderTraversal((i,o)=>(t.push(`${i}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new An(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new An(this.root,t,this.comparator,!1)}getReverseIterator(){return new An(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new An(this.root,t,this.comparator,!0)}}class An{constructor(t,i,o,c){this.isReverse=c,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?o(t.key,i):1,i&&c&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(0===h){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class bn{constructor(t,i,o,c,h){this.key=t,this.value=i,this.color=o??bn.RED,this.left=c??bn.EMPTY,this.right=h??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,o,c,h){return new bn(t??this.key,i??this.value,o??this.color,c??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,o){let c=this;const h=o(t,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(t,i,o),null):0===h?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(t,i,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let o,c=this;if(i(t,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(t,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(t,c.key)){if(c.right.isEmpty())return bn.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(t,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1,bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(t,i,o,c,h){return this}insert(t,i,o){return new bn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jr{constructor(t){this.comparator=t,this.data=new kr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,o)=>(t(i),!1))}forEachInRange(t,i){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,t[1])>=0)return;i(c.key)}}forEachWhile(t,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new is(this.data.getIterator())}getIteratorFrom(t){return new is(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(o=>{i=i.add(o)}),i}isEqual(t){if(!(t instanceof jr)||this.size!==t.size)return!1;const i=this.data.getIterator(),o=t.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,h=o.getNext().key;if(0!==this.comparator(c,h))return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new jr(this.comparator);return i.data=t,i}}class is{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ds{constructor(t){this.fields=t,t.sort(Zt.comparator)}static empty(){return new ds([])}unionWith(t){let i=new jr(Zt.comparator);for(const o of this.fields)i=i.add(o);for(const o of t)i=i.add(o);return new ds(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return or(this.fields,t.fields,(i,o)=>i.isEqual(o))}}class Zo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(c){try{return atob(c)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Zo("Invalid base64 string: "+h):h}}(t);return new tn(i)}static fromUint8Array(t){const i=function(c){let h="";for(let _=0;_<c.length;++_)h+=String.fromCharCode(c[_]);return h}(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const o=new Uint8Array(i.length);for(let c=0;c<i.length;c++)o[c]=i.charCodeAt(c);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return st(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const oo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(u){if(Mt(!!u),"string"==typeof u){let t=0;const i=oo.exec(u);if(Mt(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),t=Number(c)}const o=new Date(u);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:ar(u.seconds),nanos:ar(u.nanos)}}function ar(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function Ci(u){return"string"==typeof u?tn.fromBase64String(u):tn.fromUint8Array(u)}function Jo(u){var t,i;return"server_timestamp"===(null===(i=((null===(t=u?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Mo(u){const t=u.mapValue.fields.__previous_value__;return Jo(t)?Mo(t):t}function qr(u){const t=Is(u.mapValue.fields.__local_write_time__.timestampValue);return new rr(t.seconds,t.nanos)}class bi{constructor(t,i,o,c,h,_,C,P,L){this.databaseId=t,this.appId=i,this.persistenceKey=o,this.host=c,this.ssl=h,this.forceLongPolling=_,this.autoDetectLongPolling=C,this.longPollingOptions=P,this.useFetchStreams=L}}class Oi{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Oi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Oi&&t.projectId===this.projectId&&t.database===this.database}}const ji={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ws(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?Jo(u)?4:Gs(u)?9007199254740991:gs(u)?10:11:Et()}function xi(u,t){if(u===t)return!0;const i=Ws(u);if(i!==Ws(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===t.booleanValue;case 4:return qr(u).isEqual(qr(t));case 3:return function(c,h){if("string"==typeof c.timestampValue&&"string"==typeof h.timestampValue&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const _=Is(c.timestampValue),C=Is(h.timestampValue);return _.seconds===C.seconds&&_.nanos===C.nanos}(u,t);case 5:return u.stringValue===t.stringValue;case 6:return h=t,Ci(u.bytesValue).isEqual(Ci(h.bytesValue));case 7:return u.referenceValue===t.referenceValue;case 8:return function(c,h){return ar(c.geoPointValue.latitude)===ar(h.geoPointValue.latitude)&&ar(c.geoPointValue.longitude)===ar(h.geoPointValue.longitude)}(u,t);case 2:return function(c,h){if("integerValue"in c&&"integerValue"in h)return ar(c.integerValue)===ar(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const _=ar(c.doubleValue),C=ar(h.doubleValue);return _===C?Wn(_)===Wn(C):isNaN(_)&&isNaN(C)}return!1}(u,t);case 9:return or(u.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return function(c,h){const _=c.mapValue.fields||{},C=h.mapValue.fields||{};if(io(_)!==io(C))return!1;for(const P in _)if(_.hasOwnProperty(P)&&(void 0===C[P]||!xi(_[P],C[P])))return!1;return!0}(u,t);default:return Et()}var h}function Qr(u,t){return void 0!==(u.values||[]).find(i=>xi(i,t))}function Ts(u,t){if(u===t)return 0;const i=Ws(u),o=Ws(t);if(i!==o)return st(i,o);switch(i){case 0:case 9007199254740991:return 0;case 1:return st(u.booleanValue,t.booleanValue);case 2:return function(h,_){const C=ar(h.integerValue||h.doubleValue),P=ar(_.integerValue||_.doubleValue);return C<P?-1:C>P?1:C===P?0:isNaN(C)?isNaN(P)?0:-1:1}(u,t);case 3:return ui(u.timestampValue,t.timestampValue);case 4:return ui(qr(u),qr(t));case 5:return st(u.stringValue,t.stringValue);case 6:return function(h,_){const C=Ci(h),P=Ci(_);return C.compareTo(P)}(u.bytesValue,t.bytesValue);case 7:return function(h,_){const C=h.split("/"),P=_.split("/");for(let L=0;L<C.length&&L<P.length;L++){const K=st(C[L],P[L]);if(0!==K)return K}return st(C.length,P.length)}(u.referenceValue,t.referenceValue);case 8:return function(h,_){const C=st(ar(h.latitude),ar(_.latitude));return 0!==C?C:st(ar(h.longitude),ar(_.longitude))}(u.geoPointValue,t.geoPointValue);case 9:return No(u.arrayValue,t.arrayValue);case 10:return function(h,_){var C,P,L,K;const Ge=null===(C=(h.fields||{}).value)||void 0===C?void 0:C.arrayValue,_t=null===(P=(_.fields||{}).value)||void 0===P?void 0:P.arrayValue,Nt=st((null===(L=Ge?.values)||void 0===L?void 0:L.length)||0,(null===(K=_t?.values)||void 0===K?void 0:K.length)||0);return 0!==Nt?Nt:No(Ge,_t)}(u.mapValue,t.mapValue);case 11:return function(h,_){if(h===ji.mapValue&&_===ji.mapValue)return 0;if(h===ji.mapValue)return 1;if(_===ji.mapValue)return-1;const C=h.fields||{},P=Object.keys(C),L=_.fields||{},K=Object.keys(L);P.sort(),K.sort();for(let ie=0;ie<P.length&&ie<K.length;++ie){const Te=st(P[ie],K[ie]);if(0!==Te)return Te;const Ge=Ts(C[P[ie]],L[K[ie]]);if(0!==Ge)return Ge}return st(P.length,K.length)}(u.mapValue,t.mapValue);default:throw Et()}}function ui(u,t){if("string"==typeof u&&"string"==typeof t&&u.length===t.length)return st(u,t);const i=Is(u),o=Is(t),c=st(i.seconds,o.seconds);return 0!==c?c:st(i.nanos,o.nanos)}function No(u,t){const i=u.values||[],o=t.values||[];for(let c=0;c<i.length&&c<o.length;++c){const h=Ts(i[c],o[c]);if(h)return h}return st(i.length,o.length)}function Fr(u){return Os(u)}function Os(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(i){const o=Is(i);return`time(${o.seconds},${o.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?Ci(u.bytesValue).toBase64():"referenceValue"in u?Ct.fromName(u.referenceValue).toString():"geoPointValue"in u?function(i){return`geo(${i.latitude},${i.longitude})`}(u.geoPointValue):"arrayValue"in u?function(i){let o="[",c=!0;for(const h of i.values||[])c?c=!1:o+=",",o+=Os(h);return o+"]"}(u.arrayValue):"mapValue"in u?function(i){const o=Object.keys(i.fields||{}).sort();let c="{",h=!0;for(const _ of o)h?h=!1:c+=",",c+=`${_}:${Os(i.fields[_])}`;return c+"}"}(u.mapValue):Et()}function hs(u,t){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${t.path.canonicalString()}`}}function xs(u){return!!u&&"integerValue"in u}function fs(u){return!!u&&"arrayValue"in u}function ao(u){return!!u&&"nullValue"in u}function ks(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function ps(u){return!!u&&"mapValue"in u}function gs(u){var t,i;return"__vector__"===(null===(i=((null===(t=u?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ws(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const t={mapValue:{fields:{}}};return rs(u.mapValue.fields,(i,o)=>t.mapValue.fields[i]=ws(o)),t}if(u.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(u.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ws(u.arrayValue.values[i]);return t}return Object.assign({},u)}function Gs(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xr{constructor(t){this.value=t}static empty(){return new Xr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let o=0;o<t.length-1;++o)if(i=(i.mapValue.fields||{})[t.get(o)],!ps(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ws(i)}setAll(t){let i=Zt.emptyPath(),o={},c=[];t.forEach((_,C)=>{if(!i.isImmediateParentOf(C)){const P=this.getFieldsMap(i);this.applyChanges(P,o,c),o={},c=[],i=C.popLast()}_?o[C.lastSegment()]=ws(_):c.push(C.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,o,c)}delete(t){const i=this.field(t.popLast());ps(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<t.length;++o){let c=i.mapValue.fields[t.get(o)];ps(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[t.get(o)]=c),i=c}return i.mapValue.fields}applyChanges(t,i,o){rs(i,(c,h)=>t[c]=h);for(const c of o)delete t[c]}clone(){return new Xr(ws(this.value))}}function ca(u){const t=[];return rs(u.fields,(i,o)=>{const c=new Zt([i]);if(ps(o)){const h=ca(o.mapValue).fields;if(0===h.length)t.push(c);else for(const _ of h)t.push(c.child(_))}else t.push(c)}),new ds(t)}class Cr{constructor(t,i,o,c,h,_,C){this.key=t,this.documentType=i,this.version=o,this.readTime=c,this.createTime=h,this.data=_,this.documentState=C}static newInvalidDocument(t){return new Cr(t,0,Jt.min(),Jt.min(),Jt.min(),Xr.empty(),0)}static newFoundDocument(t,i,o,c){return new Cr(t,1,i,Jt.min(),o,c,0)}static newNoDocument(t,i){return new Cr(t,2,i,Jt.min(),Jt.min(),Xr.empty(),0)}static newUnknownDocument(t,i){return new Cr(t,3,i,Jt.min(),Jt.min(),Xr.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Jt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Cr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zi{constructor(t,i){this.position=t,this.inclusive=i}}function As(u,t,i){let o=0;for(let c=0;c<u.position.length;c++){const h=t[c],_=u.position[c];if(o=h.field.isKeyField()?Ct.comparator(Ct.fromName(_.referenceValue),i.key):Ts(_,i.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function jo(u,t){if(null===u)return null===t;if(null===t||u.inclusive!==t.inclusive||u.position.length!==t.position.length)return!1;for(let i=0;i<u.position.length;i++)if(!xi(u.position[i],t.position[i]))return!1;return!0}class yo{constructor(t,i="asc"){this.field=t,this.dir=i}}function vo(u,t){return u.dir===t.dir&&u.field.isEqual(t.field)}class Ji{}class Xn extends Ji{constructor(t,i,o){super(),this.field=t,this.op=i,this.value=o}static create(t,i,o){return t.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(t,i,o):new I(t,i,o):"array-contains"===i?new ee(t,o):"in"===i?new Ee(t,o):"not-in"===i?new De(t,o):"array-contains-any"===i?new Ve(t,o):new Xn(t,i,o)}static createKeyFieldInFilter(t,i,o){return"in"===i?new b(t,o):new O(t,o)}matches(t){const i=t.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(Ts(i,this.value)):null!==i&&Ws(this.value)===Ws(i)&&this.matchesComparison(Ts(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends Ji{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new kn(t,i)}matches(t){return Si(this)?void 0===this.filters.find(i=>!i.matches(t)):void 0!==this.filters.find(i=>i.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Si(u){return"and"===u.op}function Hi(u){return function yr(u){for(const t of u.filters)if(t instanceof kn)return!1;return!0}(u)&&Si(u)}function xo(u){if(u instanceof Xn)return u.field.canonicalString()+u.op.toString()+Fr(u.value);if(Hi(u))return u.filters.map(t=>xo(t)).join(",");{const t=u.filters.map(i=>xo(i)).join(",");return`${u.op}(${t})`}}function Ra(u,t){return u instanceof Xn?(o=u,(c=t)instanceof Xn&&o.op===c.op&&o.field.isEqual(c.field)&&xi(o.value,c.value)):u instanceof kn?function(o,c){return c instanceof kn&&o.op===c.op&&o.filters.length===c.filters.length&&o.filters.reduce((h,_,C)=>h&&Ra(_,c.filters[C]),!0)}(u,t):void Et();var o,c}function Z(u){return u instanceof Xn?`${(i=u).field.canonicalString()} ${i.op} ${Fr(i.value)}`:u instanceof kn?function(i){return i.op.toString()+" {"+i.getFilters().map(Z).join(" ,")+"}"}(u):"Filter";var i}class I extends Xn{constructor(t,i,o){super(t,i,o),this.key=Ct.fromName(o.referenceValue)}matches(t){const i=Ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class b extends Xn{constructor(t,i){super(t,"in",i),this.keys=W(0,i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class O extends Xn{constructor(t,i){super(t,"not-in",i),this.keys=W(0,i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function W(u,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>Ct.fromName(o.referenceValue))}class ee extends Xn{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return fs(i)&&Qr(i.arrayValue,this.value)}}class Ee extends Xn{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return null!==i&&Qr(this.value.arrayValue,i)}}class De extends Xn{constructor(t,i){super(t,"not-in",i)}matches(t){if(Qr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return null!==i&&!Qr(this.value.arrayValue,i)}}class Ve extends Xn{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!fs(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>Qr(this.value.arrayValue,o))}}class rt{constructor(t,i=null,o=[],c=[],h=null,_=null,C=null){this.path=t,this.collectionGroup=i,this.orderBy=o,this.filters=c,this.limit=h,this.startAt=_,this.endAt=C,this.ue=null}}function Ht(u,t=null,i=[],o=[],c=null,h=null,_=null){return new rt(u,t,i,o,c,h,_)}function jt(u){const t=me(u);if(null===t.ue){let i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(o=>xo(o)).join(","),i+="|ob:",i+=t.orderBy.map(o=>{return(h=o).field.canonicalString()+h.dir;var h}).join(","),ai(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Fr(o)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Fr(o)).join(",")),t.ue=i}return t.ue}function Yn(u,t){if(u.limit!==t.limit||u.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<u.orderBy.length;i++)if(!vo(u.orderBy[i],t.orderBy[i]))return!1;if(u.filters.length!==t.filters.length)return!1;for(let i=0;i<u.filters.length;i++)if(!Ra(u.filters[i],t.filters[i]))return!1;return u.collectionGroup===t.collectionGroup&&!!u.path.isEqual(t.path)&&!!jo(u.startAt,t.startAt)&&jo(u.endAt,t.endAt)}function Un(u){return Ct.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}class gr{constructor(t,i=null,o=[],c=[],h=null,_="F",C=null,P=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=c,this.limit=h,this.limitType=_,this.startAt=C,this.endAt=P,this.ce=null,this.le=null,this.he=null}}function gi(u){return new gr(u)}function jn(u){return 0===u.filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())}function lo(u){return null!==u.collectionGroup}function zi(u){const t=me(u);if(null===t.ce){t.ce=[];const i=new Set;for(const h of t.explicitOrderBy)t.ce.push(h),i.add(h.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(_){let C=new jr(Zt.comparator);return _.filters.forEach(P=>{P.getFlattenedFilters().forEach(L=>{L.isInequality()&&(C=C.add(L.field))})}),C})(t).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||t.ce.push(new yo(h,o))}),i.has(Zt.keyField().canonicalString())||t.ce.push(new yo(Zt.keyField(),o))}return t.ce}function br(u){const t=me(u);return t.le||(t.le=function ho(u,t){if("F"===u.limitType)return Ht(u.path,u.collectionGroup,t,u.filters,u.limit,u.startAt,u.endAt);{t=t.map(c=>new yo(c.field,"desc"===c.dir?"asc":"desc"));const i=u.endAt?new Zi(u.endAt.position,u.endAt.inclusive):null,o=u.startAt?new Zi(u.startAt.position,u.startAt.inclusive):null;return Ht(u.path,u.collectionGroup,t,u.filters,u.limit,i,o)}}(t,zi(u))),t.le}function Eo(u,t){const i=u.filters.concat([t]);return new gr(u.path,u.collectionGroup,u.explicitOrderBy.slice(),i,u.limit,u.limitType,u.startAt,u.endAt)}function ko(u,t,i){return new gr(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),t,i,u.startAt,u.endAt)}function Fs(u,t){return Yn(br(u),br(t))&&u.limitType===t.limitType}function Ks(u){return`${jt(br(u))}|lt:${u.limitType}`}function Io(u){return`Query(target=${function(i){let o=i.path.canonicalString();return null!==i.collectionGroup&&(o+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(o+=`, filters: [${i.filters.map(c=>Z(c)).join(", ")}]`),ai(i.limit)||(o+=", limit: "+i.limit),i.orderBy.length>0&&(o+=`, orderBy: [${i.orderBy.map(c=>{return`${(_=c).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),i.startAt&&(o+=", startAt: ",o+=i.startAt.inclusive?"b:":"a:",o+=i.startAt.position.map(c=>Fr(c)).join(",")),i.endAt&&(o+=", endAt: ",o+=i.endAt.inclusive?"a:":"b:",o+=i.endAt.position.map(c=>Fr(c)).join(",")),`Target(${o})`}(br(u))}; limitType=${u.limitType})`}function ms(u,t){return t.isFoundDocument()&&function(o,c){const h=c.key.path;return null!==o.collectionGroup?c.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(h):Ct.isDocumentKey(o.path)?o.path.isEqual(h):o.path.isImmediateParentOf(h)}(u,t)&&function(o,c){for(const h of zi(o))if(!h.field.isKeyField()&&null===c.data.field(h.field))return!1;return!0}(u,t)&&function(o,c){for(const h of o.filters)if(!h.matches(c))return!1;return!0}(u,t)&&(c=t,!((o=u).startAt&&!function(_,C,P){const L=As(_,C,P);return _.inclusive?L<=0:L<0}(o.startAt,zi(o),c)||o.endAt&&!function(_,C,P){const L=As(_,C,P);return _.inclusive?L>=0:L>0}(o.endAt,zi(o),c)));var o,c}function Rt(u){return(t,i)=>{let o=!1;for(const c of zi(u)){const h=en(c,t,i);if(0!==h)return h;o=o||c.field.isKeyField()}return 0}}function en(u,t,i){const o=u.field.isKeyField()?Ct.comparator(t.key,i.key):function(h,_,C){const P=_.data.field(h),L=C.data.field(h);return null!==P&&null!==L?Ts(P,L):Et()}(u.field,t,i);switch(u.dir){case"asc":return o;case"desc":return-1*o;default:return Et()}}class ln{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),o=this.inner[i];if(void 0!==o)for(const[c,h]of o)if(this.equalsFn(c,t))return h}has(t){return void 0!==this.get(t)}set(t,i){const o=this.mapKeyFn(t),c=this.inner[o];if(void 0===c)return this.inner[o]=[[t,i]],void this.innerSize++;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],t))return void(c[h]=[t,i]);c.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),o=this.inner[i];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return 1===o.length?delete this.inner[i]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(t){rs(this.inner,(i,o)=>{for(const[c,h]of o)t(c,h)})}isEmpty(){return Bi(this.inner)}size(){return this.innerSize}}const Ir=new kr(Ct.comparator);function sr(){return Ir}const es=new kr(Ct.comparator);function Wi(...u){let t=es;for(const i of u)t=t.insert(i.key,i);return t}function Lr(u){let t=es;return u.forEach((i,o)=>t=t.insert(i,o.overlayedDocument)),t}function _s(){return k()}function La(){return k()}function k(){return new ln(u=>u.toString(),(u,t)=>u.isEqual(t))}const F=new kr(Ct.comparator),q=new jr(Ct.comparator);function Q(...u){let t=q;for(const i of u)t=t.add(i);return t}const de=new jr(st);function St(u,t){if(u.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wn(t)?"-0":t}}function pn(u){return{integerValue:""+u}}function gn(u,t){return function zt(u){return"number"==typeof u&&Number.isInteger(u)&&!Wn(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}(t)?pn(t):St(u,t)}class Hn{constructor(){this._=void 0}}function Nr(u,t,i){return u instanceof ri?function(c,h){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&Jo(h)&&(h=Mo(h)),h&&(_.fields.__previous_value__=h),{mapValue:_}}(i,t):u instanceof Gr?Ls(u,t):u instanceof $r?Ds(u,t):function(c,h){const _=Ti(c,h),C=Ri(_)+Ri(c.Pe);return xs(_)&&xs(c.Pe)?pn(C):St(c.serializer,C)}(u,t)}function Jr(u,t,i){return u instanceof Gr?Ls(u,t):u instanceof $r?Ds(u,t):i}function Ti(u,t){return u instanceof ei?xs(o=t)||(h=o)&&"doubleValue"in h?t:{integerValue:0}:null;var o,h}class ri extends Hn{}class Gr extends Hn{constructor(t){super(),this.elements=t}}function Ls(u,t){const i=wi(t);for(const o of u.elements)i.some(c=>xi(c,o))||i.push(o);return{arrayValue:{values:i}}}class $r extends Hn{constructor(t){super(),this.elements=t}}function Ds(u,t){let i=wi(t);for(const o of u.elements)i=i.filter(c=>!xi(c,o));return{arrayValue:{values:i}}}class ei extends Hn{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function Ri(u){return ar(u.integerValue||u.doubleValue)}function wi(u){return fs(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class Va{constructor(t,i){this.version=t,this.transformResults=i}}class dr{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new dr}static exists(t){return new dr(void 0,t)}static updateTime(t){return new dr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $o(u,t){return void 0!==u.updateTime?t.isFoundDocument()&&t.version.isEqual(u.updateTime):void 0===u.exists||u.exists===t.isFoundDocument()}class su{}function Uu(u,t){if(!u.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return u.isNoDocument()?new Xe(u.key,dr.none()):new D(u.key,u.data,dr.none());{const i=u.data,o=Xr.empty();let c=new jr(Zt.comparator);for(let h of t.fields)if(!c.has(h)){let _=i.field(h);null===_&&h.length>1&&(h=h.popLast(),_=i.field(h)),null===_?o.delete(h):o.set(h,_),c=c.add(h)}return new z(u.key,o,new ds(c.toArray()),dr.none())}}function Ua(u,t,i){u instanceof D?function(c,h,_){const C=c.value.clone(),P=j(c.fieldTransforms,h,_.transformResults);C.setAll(P),h.convertToFoundDocument(_.version,C).setHasCommittedMutations()}(u,t,i):u instanceof z?function(c,h,_){if(!$o(c.precondition,h))return void h.convertToUnknownDocument(_.version);const C=j(c.fieldTransforms,h,_.transformResults),P=h.data;P.setAll(N(c)),P.setAll(C),h.convertToFoundDocument(_.version,P).setHasCommittedMutations()}(u,t,i):t.convertToNoDocument(i.version).setHasCommittedMutations()}function To(u,t,i,o){return u instanceof D?function(h,_,C,P){if(!$o(h.precondition,_))return C;const L=h.value.clone(),K=le(h.fieldTransforms,P,_);return L.setAll(K),_.convertToFoundDocument(_.version,L).setHasLocalMutations(),null}(u,t,i,o):u instanceof z?function(h,_,C,P){if(!$o(h.precondition,_))return C;const L=le(h.fieldTransforms,P,_),K=_.data;return K.setAll(N(h)),K.setAll(L),_.convertToFoundDocument(_.version,K).setHasLocalMutations(),null===C?null:C.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(ie=>ie.field))}(u,t,i,o):(C=i,$o(u.precondition,_=t)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):C);var _,C}function ea(u,t){let i=null;for(const o of u.fieldTransforms){const c=t.data.field(o.field),h=Ti(o.transform,c||null);null!=h&&(null===i&&(i=Xr.empty()),i.set(o.field,h))}return i||null}function Pa(u,t){return u.type===t.type&&!!u.key.isEqual(t.key)&&!!u.precondition.isEqual(t.precondition)&&(c=t.fieldTransforms,!!(void 0===(o=u.fieldTransforms)&&void 0===c||o&&c&&or(o,c,(h,_)=>function Fo(u,t){return u.field.isEqual(t.field)&&(c=t.transform,(o=u.transform)instanceof Gr&&c instanceof Gr||o instanceof $r&&c instanceof $r?or(o.elements,c.elements,xi):o instanceof ei&&c instanceof ei?xi(o.Pe,c.Pe):o instanceof ri&&c instanceof ri);var o,c}(h,_))))&&(0===u.type?u.value.isEqual(t.value):1!==u.type||u.data.isEqual(t.data)&&u.fieldMask.isEqual(t.fieldMask));var o,c}class D extends su{constructor(t,i,o,c=[]){super(),this.key=t,this.value=i,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class z extends su{constructor(t,i,o,c,h=[]){super(),this.key=t,this.data=i,this.fieldMask=o,this.precondition=c,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function N(u){const t=new Map;return u.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=u.data.field(i);t.set(i,o)}}),t}function j(u,t,i){const o=new Map;Mt(u.length===i.length);for(let c=0;c<i.length;c++){const h=u[c],_=h.transform,C=t.data.field(h.field);o.set(h.field,Jr(_,C,i[c]))}return o}function le(u,t,i){const o=new Map;for(const c of u){const h=c.transform,_=i.data.field(c.field);o.set(c.field,Nr(h,_,t))}return o}class Xe extends su{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vt extends su{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class un{constructor(t,i,o,c){this.batchId=t,this.localWriteTime=i,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(t,i){const o=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const h=this.mutations[c];h.key.isEqual(t.key)&&Ua(h,t,o[c])}}applyToLocalView(t,i){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(i=To(o,t,i,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(i=To(o,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const o=La();return this.mutations.forEach(c=>{const h=t.get(c.key),_=h.overlayedDocument;let C=this.applyToLocalView(_,h.mutatedFields);C=i.has(c.key)?null:C;const P=Uu(_,C);null!==P&&o.set(c.key,P),_.isValidDocument()||_.convertToNoDocument(Jt.min())}),o}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Q())}isEqual(t){return this.batchId===t.batchId&&or(this.mutations,t.mutations,(i,o)=>Pa(i,o))&&or(this.baseMutations,t.baseMutations,(i,o)=>Pa(i,o))}}class Yr{constructor(t,i,o,c){this.batch=t,this.commitVersion=i,this.mutationResults=o,this.docVersions=c}static from(t,i,o){Mt(t.mutations.length===o.length);let c=function(){return F}();const h=t.mutations;for(let _=0;_<h.length;_++)c=c.insert(h[_].key,o[_].version);return new Yr(t,i,o,c)}}class Hr{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ur{constructor(t,i){this.count=t,this.unchangedNames=i}}var cr,vn;function zr(u){if(void 0===u)return Pt("GRPC error has no .code"),ne.UNKNOWN;switch(u){case cr.OK:return ne.OK;case cr.CANCELLED:return ne.CANCELLED;case cr.UNKNOWN:return ne.UNKNOWN;case cr.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case cr.INTERNAL:return ne.INTERNAL;case cr.UNAVAILABLE:return ne.UNAVAILABLE;case cr.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case cr.NOT_FOUND:return ne.NOT_FOUND;case cr.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case cr.ABORTED:return ne.ABORTED;case cr.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case cr.DATA_LOSS:return ne.DATA_LOSS;default:return Et()}}(vn=cr||(cr={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";const Sr=new nt([4294967295,4294967295],0);function Ai(u){const t=function mn(){return new TextEncoder}().encode(u),i=new ut;return i.update(t),new Uint8Array(i.digest())}function yi(u){const t=new DataView(u.buffer),i=t.getUint32(0,!0),o=t.getUint32(4,!0),c=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new nt([i,o],0),new nt([c,h],0)]}class Gi{constructor(t,i,o){if(this.bitmap=t,this.padding=i,this.hashCount=o,i<0||i>=8)throw new fo(`Invalid padding: ${i}`);if(o<0)throw new fo(`Invalid hash count: ${o}`);if(t.length>0&&0===this.hashCount)throw new fo(`Invalid hash count: ${o}`);if(0===t.length&&0!==i)throw new fo(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=nt.fromNumber(this.Ie)}Ee(t,i,o){let c=t.add(i.multiply(nt.fromNumber(o)));return 1===c.compare(Sr)&&(c=new nt([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const i=Ai(t),[o,c]=yi(i);for(let h=0;h<this.hashCount;h++){const _=this.Ee(o,c,h);if(!this.de(_))return!1}return!0}static create(t,i,o){const c=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),_=new Gi(h,c,i);return o.forEach(C=>_.insert(C)),_}insert(t){if(0===this.Ie)return;const i=Ai(t),[o,c]=yi(i);for(let h=0;h<this.hashCount;h++){const _=this.Ee(o,c,h);this.Ae(_)}}Ae(t){const i=Math.floor(t/8);this.bitmap[i]|=1<<t%8}}class fo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ci{constructor(t,i,o,c,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,o){const c=new Map;return c.set(t,Fi.createSynthesizedTargetChangeForCurrentChange(t,i,o)),new ci(Jt.min(),c,new kr(st),sr(),Q())}}class Fi{constructor(t,i,o,c,h){this.resumeToken=t,this.current=i,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,o){return new Fi(o,i,Q(),Q(),Q())}}class po{constructor(t,i,o,c){this.Re=t,this.removedTargetIds=i,this.key=o,this.Ve=c}}class Fn{constructor(t,i){this.targetId=t,this.me=i}}class la{constructor(t,i,o=tn.EMPTY_BYTE_STRING,c=null){this.state=t,this.targetIds=i,this.resumeToken=o,this.cause=c}}class tl{constructor(){this.fe=0,this.ge=Ba(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Q(),i=Q(),o=Q();return this.ge.forEach((c,h)=>{switch(h){case 0:t=t.add(c);break;case 2:i=i.add(c);break;case 1:o=o.add(c);break;default:Et()}}),new Fi(this.pe,this.ye,t,i,o)}Ce(){this.we=!1,this.ge=Ba()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Mt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ta{constructor(t){this.Le=t,this.Be=new Map,this.ke=sr(),this.qe=Vr(),this.Qe=new kr(st)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{const o=this.Ge(i);switch(t.state){case 0:this.ze(i)&&o.De(t.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(t.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(o.Ne(),o.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),o.De(t.resumeToken));break;default:Et()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((o,c)=>{this.ze(c)&&i(c)})}He(t){const i=t.targetId,o=t.me.count,c=this.Je(i);if(c){const h=c.target;if(Un(h))if(0===o){const _=new Ct(h.path);this.Ue(i,_,Cr.newNoDocument(_,Jt.min()))}else Mt(1===o);else{const _=this.Ye(i);if(_!==o){const C=this.Ze(t),P=C?this.Xe(C,t,_):1;0!==P&&(this.je(i),this.Qe=this.Qe.insert(i,2===P?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:o="",padding:c=0},hashCount:h=0}=i;let _,C;try{_=Ci(o).toUint8Array()}catch(P){if(P instanceof Zo)return Bt("Decoding the base64 bloom filter in existence filter failed ("+P.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw P}try{C=new Gi(_,c,h)}catch(P){return Bt(P instanceof fo?"BloomFilter error: ":"Applying bloom filter failed: ",P),null}return 0===C.Ie?null:C}Xe(t,i,o){return i.me.count===o-this.nt(t,i.targetId)?0:2}nt(t,i){const o=this.Le.getRemoteKeysForTarget(i);let c=0;return o.forEach(h=>{const _=this.Le.tt(),C=`projects/${_.projectId}/databases/${_.database}/documents/${h.path.canonicalString()}`;t.mightContain(C)||(this.Ue(i,h,null),c++)}),c}rt(t){const i=new Map;this.Be.forEach((h,_)=>{const C=this.Je(_);if(C){if(h.current&&Un(C.target)){const P=new Ct(C.target.path);null!==this.ke.get(P)||this.it(_,P)||this.Ue(_,P,Cr.newNoDocument(P,t))}h.be&&(i.set(_,h.ve()),h.Ce())}});let o=Q();this.qe.forEach((h,_)=>{let C=!0;_.forEachWhile(P=>{const L=this.Je(P);return!L||"TargetPurposeLimboResolution"===L.purpose||(C=!1,!1)}),C&&(o=o.add(h))}),this.ke.forEach((h,_)=>_.setReadTime(t));const c=new ci(t,i,this.Qe,this.ke,o);return this.ke=sr(),this.qe=Vr(),this.Qe=new kr(st),c}$e(t,i){if(!this.ze(t))return;const o=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,o),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,o){if(!this.ze(t))return;const c=this.Ge(t);this.it(t,i)?c.Fe(i,1):c.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),o&&(this.ke=this.ke.insert(i,o))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new tl,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new jr(st),this.qe=this.qe.insert(t,i)),i}ze(t){const i=null!==this.Je(t);return i||ot("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new tl),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function Vr(){return new kr(Ct.comparator)}function Ba(){return new kr(Ct.comparator)}const ou={asc:"ASCENDING",desc:"DESCENDING"},Ma={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bu={and:"AND",or:"OR"};class nl{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Lo(u,t){return u.useProto3Json||ai(t)?t:{value:t}}function Ho(u,t){return u.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ya(u,t){return u.useProto3Json?t.toBase64():t.toUint8Array()}function Kn(u,t){return Ho(u,t.toTimestamp())}function Ki(u){return Mt(!!u),Jt.fromTimestamp(function(i){const o=Is(i);return new rr(o.seconds,o.nanos)}(u))}function mi(u,t){return zo(u,t).canonicalString()}function zo(u,t){const i=(c=u,new Tn(["projects",c.projectId,"databases",c.database])).child("documents");var c;return void 0===t?i:i.child(t)}function ja(u){const t=Tn.fromString(u);return Mt(X(t)),t}function da(u,t){return mi(u.databaseId,t.path)}function Zr(u,t){const i=ja(t);if(i.get(1)!==u.databaseId.projectId)throw new se(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+u.databaseId.projectId);if(i.get(3)!==u.databaseId.database)throw new se(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+u.databaseId.database);return new Ct(fc(i))}function hc(u,t){return mi(u.databaseId,t)}function ys(u){return new Tn(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function fc(u){return Mt(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function na(u,t,i){return{name:da(u,t),fields:i.value.mapValue.fields}}function $a(u,t){return{documents:[hc(u,t.path)]}}function gc(u,t){const i={structuredQuery:{}},o=t.path;let c;null!==t.collectionGroup?(c=o,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(c=o.popLast(),i.structuredQuery.from=[{collectionId:o.lastSegment()}]),i.parent=hc(u,c);const h=function(L){if(0!==L.length)return R(kn.create(L,"and"))}(t.filters);h&&(i.structuredQuery.where=h);const _=function(L){if(0!==L.length)return L.map(K=>{return{field:S((Te=K).field),direction:Bm(Te.dir)};var Te})}(t.orderBy);_&&(i.structuredQuery.orderBy=_);const C=Lo(u,t.limit);return null!==C&&(i.structuredQuery.limit=C),t.startAt&&(i.structuredQuery.startAt={before:(L=t.startAt).inclusive,values:L.position}),t.endAt&&(i.structuredQuery.endAt=function(L){return{before:!L.inclusive,values:L.position}}(t.endAt)),{_t:i,parent:c};var L}function Zl(u){let t=function Vs(u){const t=ja(u);return 4===t.length?Tn.emptyPath():fc(t)}(u.parent);const i=u.structuredQuery,o=i.from?i.from.length:0;let c=null;if(o>0){Mt(1===o);const K=i.from[0];K.allDescendants?c=K.collectionId:t=t.child(K.collectionId)}let h=[];i.where&&(h=function(ie){const Te=Th(ie);return Te instanceof kn&&Hi(Te)?Te.getFilters():[Te]}(i.where));let _=[];i.orderBy&&(_=i.orderBy.map(Te=>{return new yo(T((_t=Te).field),function(Dt){switch(Dt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_t.direction));var _t}));let C=null;i.limit&&(C=function(ie){let Te;return Te="object"==typeof ie?ie.value:ie,ai(Te)?null:Te}(i.limit));let P=null;var ie;i.startAt&&(P=new Zi((ie=i.startAt).values||[],!!ie.before));let L=null;return i.endAt&&(L=function(ie){return new Zi(ie.values||[],!ie.before)}(i.endAt)),function pi(u,t,i,o,c,h,_,C){return new gr(u,t,i,o,c,h,_,C)}(t,c,_,h,C,"F",P,L)}function Th(u){return void 0!==u.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const o=T(i.unaryFilter.field);return Xn.create(o,"==",{doubleValue:NaN});case"IS_NULL":const c=T(i.unaryFilter.field);return Xn.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=T(i.unaryFilter.field);return Xn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=T(i.unaryFilter.field);return Xn.create(_,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(u):void 0!==u.fieldFilter?Xn.create(T((i=u).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==u.compositeFilter?function(i){return kn.create(i.compositeFilter.filters.map(o=>Th(o)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return Et()}}(i.compositeFilter.op))}(u):Et();var i}function Bm(u){return ou[u]}function Dp(u){return Ma[u]}function v(u){return Bu[u]}function S(u){return{fieldPath:u.canonicalString()}}function T(u){return Zt.fromServerFormat(u.fieldPath)}function R(u){return u instanceof Xn?function(i){if("=="===i.op){if(ks(i.value))return{unaryFilter:{field:S(i.field),op:"IS_NAN"}};if(ao(i.value))return{unaryFilter:{field:S(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(ks(i.value))return{unaryFilter:{field:S(i.field),op:"IS_NOT_NAN"}};if(ao(i.value))return{unaryFilter:{field:S(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:S(i.field),op:Dp(i.op),value:i.value}}}(u):u instanceof kn?function(i){const o=i.getFilters().map(c=>R(c));return 1===o.length?o[0]:{compositeFilter:{op:v(i.op),filters:o}}}(u):Et()}function V(u){const t=[];return u.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function X(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}class fe{constructor(t,i,o,c,h=Jt.min(),_=Jt.min(),C=tn.EMPTY_BYTE_STRING,P=null){this.target=t,this.targetId=i,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=C,this.expectedCount=P}withSequenceNumber(t){return new fe(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new fe(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fe(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fe(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Je{constructor(t){this.ct=t}}function lu(u){const t=Zl({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?ko(t,t.limit,"L"):t}class Ea{constructor(){}It(t,i){this.Tt(t,i),i.Et()}Tt(t,i){if("nullValue"in t)this.dt(i,5);else if("booleanValue"in t)this.dt(i,10),i.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(i,15),i.At(ar(t.integerValue));else if("doubleValue"in t){const o=ar(t.doubleValue);isNaN(o)?this.dt(i,13):(this.dt(i,15),Wn(o)?i.At(0):i.At(o))}else if("timestampValue"in t){let o=t.timestampValue;this.dt(i,20),"string"==typeof o&&(o=Is(o)),i.Rt(`${o.seconds||""}`),i.At(o.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,i),this.ft(i);else if("bytesValue"in t)this.dt(i,30),i.gt(Ci(t.bytesValue)),this.ft(i);else if("referenceValue"in t)this.yt(t.referenceValue,i);else if("geoPointValue"in t){const o=t.geoPointValue;this.dt(i,45),i.At(o.latitude||0),i.At(o.longitude||0)}else"mapValue"in t?Gs(t)?this.dt(i,Number.MAX_SAFE_INTEGER):gs(t)?this.wt(t.mapValue,i):(this.St(t.mapValue,i),this.ft(i)):"arrayValue"in t?(this.bt(t.arrayValue,i),this.ft(i)):Et()}Vt(t,i){this.dt(i,25),this.Dt(t,i)}Dt(t,i){i.Rt(t)}St(t,i){const o=t.fields||{};this.dt(i,55);for(const c of Object.keys(o))this.Vt(c,i),this.Tt(o[c],i)}wt(t,i){var o,c;const h=t.fields||{};this.dt(i,53);const _="value",C=(null===(c=null===(o=h[_].arrayValue)||void 0===o?void 0:o.values)||void 0===c?void 0:c.length)||0;this.dt(i,15),i.At(ar(C)),this.Vt(_,i),this.Tt(h[_],i)}bt(t,i){const o=t.values||[];this.dt(i,50);for(const c of o)this.Tt(c,i)}yt(t,i){this.dt(i,37),Ct.fromName(t).path.forEach(o=>{this.dt(i,60),this.Dt(o,i)})}dt(t,i){t.At(i)}ft(t){t.At(2)}}Ea.vt=new Ea;class hu{constructor(){this.un=new fu}addToCollectionParentIndex(t,i){return this.un.add(i),G.resolve()}getCollectionParents(t,i){return G.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return G.resolve()}deleteFieldIndex(t,i){return G.resolve()}deleteAllFieldIndexes(t){return G.resolve()}createTargetIndexes(t,i){return G.resolve()}getDocumentsMatchingTarget(t,i){return G.resolve(null)}getIndexType(t,i){return G.resolve(0)}getFieldIndexes(t,i){return G.resolve([])}getNextCollectionGroupToUpdate(t){return G.resolve(null)}getMinOffset(t,i){return G.resolve(si.min())}getMinOffsetFromCollectionGroup(t,i){return G.resolve(si.min())}updateCollectionGroup(t,i,o){return G.resolve()}updateIndexEntries(t,i){return G.resolve()}}class fu{constructor(){this.index={}}add(t){const i=t.lastSegment(),o=t.popLast(),c=this.index[i]||new jr(Tn.comparator),h=!c.has(o);return this.index[i]=c.add(o),h}has(t){const i=t.lastSegment(),o=t.popLast(),c=this.index[i];return c&&c.has(o)}getEntries(t){return(this.index[t]||new jr(Tn.comparator)).toArray()}}new Uint8Array(0);class wo{constructor(t,i,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}static withCacheSize(t){return new wo(t,wo.DEFAULT_COLLECTION_PERCENTILE,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}wo.DEFAULT_COLLECTION_PERCENTILE=10,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wo.DEFAULT=new wo(41943040,wo.DEFAULT_COLLECTION_PERCENTILE,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wo.DISABLED=new wo(-1,0,0);class ct{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new ct(0)}static kn(){return new ct(-1)}}class ad{constructor(){this.changes=new ln(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Cr.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?G.resolve(o):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Rp{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class mu{constructor(t,i,o,c){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=o,this.indexManager=c}getDocument(t,i){let o=null;return this.documentOverlayCache.getOverlay(t,i).next(c=>(o=c,this.remoteDocumentCache.getEntry(t,i))).next(c=>(null!==o&&To(o.mutation,c,ds.empty(),rr.now()),c))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(o=>this.getLocalViewOfDocuments(t,o,Q()).next(()=>o))}getLocalViewOfDocuments(t,i,o=Q()){const c=_s();return this.populateOverlays(t,c,i).next(()=>this.computeViews(t,i,c,o).next(h=>{let _=Wi();return h.forEach((C,P)=>{_=_.insert(C,P.overlayedDocument)}),_}))}getOverlayedDocuments(t,i){const o=_s();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,Q()))}populateOverlays(t,i,o){const c=[];return o.forEach(h=>{i.has(h)||c.push(h)}),this.documentOverlayCache.getOverlays(t,c).next(h=>{h.forEach((_,C)=>{i.set(_,C)})})}computeViews(t,i,o,c){let h=sr();const _=k(),C=k();return i.forEach((P,L)=>{const K=o.get(L.key);c.has(L.key)&&(void 0===K||K.mutation instanceof z)?h=h.insert(L.key,L):void 0!==K?(_.set(L.key,K.mutation.getFieldMask()),To(K.mutation,L,K.mutation.getFieldMask(),rr.now())):_.set(L.key,ds.empty())}),this.recalculateAndSaveOverlays(t,h).next(P=>(P.forEach((L,K)=>_.set(L,K)),i.forEach((L,K)=>{var ie;return C.set(L,new Rp(K,null!==(ie=_.get(L))&&void 0!==ie?ie:null))}),C))}recalculateAndSaveOverlays(t,i){const o=k();let c=new kr((_,C)=>_-C),h=Q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(_=>{for(const C of _)C.keys().forEach(P=>{const L=i.get(P);if(null===L)return;let K=o.get(P)||ds.empty();K=C.applyToLocalView(L,K),o.set(P,K);const ie=(c.get(C.batchId)||Q()).add(P);c=c.insert(C.batchId,ie)})}).next(()=>{const _=[],C=c.getReverseIterator();for(;C.hasNext();){const P=C.getNext(),L=P.key,K=P.value,ie=La();K.forEach(Te=>{if(!h.has(Te)){const Ge=Uu(i.get(Te),o.get(Te));null!==Ge&&ie.set(Te,Ge),h=h.add(Te)}}),_.push(this.documentOverlayCache.saveOverlays(t,L,ie))}return G.waitFor(_)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,i,o,c){return Ct.isDocumentKey((_=i).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(t,i.path):lo(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,o,c):this.getDocumentsMatchingCollectionQuery(t,i,o,c);var _}getNextDocuments(t,i,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,o,c).next(h=>{const _=c-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,o.largestBatchId,c-h.size):G.resolve(_s());let C=-1,P=h;return _.next(L=>G.forEach(L,(K,ie)=>(C<ie.largestBatchId&&(C=ie.largestBatchId),h.get(K)?G.resolve():this.remoteDocumentCache.getEntry(t,K).next(Te=>{P=P.insert(K,Te)}))).next(()=>this.populateOverlays(t,L,h)).next(()=>this.computeViews(t,P,L,Q())).next(K=>({batchId:C,changes:Lr(K)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Ct(i)).next(o=>{let c=Wi();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(t,i,o,c){const h=i.collectionGroup;let _=Wi();return this.indexManager.getCollectionParents(t,h).next(C=>G.forEach(C,P=>{const L=(ie=i,Te=P.child(h),new gr(Te,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt));var ie,Te;return this.getDocumentsMatchingCollectionQuery(t,L,o,c).next(K=>{K.forEach((ie,Te)=>{_=_.insert(ie,Te)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(t,i,o,c){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,o.largestBatchId).next(_=>(h=_,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,o,h,c))).next(_=>{h.forEach((P,L)=>{const K=L.getKey();null===_.get(K)&&(_=_.insert(K,Cr.newInvalidDocument(K)))});let C=Wi();return _.forEach((P,L)=>{const K=h.get(P);void 0!==K&&To(K.mutation,L,ds.empty(),rr.now()),ms(i,L)&&(C=C.insert(P,L))}),C})}}class ld{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return G.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,{id:(c=i).id,version:c.version,createTime:Ki(c.createTime)}),G.resolve();var c}getNamedQuery(t,i){return G.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,{name:(c=i).name,query:lu(c.bundledQuery),readTime:Ki(c.readTime)}),G.resolve();var c}}class dd{constructor(){this.overlays=new kr(Ct.comparator),this.Ir=new Map}getOverlay(t,i){return G.resolve(this.overlays.get(i))}getOverlays(t,i){const o=_s();return G.forEach(i,c=>this.getOverlay(t,c).next(h=>{null!==h&&o.set(c,h)})).next(()=>o)}saveOverlays(t,i,o){return o.forEach((c,h)=>{this.ht(t,i,h)}),G.resolve()}removeOverlaysForBatchId(t,i,o){const c=this.Ir.get(o);return void 0!==c&&(c.forEach(h=>this.overlays=this.overlays.remove(h)),this.Ir.delete(o)),G.resolve()}getOverlaysForCollection(t,i,o){const c=_s(),h=i.length+1,_=new Ct(i.child("")),C=this.overlays.getIteratorFrom(_);for(;C.hasNext();){const P=C.getNext().value,L=P.getKey();if(!i.isPrefixOf(L.path))break;L.path.length===h&&P.largestBatchId>o&&c.set(P.getKey(),P)}return G.resolve(c)}getOverlaysForCollectionGroup(t,i,o,c){let h=new kr((L,K)=>L-K);const _=this.overlays.getIterator();for(;_.hasNext();){const L=_.getNext().value;if(L.getKey().getCollectionGroup()===i&&L.largestBatchId>o){let K=h.get(L.largestBatchId);null===K&&(K=_s(),h=h.insert(L.largestBatchId,K)),K.set(L.getKey(),L)}}const C=_s(),P=h.getIterator();for(;P.hasNext()&&(P.getNext().value.forEach((L,K)=>C.set(L,K)),!(C.size()>=c)););return G.resolve(C)}ht(t,i,o){const c=this.overlays.get(o.key);if(null!==c){const _=this.Ir.get(c.largestBatchId).delete(o.key);this.Ir.set(c.largestBatchId,_)}this.overlays=this.overlays.insert(o.key,new Hr(i,o));let h=this.Ir.get(i);void 0===h&&(h=Q(),this.Ir.set(i,h)),this.Ir.set(i,h.add(o.key))}}class cl{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return G.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,G.resolve()}}class hd{constructor(){this.Tr=new jr(Cs.Er),this.dr=new jr(Cs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const o=new Cs(t,i);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(t,i){t.forEach(o=>this.addReference(o,i))}removeReference(t,i){this.Vr(new Cs(t,i))}mr(t,i){t.forEach(o=>this.removeReference(o,i))}gr(t){const i=new Ct(new Tn([])),o=new Cs(i,t),c=new Cs(i,t+1),h=[];return this.dr.forEachInRange([o,c],_=>{this.Vr(_),h.push(_.key)}),h}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new Ct(new Tn([])),o=new Cs(i,t),c=new Cs(i,t+1);let h=Q();return this.dr.forEachInRange([o,c],_=>{h=h.add(_.key)}),h}containsKey(t){const i=new Cs(t,0),o=this.Tr.firstAfterOrEqual(i);return null!==o&&t.isEqual(o.key)}}class Cs{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return Ct.comparator(t.key,i.key)||st(t.wr,i.wr)}static Ar(t,i){return st(t.wr,i.wr)||Ct.comparator(t.key,i.key)}}class fd{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new jr(Cs.Er)}checkEmpty(t){return G.resolve(0===this.mutationQueue.length)}addMutationBatch(t,i,o,c){const h=this.Sr;this.Sr++;const _=new un(h,i,o,c);this.mutationQueue.push(_);for(const C of c)this.br=this.br.add(new Cs(C.key,h)),this.indexManager.addToCollectionParentIndex(t,C.key.path.popLast());return G.resolve(_)}lookupMutationBatch(t,i){return G.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const c=this.vr(i+1),h=c<0?0:c;return G.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const o=new Cs(i,0),c=new Cs(i,Number.POSITIVE_INFINITY),h=[];return this.br.forEachInRange([o,c],_=>{const C=this.Dr(_.wr);h.push(C)}),G.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let o=new jr(st);return i.forEach(c=>{const h=new Cs(c,0),_=new Cs(c,Number.POSITIVE_INFINITY);this.br.forEachInRange([h,_],C=>{o=o.add(C.wr)})}),G.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(t,i){const o=i.path,c=o.length+1;let h=o;Ct.isDocumentKey(h)||(h=h.child(""));const _=new Cs(new Ct(h),0);let C=new jr(st);return this.br.forEachWhile(P=>{const L=P.key.path;return!!o.isPrefixOf(L)&&(L.length===c&&(C=C.add(P.wr)),!0)},_),G.resolve(this.Cr(C))}Cr(t){const i=[];return t.forEach(o=>{const c=this.Dr(o);null!==c&&i.push(c)}),i}removeMutationBatch(t,i){Mt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let o=this.br;return G.forEach(i.mutations,c=>{const h=new Cs(c.key,i.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,c.key)}).next(()=>{this.br=o})}On(t){}containsKey(t,i){const o=new Cs(i,0),c=this.br.firstAfterOrEqual(o);return G.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(t){return G.resolve()}Fr(t,i){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Rh{constructor(t){this.Mr=t,this.docs=new kr(Ct.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const o=i.key,c=this.docs.get(o),h=c?c.size:0,_=this.Mr(i);return this.docs=this.docs.insert(o,{document:i.mutableCopy(),size:_}),this.size+=_-h,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const o=this.docs.get(i);return G.resolve(o?o.document.mutableCopy():Cr.newInvalidDocument(i))}getEntries(t,i){let o=sr();return i.forEach(c=>{const h=this.docs.get(c);o=o.insert(c,h?h.document.mutableCopy():Cr.newInvalidDocument(c))}),G.resolve(o)}getDocumentsMatchingQuery(t,i,o,c){let h=sr();const _=i.path,C=new Ct(_.child("")),P=this.docs.getIteratorFrom(C);for(;P.hasNext();){const{key:L,value:{document:K}}=P.getNext();if(!_.isPrefixOf(L.path))break;L.path.length>_.length+1||vr(new si((u=K).readTime,u.key,-1),o)<=0||(c.has(K.key)||ms(i,K))&&(h=h.insert(K.key,K.mutableCopy()))}var u;return G.resolve(h)}getAllFromCollectionGroup(t,i,o,c){Et()}Or(t,i){return G.forEach(this.docs,o=>i(o))}newChangeBuffer(t){return new Ph(this)}getSize(t){return G.resolve(this.size)}}class Ph extends ad{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?i.push(this.cr.addEntry(t,c)):this.cr.removeEntry(o)}),G.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}class ll{constructor(t){this.persistence=t,this.Nr=new ln(i=>jt(i),Yn),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new hd,this.targetCount=0,this.kr=ct.Bn()}forEachTarget(t,i){return this.Nr.forEach((o,c)=>i(c)),G.resolve()}getLastRemoteSnapshotVersion(t){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return G.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(t,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.Lr&&(this.Lr=i),G.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new ct(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,G.resolve()}updateTargetData(t,i){return this.Kn(i),G.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,G.resolve()}removeTargets(t,i,o){let c=0;const h=[];return this.Nr.forEach((_,C)=>{C.sequenceNumber<=i&&null===o.get(C.targetId)&&(this.Nr.delete(_),h.push(this.removeMatchingKeysForTargetId(t,C.targetId)),c++)}),G.waitFor(h).next(()=>c)}getTargetCount(t){return G.resolve(this.targetCount)}getTargetData(t,i){const o=this.Nr.get(i)||null;return G.resolve(o)}addMatchingKeys(t,i,o){return this.Br.Rr(i,o),G.resolve()}removeMatchingKeys(t,i,o){this.Br.mr(i,o);const c=this.persistence.referenceDelegate,h=[];return c&&i.forEach(_=>{h.push(c.markPotentiallyOrphaned(t,_))}),G.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),G.resolve()}getMatchingKeysForTargetId(t,i){const o=this.Br.yr(i);return G.resolve(o)}containsKey(t,i){return G.resolve(this.Br.containsKey(i))}}class dl{constructor(t,i){this.qr={},this.overlays={},this.Qr=new ir(0),this.Kr=!1,this.Kr=!0,this.$r=new cl,this.referenceDelegate=t(this),this.Ur=new ll(this),this.indexManager=new hu,this.remoteDocumentCache=new Rh(o=>this.referenceDelegate.Wr(o)),this.serializer=new Je(i),this.Gr=new ld(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new dd,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let o=this.qr[t.toKey()];return o||(o=new fd(i,this.referenceDelegate),this.qr[t.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,o){ot("MemoryPersistence","Starting transaction:",t);const c=new pd(this.Qr.next());return this.referenceDelegate.zr(),o(c).next(h=>this.referenceDelegate.jr(c).next(()=>h)).toPromise().then(h=>(c.raiseOnCommittedEvent(),h))}Hr(t,i){return G.or(Object.values(this.qr).map(o=>()=>o.containsKey(t,i)))}}class pd extends Vi{constructor(t){super(),this.currentSequenceNumber=t}}class hl{constructor(t){this.persistence=t,this.Jr=new hd,this.Yr=null}static Zr(t){return new hl(t)}get Xr(){if(this.Yr)return this.Yr;throw Et()}addReference(t,i,o){return this.Jr.addReference(o,i),this.Xr.delete(o.toString()),G.resolve()}removeReference(t,i,o){return this.Jr.removeReference(o,i),this.Xr.add(o.toString()),G.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),G.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach(c=>this.Xr.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,i.targetId).next(c=>{c.forEach(h=>this.Xr.add(h.toString()))}).next(()=>o.removeTargetData(t,i))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,o=>{const c=Ct.fromPath(o);return this.ei(t,c).next(h=>{h||i.removeEntry(c,Jt.min())})}).next(()=>(this.Yr=null,i.apply(t)))}updateLimboDocument(t,i){return this.ei(t,i).next(o=>{o?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(t){return 0}ei(t,i){return G.or([()=>G.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}class Dc{constructor(t,i,o,c){this.targetId=t,this.fromCache=i,this.$i=o,this.Ui=c}static Wi(t,i){let o=Q(),c=Q();for(const h of i.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:c=c.add(h.doc.key)}return new Dc(t,i.fromCache,o,c)}}class yu{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ga{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,he.nr)()?8:function be(u){const t=u.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}((0,he.ZQ)())>0?6:4}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,o,c){const h={result:null};return this.Yi(t,i).next(_=>{h.result=_}).next(()=>{if(!h.result)return this.Zi(t,i,c,o).next(_=>{h.result=_})}).next(()=>{if(h.result)return;const _=new yu;return this.Xi(t,i,_).next(C=>{if(h.result=C,this.zi)return this.es(t,i,_,C.size)})}).next(()=>h.result)}es(t,i,o,c){return o.documentReadCount<this.ji?(Qn()<=He.$b.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Io(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(Qn()<=He.$b.DEBUG&&ot("QueryEngine","Query:",Io(i),"scans",o.documentReadCount,"local documents and returns",c,"documents as results."),o.documentReadCount>this.Hi*c?(Qn()<=He.$b.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Io(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,br(i))):G.resolve())}Yi(t,i){if(jn(i))return G.resolve(null);let o=br(i);return this.indexManager.getIndexType(t,o).next(c=>0===c?null:(null!==i.limit&&1===c&&(i=ko(i,null,"F"),o=br(i)),this.indexManager.getDocumentsMatchingTarget(t,o).next(h=>{const _=Q(...h);return this.Ji.getDocuments(t,_).next(C=>this.indexManager.getMinOffset(t,o).next(P=>{const L=this.ts(i,C);return this.ns(i,L,_,P.readTime)?this.Yi(t,ko(i,null,"F")):this.rs(t,L,i,P)}))})))}Zi(t,i,o,c){return jn(i)||c.isEqual(Jt.min())?G.resolve(null):this.Ji.getDocuments(t,o).next(h=>{const _=this.ts(i,h);return this.ns(i,_,o,c)?G.resolve(null):(Qn()<=He.$b.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Io(i)),this.rs(t,_,i,function Rn(u,t){const i=u.toTimestamp().seconds,o=u.toTimestamp().nanoseconds+1,c=Jt.fromTimestamp(1e9===o?new rr(i+1,0):new rr(i,o));return new si(c,Ct.empty(),t)}(c,-1)).next(C=>C))})}ts(t,i){let o=new jr(Rt(t));return i.forEach((c,h)=>{ms(t,h)&&(o=o.add(h))}),o}ns(t,i,o,c){if(null===t.limit)return!1;if(o.size!==i.size)return!0;const h="F"===t.limitType?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(c)>0)}Xi(t,i,o){return Qn()<=He.$b.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Io(i)),this.Ji.getDocumentsMatchingQuery(t,i,si.min(),o)}rs(t,i,o,c){return this.Ji.getDocumentsMatchingQuery(t,o,c).next(h=>(i.forEach(_=>{h=h.insert(_.key,_)}),h))}}class md{constructor(t,i,o,c){this.persistence=t,this.ss=i,this.serializer=c,this.os=new kr(st),this._s=new ln(h=>jt(h),Yn),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(o)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mu(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.os))}}function bc(u,t){return vu.apply(this,arguments)}function vu(){return(vu=(0,ge.A)(function*(u,t){const i=me(u);return yield i.persistence.runTransaction("Handle user change","readonly",o=>{let c;return i.mutationQueue.getAllMutationBatches(o).next(h=>(c=h,i.ls(t),i.mutationQueue.getAllMutationBatches(o))).next(h=>{const _=[],C=[];let P=Q();for(const L of c){_.push(L.batchId);for(const K of L.mutations)P=P.add(K.key)}for(const L of h){C.push(L.batchId);for(const K of L.mutations)P=P.add(K.key)}return i.localDocuments.getDocuments(o,P).next(L=>({hs:L,removedBatchIds:_,addedBatchIds:C}))})})})).apply(this,arguments)}function Mh(u){const t=me(u);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ur.getLastRemoteSnapshotVersion(i))}function Eu(u,t){const i=me(u);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===t&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(o,t)))}function Iu(u,t,i){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,ge.A)(function*(u,t,i){const o=me(u),c=o.os.get(t),h=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",h,_=>o.persistence.referenceDelegate.removeTarget(_,c)))}catch(_){if(!oe(_))throw _;ot("LocalStore",`Failed to update sequence numbers for target ${t}: ${_}`)}o.os=o.os.remove(t),o._s.delete(c.target)})).apply(this,arguments)}function yl(u,t,i){const o=me(u);let c=Jt.min(),h=Q();return o.persistence.runTransaction("Execute query","readwrite",_=>function(P,L,K){const ie=me(P),Te=ie._s.get(K);return void 0!==Te?G.resolve(ie.os.get(Te)):ie.Ur.getTargetData(L,K)}(o,_,br(t)).next(C=>{if(C)return c=C.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(_,C.targetId).next(P=>{h=P})}).next(()=>o.ss.getDocumentsMatchingQuery(_,t,i?c:Jt.min(),i?h:Q())).next(C=>(function Mp(u,t,i){let o=u.us.get(t)||Jt.min();i.forEach((c,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),u.us.set(t,o)}(o,function nn(u){return u.collectionGroup||(u.path.length%2==1?u.path.lastSegment():u.path.get(u.path.length-2))}(t),C),{documents:C,Ts:h})))}class Ae{constructor(){this.activeTargetIds=function et(){return de}()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gt{constructor(){this.so=new Ae,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,o){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,o){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Ae,Promise.resolve()}handleUserChange(t,i,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class dn{_o(t){}shutdown(){}}class qn{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Bn=null;function ii(){return null===Bn?Bn=268435456+Math.round(2147483648*Math.random()):Bn++,"0x"+Bn.toString(16)}const Aa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tu{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const ss="WebChannelConnection";class vl extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const o=i.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+i.host,this.vo=`projects/${c}/databases/${h}`,this.Co="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${h}`}get Fo(){return!1}Mo(i,o,c,h,_){const C=ii(),P=this.xo(i,o.toUriEncodedString());ot("RestConnection",`Sending RPC '${i}' ${C}:`,P,c);const L={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(L,h,_),this.No(i,P,L,c).then(K=>(ot("RestConnection",`Received RPC '${i}' ${C}: `,K),K),K=>{throw Bt("RestConnection",`RPC '${i}' ${C} failed with error: `,K,"url: ",P,"request:",c),K})}Lo(i,o,c,h,_,C){return this.Mo(i,o,c,h,_)}Oo(i,o,c){i["X-Goog-Api-Client"]="gl-js/ fire/"+Qe,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((h,_)=>i[_]=h),c&&c.headers.forEach((h,_)=>i[_]=h)}xo(i,o){return`${this.Do}/v1/${o}:${Aa[i]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,o,c){const h=ii();return new Promise((_,C)=>{const P=new Yt;P.setWithCredentials(!0),P.listenOnce(Mn.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case mt.NO_ERROR:const K=P.getResponseJson();ot(ss,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(K)),_(K);break;case mt.TIMEOUT:ot(ss,`RPC '${t}' ${h} timed out`),C(new se(ne.DEADLINE_EXCEEDED,"Request time out"));break;case mt.HTTP_ERROR:const ie=P.getStatus();if(ot(ss,`RPC '${t}' ${h} failed with status:`,ie,"response text:",P.getResponseText()),ie>0){let Te=P.getResponseJson();Array.isArray(Te)&&(Te=Te[0]);const Ge=Te?.error;if(Ge&&Ge.status&&Ge.message){const _t=function(Dt){const En=Dt.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(En)>=0?En:ne.UNKNOWN}(Ge.status);C(new se(_t,Ge.message))}else C(new se(ne.UNKNOWN,"Server responded with status "+P.getStatus()))}else C(new se(ne.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ot(ss,`RPC '${t}' ${h} completed.`)}});const L=JSON.stringify(c);ot(ss,`RPC '${t}' ${h} sending request:`,c),P.send(i,"POST",L,o,15)})}Bo(t,i,o){const c=ii(),h=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],_=rn(),C=It(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},L=this.longPollingOptions.timeoutSeconds;void 0!==L&&(P.longPollingTimeout=Math.round(1e3*L)),this.useFetchStreams&&(P.useFetchStreams=!0),this.Oo(P.initMessageHeaders,i,o),P.encodeInitMessageHeaders=!0;const K=h.join("");ot(ss,`Creating RPC '${t}' stream ${c}: ${K}`,P);const ie=_.createWebChannel(K,P);let Te=!1,Ge=!1;const _t=new Tu({Io:Dt=>{Ge?ot(ss,`Not sending because RPC '${t}' stream ${c} is closed:`,Dt):(Te||(ot(ss,`Opening RPC '${t}' stream ${c} transport.`),ie.open(),Te=!0),ot(ss,`RPC '${t}' stream ${c} sending:`,Dt),ie.send(Dt))},To:()=>ie.close()}),Nt=(Dt,En,Sn)=>{Dt.listen(En,In=>{try{Sn(In)}catch(_r){setTimeout(()=>{throw _r},0)}})};return Nt(ie,zn.EventType.OPEN,()=>{Ge||(ot(ss,`RPC '${t}' stream ${c} transport opened.`),_t.yo())}),Nt(ie,zn.EventType.CLOSE,()=>{Ge||(Ge=!0,ot(ss,`RPC '${t}' stream ${c} transport closed`),_t.So())}),Nt(ie,zn.EventType.ERROR,Dt=>{Ge||(Ge=!0,Bt(ss,`RPC '${t}' stream ${c} transport errored:`,Dt),_t.So(new se(ne.UNAVAILABLE,"The operation could not be completed")))}),Nt(ie,zn.EventType.MESSAGE,Dt=>{var En;if(!Ge){const Sn=Dt.data[0];Mt(!!Sn);const _r=Sn.error||(null===(En=Sn[0])||void 0===En?void 0:En.error);if(_r){ot(ss,`RPC '${t}' stream ${c} received error:`,_r);const li=_r.status;let Pr=function(Re){const Fe=cr[Re];if(void 0!==Fe)return zr(Fe)}(li),ke=_r.message;void 0===Pr&&(Pr=ne.INTERNAL,ke="Unknown error status: "+li+" with message "+_r.message),Ge=!0,_t.So(new se(Pr,ke)),ie.close()}else ot(ss,`RPC '${t}' stream ${c} received:`,Sn),_t.bo(Sn)}}),Nt(C,pt.STAT_EVENT,Dt=>{Dt.stat===Ze.PROXY?ot(ss,`RPC '${t}' stream ${c} detected buffering proxy`):Dt.stat===Ze.NOPROXY&&ot(ss,`RPC '${t}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{_t.wo()},0),_t}}function Rc(){return typeof document<"u"?document:null}function Da(u){return new nl(u,!0)}class Ca{constructor(t,i,o=1e3,c=1.5,h=6e4){this.ui=t,this.timerId=i,this.ko=o,this.qo=c,this.Qo=h,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),c=Math.max(0,i-o);c>0&&ot("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,c,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class yd{constructor(t,i,o,c,h,_,C,P){this.ui=t,this.Ho=o,this.Jo=c,this.connection=h,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=C,this.listener=P,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ca(t,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,ge.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,ge.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,i){var o=this;return(0,ge.A)(function*(){o.u_(),o.c_(),o.t_.cancel(),o.Yo++,4!==t?o.t_.reset():i&&i.code===ne.RESOURCE_EXHAUSTED?(Pt(i.toString()),Pt("Using maximum backoff delay to prevent overloading the backend."),o.t_.Wo()):i&&i.code===ne.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.l_(),o.stream.close(),o.stream=null),o.state=t,yield o.listener.mo(i)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.Yo===i&&this.P_(o,c)},o=>{t(()=>{const c=new se(ne.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(c)})})}P_(t,i){const o=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(c=>{o(()=>this.I_(c))}),this.stream.onMessage(c=>{o(()=>1==++this.e_?this.E_(c):this.onNext(c))})}i_(){var t=this;this.state=5,this.t_.Go((0,ge.A)(function*(){t.state=0,t.start()}))}I_(t){return ot("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget(()=>this.Yo===t?i():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Il extends yd{constructor(t,i,o,c,h,_){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,o,c,_),this.serializer=h}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=function uu(u,t){let i;if("targetChange"in t){const o="NO_CHANGE"===(L=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:Et(),c=t.targetChange.targetIds||[],h=function(L,K){return L.useProto3Json?(Mt(void 0===K||"string"==typeof K),tn.fromBase64String(K||"")):(Mt(void 0===K||K instanceof Buffer||K instanceof Uint8Array),tn.fromUint8Array(K||new Uint8Array))}(u,t.targetChange.resumeToken),_=t.targetChange.cause,C=_&&function(L){const K=void 0===L.code?ne.UNKNOWN:zr(L.code);return new se(K,L.message||"")}(_);i=new la(o,c,h,C||null)}else if("documentChange"in t){const o=t.documentChange,c=Zr(u,o.document.name),h=Ki(o.document.updateTime),_=o.document.createTime?Ki(o.document.createTime):Jt.min(),C=new Xr({mapValue:{fields:o.document.fields}}),P=Cr.newFoundDocument(c,h,_,C);i=new po(o.targetIds||[],o.removedTargetIds||[],P.key,P)}else if("documentDelete"in t){const o=t.documentDelete,c=Zr(u,o.document),h=o.readTime?Ki(o.readTime):Jt.min(),_=Cr.newNoDocument(c,h);i=new po([],o.removedTargetIds||[],_.key,_)}else if("documentRemove"in t){const o=t.documentRemove,c=Zr(u,o.document);i=new po([],o.removedTargetIds||[],c,null)}else{if(!("filter"in t))return Et();{const o=t.filter,{count:c=0,unchangedNames:h}=o,_=new ur(c,h);i=new Fn(o.targetId,_)}}var L;return i}(this.serializer,t),o=function(h){if(!("targetChange"in h))return Jt.min();const _=h.targetChange;return _.targetIds&&_.targetIds.length?Jt.min():_.readTime?Ki(_.readTime):Jt.min()}(t);return this.listener.d_(i,o)}A_(t){const i={};i.database=ys(this.serializer),i.addTarget=function(h,_){let C;const P=_.target;if(C=Un(P)?{documents:$a(h,P)}:{query:gc(h,P)._t},C.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){C.resumeToken=ya(h,_.resumeToken);const L=Lo(h,_.expectedCount);null!==L&&(C.expectedCount=L)}else if(_.snapshotVersion.compareTo(Jt.min())>0){C.readTime=Ho(h,_.snapshotVersion.toTimestamp());const L=Lo(h,_.expectedCount);null!==L&&(C.expectedCount=L)}return C}(this.serializer,t);const o=function Ap(u,t){const i=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(t.purpose);return null==i?null:{"goog-listen-tags":i}}(0,t);o&&(i.labels=o),this.a_(i)}R_(t){const i={};i.database=ys(this.serializer),i.removeTarget=t,this.a_(i)}}class vd extends yd{constructor(t,i,o,c,h,_){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,o,c,_),this.serializer=h}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return Mt(!!t.streamToken),this.lastStreamToken=t.streamToken,Mt(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){Mt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=function pc(u,t){return u&&u.length>0?(Mt(void 0!==t),u.map(i=>function(c,h){let _=Ki(c.updateTime?c.updateTime:h);return _.isEqual(Jt.min())&&(_=Ki(h)),new Va(_,c.transformResults||[])}(i,t))):[]}(t.writeResults,t.commitTime),o=Ki(t.commitTime);return this.listener.g_(o,i)}p_(){const t={};t.database=ys(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map(o=>function ju(u,t){let i;if(t instanceof D)i={update:na(u,t.key,t.value)};else if(t instanceof Xe)i={delete:da(u,t.key)};else if(t instanceof z)i={update:na(u,t.key,t.data),updateMask:V(t.fieldMask)};else{if(!(t instanceof vt))return Et();i={verify:da(u,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(o=>function(h,_){const C=_.transform;if(C instanceof ri)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Gr)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof $r)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof ei)return{fieldPath:_.field.canonicalString(),increment:C.Pe};throw Et()}(0,o))),t.precondition.isNone||(i.currentDocument=void 0!==(h=t.precondition).updateTime?{updateTime:Kn(u,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Et()),i;var h}(this.serializer,o))};this.a_(i)}}class Qu extends class{}{constructor(t,i,o,c){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=o,this.serializer=c,this.y_=!1}w_(){if(this.y_)throw new se(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,o,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,_])=>this.connection.Mo(t,zo(i,o),c,h,_)).catch(h=>{throw"FirebaseError"===h.name?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new se(ne.UNKNOWN,h.toString())})}Lo(t,i,o,c,h){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,C])=>this.connection.Lo(t,zo(i,o),c,_,C,h)).catch(_=>{throw"FirebaseError"===_.name?(_.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new se(ne.UNKNOWN,_.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Ga{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pt(i),this.D_=!1):ot("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Ss{constructor(t,i,o,c,h){var _=this;this.localStore=t,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=h,this.k_._o(C=>{o.enqueueAndForget((0,ge.A)(function*(){var P;Au(_)&&(ot("RemoteStore","Restarting streams for network reachability change."),yield(P=(0,ge.A)(function*(K){const ie=me(K);ie.L_.add(4),yield Xu(ie),ie.q_.set("Unknown"),ie.L_.delete(4),yield Ed(ie)}),function L(K){return P.apply(this,arguments)})(_))}))}),this.q_=new Ga(o,c)}}function Ed(u){return xh.apply(this,arguments)}function xh(){return(xh=(0,ge.A)(function*(u){if(Au(u))for(const t of u.B_)yield t(!0)})).apply(this,arguments)}function Xu(u){return Np.apply(this,arguments)}function Np(){return(Np=(0,ge.A)(function*(u){for(const t of u.B_)yield t(!1)})).apply(this,arguments)}function Id(u,t){const i=me(u);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),Tl(i)?Td(i):Mc(i).r_()&&Op(i,t))}function wu(u,t){const i=me(u),o=Mc(i);i.N_.delete(t),o.r_()&&xp(i,t),0===i.N_.size&&(o.r_()?o.o_():Au(i)&&i.q_.set("Unknown"))}function Op(u,t){if(u.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Jt.min())>0){const i=u.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Mc(u).A_(t)}function xp(u,t){u.Q_.xe(t),Mc(u).R_(t)}function Td(u){u.Q_=new ta({getRemoteKeysForTarget:t=>u.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>u.N_.get(t)||null,tt:()=>u.datastore.serializer.databaseId}),Mc(u).start(),u.q_.v_()}function Tl(u){return Au(u)&&!Mc(u).n_()&&u.N_.size>0}function Au(u){return 0===me(u).L_.size}function $m(u){u.Q_=void 0}function Tv(u){return kp.apply(this,arguments)}function kp(){return(kp=(0,ge.A)(function*(u){u.q_.set("Online")})).apply(this,arguments)}function Hm(u){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,ge.A)(function*(u){u.N_.forEach((t,i)=>{Op(u,t)})})).apply(this,arguments)}function zm(u,t){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,ge.A)(function*(u,t){$m(u),Tl(u)?(u.q_.M_(t),Td(u)):u.q_.set("Unknown")})).apply(this,arguments)}function wv(u,t,i){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,ge.A)(function*(u,t,i){if(u.q_.set("Online"),t instanceof la&&2===t.state&&t.cause)try{yield(o=(0,ge.A)(function*(h,_){const C=_.cause;for(const P of _.targetIds)h.N_.has(P)&&(yield h.remoteSyncer.rejectListen(P,C),h.N_.delete(P),h.Q_.removeTarget(P))}),function c(h,_){return o.apply(this,arguments)})(u,t)}catch(o){ot("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),yield wd(u,o)}else if(t instanceof po?u.Q_.Ke(t):t instanceof Fn?u.Q_.He(t):u.Q_.We(t),!i.isEqual(Jt.min()))try{const o=yield Mh(u.localStore);i.compareTo(o)>=0&&(yield function(h,_){const C=h.Q_.rt(_);return C.targetChanges.forEach((P,L)=>{if(P.resumeToken.approximateByteSize()>0){const K=h.N_.get(L);K&&h.N_.set(L,K.withResumeToken(P.resumeToken,_))}}),C.targetMismatches.forEach((P,L)=>{const K=h.N_.get(P);if(!K)return;h.N_.set(P,K.withResumeToken(tn.EMPTY_BYTE_STRING,K.snapshotVersion)),xp(h,P);const ie=new fe(K.target,P,L,K.sequenceNumber);Op(h,ie)}),h.remoteSyncer.applyRemoteEvent(C)}(u,i))}catch(o){ot("RemoteStore","Failed to raise snapshot:",o),yield wd(u,o)}var o}),Wm.apply(this,arguments)}function wd(u,t,i){return kh.apply(this,arguments)}function kh(){return(kh=(0,ge.A)(function*(u,t,i){if(!oe(t))throw t;u.L_.add(1),yield Xu(u),u.q_.set("Offline"),i||(i=()=>Mh(u.localStore)),u.asyncQueue.enqueueRetryable((0,ge.A)(function*(){ot("RemoteStore","Retrying IndexedDB access"),yield i(),u.L_.delete(1),yield Ed(u)}))})).apply(this,arguments)}function ia(u,t){return t().catch(i=>wd(u,i,t))}function Ad(u){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,ge.A)(function*(u){const t=me(u),i=Zu(t);let o=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;oT(t);)try{const c=yield Eu(t.localStore,o);if(null===c){0===t.O_.length&&i.o_();break}o=c.batchId,Vp(t,c)}catch(c){yield wd(t,c)}Ka(t)&&Up(t)})).apply(this,arguments)}function oT(u){return Au(u)&&u.O_.length<10}function Vp(u,t){u.O_.push(t);const i=Zu(u);i.r_()&&i.V_&&i.m_(t.mutations)}function Ka(u){return Au(u)&&!Zu(u).n_()&&u.O_.length>0}function Up(u){Zu(u).start()}function wl(u){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,ge.A)(function*(u){Zu(u).p_()})).apply(this,arguments)}function Av(u){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,ge.A)(function*(u){const t=Zu(u);for(const i of u.O_)t.m_(i.mutations)})).apply(this,arguments)}function aT(u,t,i){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,ge.A)(function*(u,t,i){const o=u.O_.shift(),c=Yr.from(o,t,i);yield ia(u,()=>u.remoteSyncer.applySuccessfulWrite(c)),yield Ad(u)})).apply(this,arguments)}function uT(u,t){return Km.apply(this,arguments)}function Km(){return Km=(0,ge.A)(function*(u,t){var i;t&&Zu(u).V_&&(yield(i=(0,ge.A)(function*(c,h){if(function Pi(u){switch(u){default:return Et();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}(C=h.code)&&C!==ne.ABORTED){const _=c.O_.shift();Zu(c).s_(),yield ia(c,()=>c.remoteSyncer.rejectFailedWrite(_.batchId,h)),yield Ad(c)}var C}),function o(c,h){return i.apply(this,arguments)})(u,t)),Ka(u)&&Up(u)}),Km.apply(this,arguments)}function Dv(u,t){return jp.apply(this,arguments)}function jp(){return(jp=(0,ge.A)(function*(u,t){const i=me(u);i.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const o=Au(i);i.L_.add(3),yield Xu(i),o&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),yield Ed(i)})).apply(this,arguments)}function Yu(u,t){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,ge.A)(function*(u,t){const i=me(u);t?(i.L_.delete(2),yield Ed(i)):t||(i.L_.add(2),yield Xu(i),i.q_.set("Unknown"))})).apply(this,arguments)}function Mc(u){return u.K_||(u.K_=function(i,o,c){const h=me(i);return h.w_(),new Il(o,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,c)}(u.datastore,u.asyncQueue,{Eo:Tv.bind(null,u),Ro:Hm.bind(null,u),mo:zm.bind(null,u),d_:wv.bind(null,u)}),u.B_.push(function(){var t=(0,ge.A)(function*(i){i?(u.K_.s_(),Tl(u)?Td(u):u.q_.set("Unknown")):(yield u.K_.stop(),$m(u))});return function(i){return t.apply(this,arguments)}}())),u.K_}function Zu(u){return u.U_||(u.U_=function(i,o,c){const h=me(i);return h.w_(),new vd(o,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,c)}(u.datastore,u.asyncQueue,{Eo:()=>Promise.resolve(),Ro:wl.bind(null,u),mo:uT.bind(null,u),f_:Av.bind(null,u),g_:aT.bind(null,u)}),u.B_.push(function(){var t=(0,ge.A)(function*(i){i?(u.U_.s_(),yield Ad(u)):(yield u.U_.stop(),u.O_.length>0&&(ot("RemoteStore",`Stopping write stream with ${u.O_.length} pending writes`),u.O_=[]))});return function(i){return t.apply(this,arguments)}}())),u.U_}class Dd{constructor(t,i,o,c,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=o,this.op=c,this.removalCallback=h,this.deferred=new dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,o,c,h){const _=Date.now()+o,C=new Dd(t,i,_,c,h);return C.start(o),C}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new se(ne.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qo(u,t){if(Pt("AsyncQueue",`${t}: ${u}`),oe(u))return new se(ne.UNAVAILABLE,`${t}: ${u}`);throw u}class Al{constructor(t){this.comparator=t?(i,o)=>t(i,o)||Ct.comparator(i.key,o.key):(i,o)=>Ct.comparator(i.key,o.key),this.keyedMap=Wi(),this.sortedSet=new kr(this.comparator)}static emptySet(t){return new Al(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,o)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Al)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,h=o.getNext().key;if(!c.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,i){const o=new Al;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=i,o}}class Cd{constructor(){this.W_=new kr(Ct.comparator)}track(t){const i=t.doc.key,o=this.W_.get(i);o?0!==t.type&&3===o.type?this.W_=this.W_.insert(i,t):3===t.type&&1!==o.type?this.W_=this.W_.insert(i,{type:o.type,doc:t.doc}):2===t.type&&2===o.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):2===t.type&&0===o.type?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):1===t.type&&0===o.type?this.W_=this.W_.remove(i):1===t.type&&2===o.type?this.W_=this.W_.insert(i,{type:1,doc:o.doc}):0===t.type&&1===o.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):Et():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal((i,o)=>{t.push(o)}),t}}class qa{constructor(t,i,o,c,h,_,C,P,L){this.query=t,this.docs=i,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=h,this.fromCache=_,this.syncStateChanged=C,this.excludesMetadataChanges=P,this.hasCachedResults=L}static fromInitialDocuments(t,i,o,c,h){const _=[];return i.forEach(C=>{_.push({type:0,doc:C})}),new qa(t,i,Al.emptySet(i),_,o,c,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,o=t.docChanges;if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==o[c].type||!i[c].doc.isEqual(o[c].doc))return!1;return!0}}class Cv{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class qm{constructor(){this.queries=$p(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,o){const c=me(i),h=c.queries;c.queries=$p(),h.forEach((_,C)=>{for(const P of C.j_)P.onError(o)})}(this,new se(ne.ABORTED,"Firestore shutting down"))}}function $p(){return new ln(u=>Ks(u),Fs)}function Dl(u,t){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,ge.A)(function*(u,t){const i=me(u);let o=3;const c=t.query;let h=i.queries.get(c);h?!h.H_()&&t.J_()&&(o=2):(h=new Cv,o=t.J_()?0:1);try{switch(o){case 0:h.z_=yield i.onListen(c,!0);break;case 1:h.z_=yield i.onListen(c,!1);break;case 2:yield i.onFirstRemoteStoreListen(c)}}catch(_){const C=Qo(_,`Initialization of query '${Io(t.query)}' failed`);return void t.onError(C)}i.queries.set(c,h),h.j_.push(t),t.Z_(i.onlineState),h.z_&&t.X_(h.z_)&&Vh(i)})).apply(this,arguments)}function bd(u,t){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,ge.A)(function*(u,t){const i=me(u),o=t.query;let c=3;const h=i.queries.get(o);if(h){const _=h.j_.indexOf(t);_>=0&&(h.j_.splice(_,1),0===h.j_.length?c=t.J_()?0:1:!h.H_()&&t.J_()&&(c=2))}switch(c){case 0:return i.queries.delete(o),i.onUnlisten(o,!0);case 1:return i.queries.delete(o),i.onUnlisten(o,!1);case 2:return i.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function bv(u,t){const i=me(u);let o=!1;for(const c of t){const _=i.queries.get(c.query);if(_){for(const C of _.j_)C.X_(c)&&(o=!0);_.z_=c}}o&&Vh(i)}function Sv(u,t,i){const o=me(u),c=o.queries.get(t);if(c)for(const h of c.j_)h.onError(i);o.queries.delete(t)}function Vh(u){u.Y_.forEach(t=>{t.next()})}var zp,Qm;(Qm=zp||(zp={})).ea="default",Qm.Cache="cache";class Uo{constructor(t,i,o){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(t){if(!this.options.includeMetadataChanges){const o=[];for(const c of t.docChanges)3!==c.type&&o.push(c);t=new qa(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===i)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=qa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==zp.Cache}}class bl{constructor(t){this.key=t}}class qp{constructor(t){this.key=t}}class Qp{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Q(),this.mutatedKeys=Q(),this.Aa=Rt(t),this.Ra=new Al(this.Aa)}get Va(){return this.Ta}ma(t,i){const o=i?i.fa:new Cd,c=i?i.Ra:this.Ra;let h=i?i.mutatedKeys:this.mutatedKeys,_=c,C=!1;const P="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,L="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(t.inorderTraversal((K,ie)=>{const Te=c.get(K),Ge=ms(this.query,ie)?ie:null,_t=!!Te&&this.mutatedKeys.has(Te.key),Nt=!!Ge&&(Ge.hasLocalMutations||this.mutatedKeys.has(Ge.key)&&Ge.hasCommittedMutations);let Dt=!1;Te&&Ge?Te.data.isEqual(Ge.data)?_t!==Nt&&(o.track({type:3,doc:Ge}),Dt=!0):this.ga(Te,Ge)||(o.track({type:2,doc:Ge}),Dt=!0,(P&&this.Aa(Ge,P)>0||L&&this.Aa(Ge,L)<0)&&(C=!0)):!Te&&Ge?(o.track({type:0,doc:Ge}),Dt=!0):Te&&!Ge&&(o.track({type:1,doc:Te}),Dt=!0,(P||L)&&(C=!0)),Dt&&(Ge?(_=_.add(Ge),h=Nt?h.add(K):h.delete(K)):(_=_.delete(K),h=h.delete(K)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const K="F"===this.query.limitType?_.last():_.first();_=_.delete(K.key),h=h.delete(K.key),o.track({type:1,doc:K})}return{Ra:_,fa:o,ns:C,mutatedKeys:h}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,o,c){const h=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const _=t.fa.G_();_.sort((K,ie)=>function(Ge,_t){const Nt=Dt=>{switch(Dt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return Nt(Ge)-Nt(_t)}(K.type,ie.type)||this.Aa(K.doc,ie.doc)),this.pa(o),c=null!=c&&c;const C=i&&!c?this.ya():[],P=0===this.da.size&&this.current&&!c?1:0,L=P!==this.Ea;return this.Ea=P,0!==_.length||L?{snapshot:new qa(this.query,t.Ra,h,_,t.mutatedKeys,0===P,L,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:C}:{wa:C}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Cd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Q(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const i=[];return t.forEach(o=>{this.da.has(o)||i.push(new qp(o))}),this.da.forEach(o=>{t.has(o)||i.push(new bl(o))}),i}ba(t){this.Ta=t.Ts,this.da=Q();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return qa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Rv{constructor(t,i,o){this.query=t,this.targetId=i,this.view=o}}class Xm{constructor(t){this.key=t,this.va=!1}}class Pv{constructor(t,i,o,c,h,_){this.localStore=t,this.remoteStore=i,this.eventManager=o,this.sharedClientState=c,this.currentUser=h,this.maxConcurrentLimboResolutions=_,this.Ca={},this.Fa=new ln(C=>Ks(C),Fs),this.Ma=new Map,this.xa=new Set,this.Oa=new kr(Ct.comparator),this.Na=new Map,this.La=new hd,this.Ba={},this.ka=new Map,this.qa=ct.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Ym(u,t){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,ge.A)(function*(u,t,i=!0){const o=Oc(u);let c;const h=o.Fa.get(t);return h?(o.sharedClientState.addLocalQueryTarget(h.targetId),c=h.view.Da()):c=yield Jm(o,t,i,!0),c})).apply(this,arguments)}function Zm(u,t){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,ge.A)(function*(u,t){const i=Oc(u);yield Jm(i,t,!0,!1)})).apply(this,arguments)}function Jm(u,t,i,o){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,ge.A)(function*(u,t,i,o){const c=yield function qo(u,t){const i=me(u);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return i.Ur.getTargetData(o,t).next(h=>h?(c=h,G.resolve(c)):i.Ur.allocateTargetId(o).next(_=>(c=new fe(t,_,"TargetPurposeListen",o.currentSequenceNumber),i.Ur.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=i.os.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.os=i.os.insert(o.targetId,o),i._s.set(t,o.targetId)),o})}(u.localStore,br(t)),h=c.targetId,_=u.sharedClientState.addLocalQueryTarget(h,i);let C;return o&&(C=yield function Jp(u,t,i,o,c){return Uh.apply(this,arguments)}(u,t,h,"current"===_,c.resumeToken)),u.isPrimaryClient&&i&&Id(u.remoteStore,c),C})).apply(this,arguments)}function Uh(){return Uh=(0,ge.A)(function*(u,t,i,o,c){u.Ka=(ie,Te,Ge)=>{return(_t=(0,ge.A)(function*(Dt,En,Sn,In){let _r=En.view.ma(Sn);_r.ns&&(_r=yield yl(Dt.localStore,En.query,!1).then(({documents:ve})=>En.view.ma(ve,_r)));const li=In&&In.targetChanges.get(En.targetId),Pr=In&&null!=In.targetMismatches.get(En.targetId),ke=En.view.applyChanges(_r,Dt.isPrimaryClient,li,Pr);return Qa(Dt,En.targetId,ke.wa),ke.snapshot}),function Nt(Dt,En,Sn,In){return _t.apply(this,arguments)})(u,ie,Te,Ge);var _t};const h=yield yl(u.localStore,t,!0),_=new Qp(t,h.Ts),C=_.ma(h.documents),P=Fi.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==u.onlineState,c),L=_.applyChanges(C,u.isPrimaryClient,P);Qa(u,i,L.wa);const K=new Rv(t,i,_);return u.Fa.set(t,K),u.Ma.has(i)?u.Ma.get(i).push(t):u.Ma.set(i,[t]),L.snapshot}),Uh.apply(this,arguments)}function e_(u,t,i){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,ge.A)(function*(u,t,i){const o=me(u),c=o.Fa.get(t),h=o.Ma.get(c.targetId);if(h.length>1)return o.Ma.set(c.targetId,h.filter(_=>!Fs(_,t))),void o.Fa.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(c.targetId),o.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Iu(o.localStore,c.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(c.targetId),i&&wu(o.remoteStore,c.targetId),Ju(o,c.targetId)}).catch(oi))):(Ju(o,c.targetId),yield Iu(o.localStore,c.targetId,!0))})).apply(this,arguments)}function jh(u,t){return $h.apply(this,arguments)}function $h(){return($h=(0,ge.A)(function*(u,t){const i=me(u),o=i.Fa.get(t),c=i.Ma.get(o.targetId);i.isPrimaryClient&&1===c.length&&(i.sharedClientState.removeLocalQueryTarget(o.targetId),wu(i.remoteStore,o.targetId))})).apply(this,arguments)}function Hh(){return(Hh=(0,ge.A)(function*(u,t,i){const o=function l_(u){const t=me(u);return t.remoteStore.remoteSyncer.applySuccessfulWrite=r_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=s_.bind(null,t),t}(u);try{const c=yield function(_,C){const P=me(_),L=rr.now(),K=C.reduce((Ge,_t)=>Ge.add(_t.key),Q());let ie,Te;return P.persistence.runTransaction("Locally write mutations","readwrite",Ge=>{let _t=sr(),Nt=Q();return P.cs.getEntries(Ge,K).next(Dt=>{_t=Dt,_t.forEach((En,Sn)=>{Sn.isValidDocument()||(Nt=Nt.add(En))})}).next(()=>P.localDocuments.getOverlayedDocuments(Ge,_t)).next(Dt=>{ie=Dt;const En=[];for(const Sn of C){const In=ea(Sn,ie.get(Sn.key).overlayedDocument);null!=In&&En.push(new z(Sn.key,In,ca(In.value.mapValue),dr.exists(!0)))}return P.mutationQueue.addMutationBatch(Ge,L,En,C)}).next(Dt=>{Te=Dt;const En=Dt.applyToLocalDocumentSet(ie,Nt);return P.documentOverlayCache.saveOverlays(Ge,Dt.batchId,En)})}).then(()=>({batchId:Te.batchId,changes:Lr(ie)}))}(o.localStore,t);o.sharedClientState.addPendingMutation(c.batchId),function(_,C,P){let L=_.Ba[_.currentUser.toKey()];L||(L=new kr(st)),L=L.insert(C,P),_.Ba[_.currentUser.toKey()]=L}(o,c.batchId,i),yield Xa(o,c.changes),yield Ad(o.remoteStore)}catch(c){const h=Qo(c,"Failed to persist write");i.reject(h)}})).apply(this,arguments)}function eg(u,t){return tg.apply(this,arguments)}function tg(){return(tg=(0,ge.A)(function*(u,t){const i=me(u);try{const o=yield function Pp(u,t){const i=me(u),o=t.snapshotVersion;let c=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const _=i.cs.newChangeBuffer({trackRemovals:!0});c=i.os;const C=[];t.targetChanges.forEach((K,ie)=>{const Te=c.get(ie);if(!Te)return;C.push(i.Ur.removeMatchingKeys(h,K.removedDocuments,ie).next(()=>i.Ur.addMatchingKeys(h,K.addedDocuments,ie)));let Ge=Te.withSequenceNumber(h.currentSequenceNumber);var Nt,Dt,En;null!==t.targetMismatches.get(ie)?Ge=Ge.withResumeToken(tn.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):K.resumeToken.approximateByteSize()>0&&(Ge=Ge.withResumeToken(K.resumeToken,o)),c=c.insert(ie,Ge),Dt=Ge,En=K,(0===(Nt=Te).resumeToken.approximateByteSize()||Dt.snapshotVersion.toMicroseconds()-Nt.snapshotVersion.toMicroseconds()>=3e8||En.addedDocuments.size+En.modifiedDocuments.size+En.removedDocuments.size>0)&&C.push(i.Ur.updateTargetData(h,Ge))});let P=sr(),L=Q();if(t.documentUpdates.forEach(K=>{t.resolvedLimboDocuments.has(K)&&C.push(i.persistence.referenceDelegate.updateLimboDocument(h,K))}),C.push(function _l(u,t,i){let o=Q(),c=Q();return i.forEach(h=>o=o.add(h)),t.getEntries(u,o).next(h=>{let _=sr();return i.forEach((C,P)=>{const L=h.get(C);P.isFoundDocument()!==L.isFoundDocument()&&(c=c.add(C)),P.isNoDocument()&&P.version.isEqual(Jt.min())?(t.removeEntry(C,P.readTime),_=_.insert(C,P)):!L.isValidDocument()||P.version.compareTo(L.version)>0||0===P.version.compareTo(L.version)&&L.hasPendingWrites?(t.addEntry(P),_=_.insert(C,P)):ot("LocalStore","Ignoring outdated watch update for ",C,". Current version:",L.version," Watch version:",P.version)}),{Ps:_,Is:c}})}(h,_,t.documentUpdates).next(K=>{P=K.Ps,L=K.Is})),!o.isEqual(Jt.min())){const K=i.Ur.getLastRemoteSnapshotVersion(h).next(ie=>i.Ur.setTargetsMetadata(h,h.currentSequenceNumber,o));C.push(K)}return G.waitFor(C).next(()=>_.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,P,L)).next(()=>P)}).then(h=>(i.os=c,h))}(i.localStore,t);t.targetChanges.forEach((c,h)=>{const _=i.Na.get(h);_&&(Mt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?_.va=!0:c.modifiedDocuments.size>0?Mt(_.va):c.removedDocuments.size>0&&(Mt(_.va),_.va=!1))}),yield Xa(i,o,t)}catch(o){yield oi(o)}})).apply(this,arguments)}function n_(u,t,i){const o=me(u);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const c=[];o.Fa.forEach((h,_)=>{const C=_.view.Z_(t);C.snapshot&&c.push(C.snapshot)}),function(_,C){const P=me(_);P.onlineState=C;let L=!1;P.queries.forEach((K,ie)=>{for(const Te of ie.j_)Te.Z_(C)&&(L=!0)}),L&&Vh(P)}(o.eventManager,t),c.length&&o.Ca.d_(c),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}function Mv(u,t,i){return ng.apply(this,arguments)}function ng(){return(ng=(0,ge.A)(function*(u,t,i){const o=me(u);o.sharedClientState.updateQueryState(t,"rejected",i);const c=o.Na.get(t),h=c&&c.key;if(h){let _=new kr(Ct.comparator);_=_.insert(h,Cr.newNoDocument(h,Jt.min()));const C=Q().add(h),P=new ci(Jt.min(),new Map,new kr(st),_,C);yield eg(o,P),o.Oa=o.Oa.remove(h),o.Na.delete(t),sg(o)}else yield Iu(o.localStore,t,!1).then(()=>Ju(o,t,i)).catch(oi)})).apply(this,arguments)}function r_(u,t){return i_.apply(this,arguments)}function i_(){return(i_=(0,ge.A)(function*(u,t){const i=me(u),o=t.batch.batchId;try{const c=yield function ml(u,t){const i=me(u);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=t.batch.keys(),h=i.cs.newChangeBuffer({trackRemovals:!0});return function(C,P,L,K){const ie=L.batch,Te=ie.keys();let Ge=G.resolve();return Te.forEach(_t=>{Ge=Ge.next(()=>K.getEntry(P,_t)).next(Nt=>{const Dt=L.docVersions.get(_t);Mt(null!==Dt),Nt.version.compareTo(Dt)<0&&(ie.applyToRemoteDocument(Nt,L),Nt.isValidDocument()&&(Nt.setReadTime(L.commitVersion),K.addEntry(Nt)))})}),Ge.next(()=>C.mutationQueue.removeMutationBatch(P,ie))}(i,o,t,h).next(()=>h.apply(o)).next(()=>i.mutationQueue.performConsistencyCheck(o)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(o,c,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(C){let P=Q();for(let L=0;L<C.mutationResults.length;++L)C.mutationResults[L].transformResults.length>0&&(P=P.add(C.batch.mutations[L].key));return P}(t))).next(()=>i.localDocuments.getDocuments(o,c))})}(i.localStore,t);zh(i,o,null),ig(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield Xa(i,c)}catch(c){yield oi(c)}})).apply(this,arguments)}function s_(u,t,i){return rg.apply(this,arguments)}function rg(){return(rg=(0,ge.A)(function*(u,t,i){const o=me(u);try{const c=yield function(_,C){const P=me(_);return P.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let K;return P.mutationQueue.lookupMutationBatch(L,C).next(ie=>(Mt(null!==ie),K=ie.keys(),P.mutationQueue.removeMutationBatch(L,ie))).next(()=>P.mutationQueue.performConsistencyCheck(L)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId(L,K,C)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,K)).next(()=>P.localDocuments.getDocuments(L,K))})}(o.localStore,t);zh(o,t,i),ig(o,t),o.sharedClientState.updateMutationState(t,"rejected",i),yield Xa(o,c)}catch(c){yield oi(c)}})).apply(this,arguments)}function ig(u,t){(u.ka.get(t)||[]).forEach(i=>{i.resolve()}),u.ka.delete(t)}function zh(u,t,i){const o=me(u);let c=o.Ba[o.currentUser.toKey()];if(c){const h=c.get(t);h&&(i?h.reject(i):h.resolve(),c=c.remove(t)),o.Ba[o.currentUser.toKey()]=c}}function Ju(u,t,i=null){u.sharedClientState.removeLocalQueryTarget(t);for(const o of u.Ma.get(t))u.Fa.delete(o),i&&u.Ca.$a(o,i);u.Ma.delete(t),u.isPrimaryClient&&u.La.gr(t).forEach(o=>{u.La.containsKey(o)||a_(u,o)})}function a_(u,t){u.xa.delete(t.path.canonicalString());const i=u.Oa.get(t);null!==i&&(wu(u.remoteStore,i),u.Oa=u.Oa.remove(t),u.Na.delete(i),sg(u))}function Qa(u,t,i){for(const o of i)o instanceof bl?(u.La.addReference(o.key,t),u_(u,o)):o instanceof qp?(ot("SyncEngine","Document no longer in limbo: "+o.key),u.La.removeReference(o.key,t),u.La.containsKey(o.key)||a_(u,o.key)):Et()}function u_(u,t){const i=t.key,o=i.path.canonicalString();u.Oa.get(i)||u.xa.has(o)||(ot("SyncEngine","New document in limbo: "+i),u.xa.add(o),sg(u))}function sg(u){for(;u.xa.size>0&&u.Oa.size<u.maxConcurrentLimboResolutions;){const t=u.xa.values().next().value;u.xa.delete(t);const i=new Ct(Tn.fromString(t)),o=u.qa.next();u.Na.set(o,new Xm(i)),u.Oa=u.Oa.insert(i,o),Id(u.remoteStore,new fe(br(gi(i.path)),o,"TargetPurposeLimboResolution",ir.oe))}}function Xa(u,t,i){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,ge.A)(function*(u,t,i){const o=me(u),c=[],h=[],_=[];var C;o.Fa.isEmpty()||(o.Fa.forEach((C,P)=>{_.push(o.Ka(P,t,i).then(L=>{var K;if((L||i)&&o.isPrimaryClient){const ie=L?!L.fromCache:null===(K=i?.targetChanges.get(P.targetId))||void 0===K?void 0:K.current;o.sharedClientState.updateQueryState(P.targetId,ie?"current":"not-current")}if(L){c.push(L);const ie=Dc.Wi(P.targetId,L);h.push(ie)}}))}),yield Promise.all(_),o.Ca.d_(c),yield(C=(0,ge.A)(function*(L,K){const ie=me(L);try{yield ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",Te=>G.forEach(K,Ge=>G.forEach(Ge.$i,_t=>ie.persistence.referenceDelegate.addReference(Te,Ge.targetId,_t)).next(()=>G.forEach(Ge.Ui,_t=>ie.persistence.referenceDelegate.removeReference(Te,Ge.targetId,_t)))))}catch(Te){if(!oe(Te))throw Te;ot("LocalStore","Failed to update sequence numbers: "+Te)}for(const Te of K){const Ge=Te.targetId;if(!Te.fromCache){const _t=ie.os.get(Ge),Dt=_t.withLastLimboFreeSnapshotVersion(_t.snapshotVersion);ie.os=ie.os.insert(Ge,Dt)}}}),function P(L,K){return C.apply(this,arguments)})(o.localStore,h))}),Sd.apply(this,arguments)}function cT(u,t){return og.apply(this,arguments)}function og(){return(og=(0,ge.A)(function*(u,t){const i=me(u);if(!i.currentUser.isEqual(t)){ot("SyncEngine","User change. New user:",t.toKey());const o=yield bc(i.localStore,t);i.currentUser=t,(h=i).ka.forEach(C=>{C.forEach(P=>{P.reject(new se(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.ka.clear(),i.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),yield Xa(i,o.hs)}var h})).apply(this,arguments)}function Ov(u,t){const i=me(u),o=i.Na.get(t);if(o&&o.va)return Q().add(o.key);{let c=Q();const h=i.Ma.get(t);if(!h)return c;for(const _ of h){const C=i.Fa.get(_);c=c.unionWith(C.view.Va)}return c}}function Oc(u){const t=me(u);return t.remoteStore.remoteSyncer.applyRemoteEvent=eg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ov.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Mv.bind(null,t),t.Ca.d_=bv.bind(null,t.eventManager),t.Ca.$a=Sv.bind(null,t.eventManager),t}let Ya=(()=>{class u{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var o=this;return(0,ge.A)(function*(){o.serializer=Da(i.databaseInfo.databaseId),o.sharedClientState=o.Wa(i),o.persistence=o.Ga(i),yield o.persistence.start(),o.localStore=o.za(i),o.gcScheduler=o.ja(i,o.localStore),o.indexBackfillerScheduler=o.Ha(i,o.localStore)})()}ja(i,o){return null}Ha(i,o){return null}za(i){return function Cc(u,t,i,o){return new md(u,t,i,o)}(this.persistence,new ga,i.initialUser,this.serializer)}Ga(i){return new dl(hl.Zr,this.serializer)}Wa(i){return new gt}terminate(){var i=this;return(0,ge.A)(function*(){var o,c;null===(o=i.gcScheduler)||void 0===o||o.stop(),null===(c=i.indexBackfillerScheduler)||void 0===c||c.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return u.provider={build:()=>new u},u})(),Sl=(()=>{class u{initialize(i,o){var c=this;return(0,ge.A)(function*(){c.localStore||(c.localStore=i.localStore,c.sharedClientState=i.sharedClientState,c.datastore=c.createDatastore(o),c.remoteStore=c.createRemoteStore(o),c.eventManager=c.createEventManager(o),c.syncEngine=c.createSyncEngine(o,!i.synchronizeTabs),c.sharedClientState.onlineStateHandler=h=>n_(c.syncEngine,h,1),c.remoteStore.remoteSyncer.handleCredentialChange=cT.bind(null,c.syncEngine),yield Yu(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(i){return new qm}createDatastore(i){const o=Da(i.databaseInfo.databaseId),c=new vl(i.databaseInfo);return new Qu(i.authCredentials,i.appCheckCredentials,c,o)}createRemoteStore(i){return c=this.localStore,h=this.datastore,_=i.asyncQueue,C=o=>n_(this.syncEngine,o,0),P=qn.D()?new qn:new dn,new Ss(c,h,_,C,P);var c,h,_,C,P}createSyncEngine(i,o){return function(h,_,C,P,L,K,ie){const Te=new Pv(h,_,C,P,L,K);return ie&&(Te.Qa=!0),Te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,o)}terminate(){var i=this;return(0,ge.A)(function*(){var o,c,h;yield(h=(0,ge.A)(function*(C){const P=me(C);ot("RemoteStore","RemoteStore shutting down."),P.L_.add(5),yield Xu(P),P.k_.shutdown(),P.q_.set("Unknown")}),function _(C){return h.apply(this,arguments)})(i.remoteStore),null===(o=i.datastore)||void 0===o||o.terminate(),null===(c=i.eventManager)||void 0===c||c.terminate()})()}}return u.provider={build:()=>new u},u})();class Od{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Pt("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout(()=>{this.muted||t(i)},0)}}class h_{constructor(t,i,o,c,h){var _=this;this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=o,this.databaseInfo=c,this.user=ye.UNAUTHENTICATED,this.clientId=Br.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(o,function(){var C=(0,ge.A)(function*(P){ot("FirestoreClient","Received user=",P.uid),yield _.authCredentialListener(P),_.user=P});return function(P){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(o,C=>(ot("FirestoreClient","Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const i=new dt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),i.resolve()}catch(o){const c=Qo(o,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function kd(u,t){return hg.apply(this,arguments)}function hg(){return hg=(0,ge.A)(function*(u,t){u.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const i=u.configuration;yield t.initialize(i);let o=i.initialUser;u.setCredentialChangeListener(function(){var c=(0,ge.A)(function*(h){o.isEqual(h)||(yield bc(t.localStore,h),o=h)});return function(h){return c.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>u.terminate()),u._offlineComponents=t}),hg.apply(this,arguments)}function Vv(u,t){return f_.apply(this,arguments)}function f_(){return(f_=(0,ge.A)(function*(u,t){u.asyncQueue.verifyOperationInProgress();const i=yield function xc(u){return fg.apply(this,arguments)}(u);ot("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,u.configuration),u.setCredentialChangeListener(o=>Dv(t.remoteStore,o)),u.setAppCheckTokenChangeListener((o,c)=>Dv(t.remoteStore,c)),u._onlineComponents=t})).apply(this,arguments)}function fg(){return(fg=(0,ge.A)(function*(u){if(!u._offlineComponents)if(u._uninitializedComponentsProvider){ot("FirestoreClient","Using user provided OfflineComponentProvider");try{yield kd(u,u._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(c=t).name?c.code===ne.FAILED_PRECONDITION||c.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw t;Bt("Error using user provided cache. Falling back to memory cache: "+t),yield kd(u,new Ya)}}else ot("FirestoreClient","Using default OfflineComponentProvider"),yield kd(u,new Ya);var c;return u._offlineComponents})).apply(this,arguments)}function kc(u){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,ge.A)(function*(u){return u._onlineComponents||(u._uninitializedComponentsProvider?(ot("FirestoreClient","Using user provided OnlineComponentProvider"),yield Vv(u,u._uninitializedComponentsProvider._online)):(ot("FirestoreClient","Using default OnlineComponentProvider"),yield Vv(u,new Sl))),u._onlineComponents})).apply(this,arguments)}function Lc(u){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,ge.A)(function*(u){const t=yield kc(u),i=t.eventManager;return i.onListen=Ym.bind(null,t.syncEngine),i.onUnlisten=e_.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Zm.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=jh.bind(null,t.syncEngine),i})).apply(this,arguments)}function E_(u){const t={};return void 0!==u.timeoutSeconds&&(t.timeoutSeconds=u.timeoutSeconds),t}const I_=new Map;function mg(u,t,i){if(!i)throw new se(ne.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${t}.`)}function T_(u){if(!Ct.isDocumentKey(u))throw new se(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function Za(u){if(Ct.isDocumentKey(u))throw new se(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function Du(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const t=(o=u).constructor?o.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var o;return"function"==typeof u?"a function":Et()}function Wr(u,t){if("_delegate"in u&&(u=u._delegate),!(u instanceof t)){if(t.name===u.constructor.name)throw new se(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Du(u);throw new se(ne.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return u}class A_{constructor(t){var i,o;if(void 0===t.host){if(void 0!==t.ssl)throw new se(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(i=t.ssl)||void 0===i||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new se(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function Bv(u,t,i,o){if(!0===t&&!0===o)throw new se(ne.INVALID_ARGUMENT,`${u} and ${i} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=E_(null!==(o=t.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new se(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new se(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new se(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vd{constructor(t,i,o,c){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new se(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(t),void 0!==t.credentials&&(this._authCredentials=function(o){if(!o)return new cn;switch(o.type){case"firstParty":return new $n(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new se(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,ge.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const o=I_.get(i);o&&(ot("ComponentProvider","Removing Datastore"),I_.delete(i),o.terminate())}(this),Promise.resolve()}}class Do{constructor(t,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new Do(this.firestore,t,this._query)}}class vs{constructor(t,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vs(this.firestore,t,this._key)}}class Ja extends Do{constructor(t,i,o){super(t,i,gi(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vs(this.firestore,null,new Ct(t))}withConverter(t){return new Ja(this.firestore,t,this._path)}}function $v(u,t,...i){if(u=(0,he.Ku)(u),mg("collection","path",t),u instanceof Vd){const o=Tn.fromString(t,...i);return Za(o),new Ja(u,null,o)}{if(!(u instanceof vs||u instanceof Ja))throw new se(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=u._path.child(Tn.fromString(t,...i));return Za(o),new Ja(u.firestore,null,o)}}function D_(u,t,...i){if(u=(0,he.Ku)(u),1===arguments.length&&(t=Br.newId()),mg("doc","path",t),u instanceof Vd){const o=Tn.fromString(t,...i);return T_(o),new vs(u,null,new Ct(o))}{if(!(u instanceof vs||u instanceof Ja))throw new se(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=u._path.child(Tn.fromString(t,...i));return T_(o),new vs(u.firestore,u instanceof Ja?u.converter:null,new Ct(o))}}class Pl{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ca(this,"async_queue_retry"),this.Vu=()=>{const o=Rc();o&&ot("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=t;const i=Rc();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=Rc();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new dt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,ge.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(i){if(!oe(i))throw i;ot("AsyncQueue","Operation failed with retryable error: "+i)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const i=this.mu.then(()=>(this.du=!0,t().catch(o=>{throw this.Eu=o,this.du=!1,Pt("INTERNAL UNHANDLED ERROR: ",function(_){let C=_.message||"";return _.stack&&(C=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),C}(o)),o}).then(o=>(this.du=!1,o))));return this.mu=i,i}enqueueAfterDelay(t,i,o){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const c=Dd.createAndSchedule(this,t,i,o,h=>this.yu(h));return this.Tu.push(c),c}fu(){this.Eu&&Et()}verifyOperationInProgress(){}wu(){var t=this;return(0,ge.A)(function*(){let i;do{i=t.mu,yield i}while(i!==t.mu)})()}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==t&&i.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}class qi extends Vd{constructor(t,i,o,c){super(t,i,o,c),this.type="firestore",this._queue=new Pl,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,ge.A)(function*(){if(t._firestoreClient){const i=t._firestoreClient.terminate();t._queue=new Pl(i),t._firestoreClient=void 0,yield i}})()}}function fT(u,t){const i="object"==typeof u?u:(0,Pe.Sx)(),o="string"==typeof u?u:t||"(default)",c=(0,Pe.j6)(i,"firestore").getImmediate({identifier:o});if(!c._initialized){const h=(0,he.yU)("firestore");h&&function jv(u,t,i,o={}){var c;const h=(u=Wr(u,Vd))._getSettings(),_=`${t}:${i}`;if("firestore.googleapis.com"!==h.host&&h.host!==_&&Bt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),u._setSettings(Object.assign(Object.assign({},h),{host:_,ssl:!1})),o.mockUserToken){let C,P;if("string"==typeof o.mockUserToken)C=o.mockUserToken,P=ye.MOCK_USER;else{C=(0,he.Fy)(o.mockUserToken,null===(c=u._app)||void 0===c?void 0:c.options.projectId);const L=o.mockUserToken.sub||o.mockUserToken.user_id;if(!L)throw new se(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new ye(L)}u._authCredentials=new xt(new wt(C,P))}}(c,...h)}return c}function ts(u){if(u._terminated)throw new se(ne.FAILED_PRECONDITION,"The client has already been terminated.");return u._firestoreClient||function tf(u){var t,i,o;const c=u._freezeSettings(),h=(P=(null===(t=u._app)||void 0===t?void 0:t.options.appId)||"",new bi(u._databaseId,P,u._persistenceKey,(K=c).host,K.ssl,K.experimentalForceLongPolling,K.experimentalAutoDetectLongPolling,E_(K.experimentalLongPollingOptions),K.useFetchStreams));var P,K;u._componentsProvider||!(null===(i=c.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(o=c.localCache)||void 0===o)&&o._onlineComponentProvider&&(u._componentsProvider={_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider}),u._firestoreClient=new h_(u._authCredentials,u._appCheckCredentials,u._queue,h,u._componentsProvider&&function(C){const P=C?._online.build();return{_offline:C?._offline.build(P),_online:P}}(u._componentsProvider))}(u),u._firestoreClient}class tu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tu(tn.fromBase64String(t))}catch(i){throw new se(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new tu(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class tc{constructor(...t){for(let i=0;i<t.length;++i)if(0===t[i].length)throw new se(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ml{constructor(t){this._methodName=t}}class Cu{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new se(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new se(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return st(this._lat,t._lat)||st(this._long,t._long)}}class rf{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(o,c){if(o.length!==c.length)return!1;for(let h=0;h<o.length;++h)if(o[h]!==c[h])return!1;return!0}(this._values,t._values)}}const Gv=/^__.*__$/;class yg{constructor(t,i,o){this.data=t,this.fieldMask=i,this.fieldTransforms=o}toMutation(t,i){return null!==this.fieldMask?new z(t,this.data,this.fieldMask,i,this.fieldTransforms):new D(t,this.data,i,this.fieldTransforms)}}class vg{constructor(t,i,o){this.data=t,this.fieldMask=i,this.fieldTransforms=o}toMutation(t,i){return new z(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function P_(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class sf{constructor(t,i,o,c,h,_){this.settings=t,this.databaseId=i,this.serializer=o,this.ignoreUndefinedProperties=c,void 0===h&&this.vu(),this.fieldTransforms=h||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new sf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(t),c=this.Fu({path:o,xu:!1});return c.Ou(t),c}Nu(t){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(t),c=this.Fu({path:o,xu:!1});return c.vu(),c}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Nl(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(i=>t.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>t.isPrefixOf(i.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(P_(this.Cu)&&Gv.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class Kv{constructor(t,i,o){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=o||Da(t)}Qu(t,i,o,c=!1){return new sf({Cu:t,methodName:i,qu:o,path:Zt.emptyPath(),xu:!1,ku:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bc(u){const t=u._freezeSettings(),i=Da(u._databaseId);return new Kv(u._databaseId,!!t.ignoreUndefinedProperties,i)}function Bd(u,t,i,o,c,h={}){const _=u.Qu(h.merge||h.mergeFields?2:0,t,i,c);Ag("Data must be an object, but it was:",_,o);const C=N_(o,_);let P,L;if(h.merge)P=new ds(_.fieldMask),L=_.fieldTransforms;else if(h.mergeFields){const K=[];for(const ie of h.mergeFields){const Te=Hc(t,ie,i);if(!_.contains(Te))throw new se(ne.INVALID_ARGUMENT,`Field '${Te}' is specified in your field mask but missing from your input data.`);Qv(K,Te)||K.push(Te)}P=new ds(K),L=_.fieldTransforms.filter(ie=>P.covers(ie.field))}else P=null,L=_.fieldTransforms;return new yg(new Xr(C),P,L)}class af extends Ml{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof af}}function $c(u,t){if(O_(u=(0,he.Ku)(u)))return Ag("Unsupported field value:",t,u),N_(u,t);if(u instanceof Ml)return function(o,c){if(!P_(c.Cu))throw c.Bu(`${o._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Bu(`${o._methodName}() is not currently supported inside arrays`);const h=o._toFieldTransform(c);h&&c.fieldTransforms.push(h)}(u,t),null;if(void 0===u&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),u instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(o,c){const h=[];let _=0;for(const C of o){let P=$c(C,c.Lu(_));null==P&&(P={nullValue:"NULL_VALUE"}),h.push(P),_++}return{arrayValue:{values:h}}}(u,t)}return function(o,c){if(null===(o=(0,he.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return gn(c.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const h=rr.fromDate(o);return{timestampValue:Ho(c.serializer,h)}}if(o instanceof rr){const h=new rr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Ho(c.serializer,h)}}if(o instanceof Cu)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof tu)return{bytesValue:ya(c.serializer,o._byteString)};if(o instanceof vs){const h=c.databaseId,_=o.firestore._databaseId;if(!_.isEqual(h))throw c.Bu(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:mi(o.firestore._databaseId||c.databaseId,o._key.path)}}if(o instanceof rf)return C=c,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(P=>{if("number"!=typeof P)throw C.Bu("VectorValues must only contain numeric values.");return St(C.serializer,P)})}}}}};var C;throw c.Bu(`Unsupported field value: ${Du(o)}`)}(u,t)}function N_(u,t){const i={};return Bi(u)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rs(u,(o,c)=>{const h=$c(c,t.Mu(o));null!=h&&(i[o]=h)}),{mapValue:{fields:i}}}function O_(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof rr||u instanceof Cu||u instanceof tu||u instanceof vs||u instanceof Ml||u instanceof rf)}function Ag(u,t,i){if(!O_(i)||"object"!=typeof(c=i)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const o=Du(i);throw t.Bu("an object"===o?u+" a custom object":u+" "+o)}var c}function Hc(u,t,i){if((t=(0,he.Ku)(t))instanceof tc)return t._internalPath;if("string"==typeof t)return Dg(u,t);throw Nl("Field path arguments must be of type string or ",u,!1,void 0,i)}const vT=new RegExp("[~\\*/\\[\\]]");function Dg(u,t,i){if(t.search(vT)>=0)throw Nl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,i);try{return new tc(...t.split("."))._internalPath}catch{throw Nl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,i)}}function Nl(u,t,i,o,c){const h=o&&!o.isEmpty(),_=void 0!==c;let C=`Function ${t}() called with invalid data`;i&&(C+=" (via `toFirestore()`)"),C+=". ";let P="";return(h||_)&&(P+=" (found",h&&(P+=` in field ${o}`),_&&(P+=` in document ${c}`),P+=")"),new se(ne.INVALID_ARGUMENT,C+u+P)}function Qv(u,t){return u.some(i=>i.isEqual(t))}class cf{constructor(t,i,o,c,h){this._firestore=t,this._userDataWriter=i,this._key=o,this._document=c,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new vs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new ET(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Cg("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i)}}}class ET extends cf{data(){return super.data()}}function Cg(u,t){return"string"==typeof t?Dg(u,t):t instanceof tc?t._internalPath:t._delegate._internalPath}class bg{}class nc extends bg{}function lf(u,t,...i){let o=[];t instanceof bg&&o.push(t),o=o.concat(i),function(h){const _=h.filter(P=>P instanceof Wc).length,C=h.filter(P=>P instanceof zc).length;if(_>1||_>0&&C>0)throw new se(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const c of o)u=c._apply(u);return u}class zc extends nc{constructor(t,i,o){super(),this._field=t,this._op=i,this._value=o,this.type="where"}static _create(t,i,o){return new zc(t,i,o)}_apply(t){const i=this._parse(t);return ff(t._query,i),new Do(t.firestore,t.converter,Eo(t._query,i))}_parse(t){const i=Bc(t.firestore);return function(h,_,C,P,L,K,ie){let Te;if(L.isKeyField()){if("array-contains"===K||"array-contains-any"===K)throw new se(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${K}' queries on documentId().`);if("in"===K||"not-in"===K){hf(ie,K);const Ge=[];for(const _t of ie)Ge.push(jd(P,h,_t));Te={arrayValue:{values:Ge}}}else Te=jd(P,h,ie)}else"in"!==K&&"not-in"!==K&&"array-contains-any"!==K||hf(ie,K),Te=function M_(u,t,i,o=!1){return $c(i,u.Qu(o?4:3,t))}(C,"where",ie,"in"===K||"not-in"===K);return Xn.create(L,K,Te)}(t._query,0,i,t.firestore._databaseId,this._field,this._op,this._value)}}function x_(u,t,i){const o=t,c=Cg("where",u);return zc._create(c,o,i)}class Wc extends bg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Wc(t,i)}_parse(t){const i=this._queryConstraints.map(o=>o._parse(t)).filter(o=>o.getFilters().length>0);return 1===i.length?i[0]:kn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return 0===i.getFilters().length?t:(function(c,h){let _=c;const C=h.getFlattenedFilters();for(const P of C)ff(_,P),_=Eo(_,P)}(t._query,i),new Do(t.firestore,t.converter,Eo(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class df extends nc{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new df(t,i)}_apply(t){const i=function(c,h,_){if(null!==c.startAt)throw new se(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new se(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yo(h,_)}(t._query,this._field,this._direction);return new Do(t.firestore,t.converter,function(c,h){const _=c.explicitOrderBy.concat([h]);return new gr(c.path,c.collectionGroup,_,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(t._query,i))}}function Ol(u,t="asc"){const i=t,o=Cg("orderBy",u);return df._create(o,i)}class Bo extends nc{constructor(t,i,o){super(),this.type=t,this._limit=i,this._limitType=o}static _create(t,i,o){return new Bo(t,i,o)}_apply(t){return new Do(t.firestore,t.converter,ko(t._query,this._limit,this._limitType))}}function xa(u){return function w_(u,t){if(t<=0)throw new se(ne.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${t}.`)}("limit",u),Bo._create("limit",u,"F")}function jd(u,t,i){if("string"==typeof(i=(0,he.Ku)(i))){if(""===i)throw new se(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lo(t)&&-1!==i.indexOf("/"))throw new se(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=t.path.child(Tn.fromString(i));if(!Ct.isDocumentKey(o))throw new se(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return hs(u,new Ct(o))}if(i instanceof vs)return hs(u,i._key);throw new se(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Du(i)}.`)}function hf(u,t){if(!Array.isArray(u)||0===u.length)throw new se(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ff(u,t){const i=function(c,h){for(const _ of c)for(const C of _.getFlattenedFilters())if(h.indexOf(C.op)>=0)return C.op;return null}(u.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new se(ne.INVALID_ARGUMENT,i===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class Gc{convertValue(t,i="none"){switch(Ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ar(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ci(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const o={};return rs(t,(c,h)=>{o[c]=this.convertValue(h,i)}),o}convertVectorValue(t){var i,o,c;const h=null===(c=null===(o=null===(i=t.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===o?void 0:o.values)||void 0===c?void 0:c.map(_=>ar(_.doubleValue));return new rf(h)}convertGeoPoint(t){return new Cu(ar(t.latitude),ar(t.longitude))}convertArray(t,i){return(t.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(t,i){switch(i){case"previous":const o=Mo(t);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(qr(t));default:return null}}convertTimestamp(t){const i=Is(t);return new rr(i.seconds,i.nanos)}convertDocumentKey(t,i){const o=Tn.fromString(t);Mt(X(o));const c=new Oi(o.get(1),o.get(3)),h=new Ct(o.popFirst(5));return c.isEqual(i)||Pt(`Document ${h} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function xl(u,t,i){let o;return o=u?i&&(i.merge||i.mergeFields)?u.toFirestore(t,i):u.toFirestore(t):t,o}class Kc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kl extends cf{constructor(t,i,o,c,h,_){super(t,i,o,c,_),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const o=this._document.data.field(Cg("DocumentSnapshot.get",t));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class pf extends kl{data(t={}){return super.data(t)}}class qc{constructor(t,i,o,c){this._firestore=t,this._userDataWriter=i,this._snapshot=c,this.metadata=new Kc(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,i){this._snapshot.docs.forEach(o=>{t.call(i,new pf(this._firestore,this._userDataWriter,o.key,o,new Kc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new se(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(c,h){if(c._snapshot.oldDocs.isEmpty()){let _=0;return c._snapshot.docChanges.map(C=>({type:"added",doc:new pf(c._firestore,c._userDataWriter,C.doc.key,C.doc,new Kc(c._snapshot.mutatedKeys.has(C.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:_++}))}{let _=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(C=>h||3!==C.type).map(C=>{const P=new pf(c._firestore,c._userDataWriter,C.doc.key,C.doc,new Kc(c._snapshot.mutatedKeys.has(C.doc.key),c._snapshot.fromCache),c.query.converter);let L=-1,K=-1;return 0!==C.type&&(L=_.indexOf(C.doc.key),_=_.delete(C.doc.key)),1!==C.type&&(_=_.add(C.doc),K=_.indexOf(C.doc.key)),{type:$d(C.type),doc:P,oldIndex:L,newIndex:K}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function $d(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}function Ng(u){u=Wr(u,vs);const t=Wr(u.firestore,qi);return function Vc(u,t,i={}){const o=new dt;return u.asyncQueue.enqueueAndForget((0,ge.A)(function*(){return function(h,_,C,P,L){const K=new Od({next:Te=>{K.Za(),_.enqueueAndForget(()=>bd(h,ie));const Ge=Te.docs.has(C);!Ge&&Te.fromCache?L.reject(new se(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):Ge&&Te.fromCache&&P&&"server"===P.source?L.reject(new se(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(Te)},error:Te=>L.reject(Te)}),ie=new Uo(gi(C.path),K,{includeMetadataChanges:!0,_a:!0});return Dl(h,ie)}(yield Lc(u),u.asyncQueue,t,i,o)})),o.promise}(ts(t),u._key).then(i=>function mf(u,t,i){const o=i.docs.get(t._key),c=new rc(u);return new kl(u,c,t._key,o,new Kc(i.hasPendingWrites,i.fromCache),t.converter)}(t,u,i))}class rc extends Gc{constructor(t){super(),this.firestore=t}convertBytes(t){return new tu(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new vs(this.firestore,null,i)}}function U_(u){u=Wr(u,Do);const t=Wr(u.firestore,qi),i=ts(t),o=new rc(t);return function Xv(u){if("L"===u.limitType&&0===u.explicitOrderBy.length)throw new se(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(u._query),function m_(u,t,i={}){const o=new dt;return u.asyncQueue.enqueueAndForget((0,ge.A)(function*(){return function(h,_,C,P,L){const K=new Od({next:Te=>{K.Za(),_.enqueueAndForget(()=>bd(h,ie)),Te.fromCache&&"server"===P.source?L.reject(new se(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(Te)},error:Te=>L.reject(Te)}),ie=new Uo(C,K,{includeMetadataChanges:!0,_a:!0});return Dl(h,ie)}(yield Lc(u),u.asyncQueue,t,i,o)})),o.promise}(i,u._query).then(c=>new qc(t,o,u,c))}function B_(u,t,i){u=Wr(u,vs);const o=Wr(u.firestore,qi),c=xl(u.converter,t,i);return Ll(o,[Bd(Bc(o),"setDoc",u._key,c,null!==u.converter,i).toMutation(u._key,dr.none())])}function sE(u,t,i,...o){u=Wr(u,vs);const c=Wr(u.firestore,qi),h=Bc(c);let _;return _="string"==typeof(t=(0,he.Ku)(t))||t instanceof tc?function wg(u,t,i,o,c,h){const _=u.Qu(1,t,i),C=[Hc(t,o,i)],P=[c];if(h.length%2!=0)throw new se(ne.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Te=0;Te<h.length;Te+=2)C.push(Hc(t,h[Te])),P.push(h[Te+1]);const L=[],K=Xr.empty();for(let Te=C.length-1;Te>=0;--Te)if(!Qv(L,C[Te])){const Ge=C[Te];let _t=P[Te];_t=(0,he.Ku)(_t);const Nt=_.Nu(Ge);if(_t instanceof af)L.push(Ge);else{const Dt=$c(_t,Nt);null!=Dt&&(L.push(Ge),K.set(Ge,Dt))}}const ie=new ds(L);return new vg(K,ie,_.fieldTransforms)}(h,"updateDoc",u._key,t,i,o):function uf(u,t,i,o){const c=u.Qu(1,t,i);Ag("Data must be an object, but it was:",c,o);const h=[],_=Xr.empty();rs(o,(P,L)=>{const K=Dg(t,P,i);L=(0,he.Ku)(L);const ie=c.Nu(K);if(L instanceof af)h.push(K);else{const Te=$c(L,ie);null!=Te&&(h.push(K),_.set(K,Te))}});const C=new ds(h);return new vg(_,C,c.fieldTransforms)}(h,"updateDoc",u._key,t),Ll(c,[_.toMutation(u._key,dr.exists(!0))])}function DT(u){return Ll(Wr(u.firestore,qi),[new Xe(u._key,dr.none())])}function gf(u,t){const i=Wr(u.firestore,qi),o=D_(u),c=xl(u.converter,t);return Ll(i,[Bd(Bc(u.firestore),"addDoc",o._key,c,null!==u.converter,{}).toMutation(o._key,dr.exists(!1))]).then(()=>o)}function Ll(u,t){return function(o,c){const h=new dt;return o.asyncQueue.enqueueAndForget((0,ge.A)(function*(){return function t_(u,t,i){return Hh.apply(this,arguments)}(yield function Rl(u){return kc(u).then(t=>t.syncEngine)}(o),c,h)})),h.promise}(ts(u),t)}!function(t,i=!0){Qe=Pe.MF,(0,Pe.om)(new it.uA("firestore",(o,{instanceIdentifier:c,options:h})=>{const _=o.getProvider("app").getImmediate(),C=new qi(new on(o.getProvider("auth-internal")),new Li(o.getProvider("app-check-internal")),function(L,K){if(!Object.prototype.hasOwnProperty.apply(L.options,["projectId"]))throw new se(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oi(L.options.projectId,K)}(_,c),_);return h=Object.assign({useFetchStreams:i},h),C._setSettings(h),C},"PUBLIC").setMultipleInstances(!0)),(0,Pe.KO)(Ut,"4.7.3",t),(0,Pe.KO)(Ut,"4.7.3","esm2017")}();class If{constructor(t){return t}}const J_="firestore",Lg=new re.nKC("angularfire2.firestore-instances");function sa(u){return(t,i)=>{const o=t.runOutsideAngular(()=>u(i));return new If(o)}}const vE={provide:class ey{constructor(){return(0,g.CA)(J_)}},deps:[[new re.Xx1,Lg]]},EE={provide:If,useFactory:function yE(u,t){const i=(0,g.lR)(J_,u,t);return i&&new If(i)},deps:[[new re.Xx1,Lg],ce.XU]};function Vg(u,...t){return(0,Se.KO)("angularfire",g.xv.full,"fst"),(0,re.EmA)([EE,vE,{provide:Lg,useFactory:sa(u),multi:!0,deps:[re.SKi,re.zZn,g.u0,ce.gL,[new re.Xx1,pe.DF],[new re.Xx1,g.Jv],...t]}])}const wE=(0,g.S3)(gf,!0),Tf=(0,g.S3)($v,!0),iy=(0,g.S3)(DT,!0),SE=(0,g.S3)(D_,!0),uy=(0,g.S3)(Ng,!0),ME=(0,g.S3)(U_,!0),cy=(0,g.S3)(fT,!0),NE=(0,g.S3)(xa,!0),Kd=(0,g.S3)(Ol,!0),Sf=(0,g.S3)(lf,!0),FE=(0,g.S3)(B_,!0),jg=(0,g.S3)(sE,!0),$g=(0,g.S3)(x_,!0)},5407:(Qt,Ke,$)=>{$.d(Ke,{xv:()=>ut,u0:()=>pt,Jv:()=>Xt,CA:()=>Yt,lR:()=>Ft,S3:()=>ot});var g=$(4438),re=$(2214),ce=$(6780),Se=$(9687);const Pe=new class ge extends Se.q{}(class pe extends ce.R{constructor(Bt,sn){super(Bt,sn),this.scheduler=Bt,this.work=sn}schedule(Bt,sn=0){return sn>0?super.schedule(Bt,sn):(this.delay=sn,this.state=Bt,this.scheduler.flush(this),this)}execute(Bt,sn){return sn>0||this.closed?super.execute(Bt,sn):this._execute(Bt,sn)}requestAsyncId(Bt,sn,Et=0){return null!=Et&&Et>0||null==Et&&this.delay>0?super.requestAsyncId(Bt,sn,Et):(Bt.flush(this),0)}});var He=$(3236),he=$(1985),_e=$(8141),ze=$(6745),nt=$(941);const ut=new g.RxE("ANGULARFIRE2_VERSION");function Ft(Pt,Bt,sn){if(Bt){if(1===Bt.length)return Bt[0];const Oe=Bt.filter(me=>me.app===sn);if(1===Oe.length)return Oe[0]}return sn.container.getProvider(Pt).getImmediate({optional:!0})}const Yt=(Pt,Bt)=>{const sn=Bt?[Bt]:(0,re.Dk)(),Et=[];return sn.forEach(Mt=>{Mt.container.getProvider(Pt).instances.forEach(me=>{Et.includes(me)||Et.push(me)})}),Et};class Xt{constructor(){return Yt(zn)}}const zn="app-check";function Mn(){}class mt{zone;delegate;constructor(Bt,sn=Pe){this.zone=Bt,this.delegate=sn}now(){return this.delegate.now()}schedule(Bt,sn,Et){const Mt=this.zone;return this.delegate.schedule(function(me){Mt.runGuarded(()=>{Bt.apply(this,[me])})},sn,Et)}}class Ze{zone;task=null;constructor(Bt){this.zone=Bt}call(Bt,sn){const Et=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mn,{},Mn,Mn)),sn.pipe((0,_e.M)({next:Et,complete:Et,error:Et})).subscribe(Bt).add(Et)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pt=(()=>{class Pt{ngZone;outsideAngular;insideAngular;constructor(sn){this.ngZone=sn,this.outsideAngular=sn.runOutsideAngular(()=>new mt(Zone.current)),this.insideAngular=sn.run(()=>new mt(Zone.current,He.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Et){return new(Et||Pt)(g.KVO(g.SKi))};static \u0275prov=g.jDH({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}return Pt})();function It(){const Pt=globalThis.\u0275AngularFireScheduler;if(!Pt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Pt}function Ut(Pt){return It().ngZone.run(()=>Pt())}function Ot(Pt){return function Qn(Pt){return function(sn){return(sn=sn.lift(new Ze(Pt.ngZone))).pipe((0,ze._)(Pt.outsideAngular),(0,nt.Q)(Pt.insideAngular))}}(It())(Pt)}const Dr=(Pt,Bt)=>function(){const Et=arguments;return Bt&&setTimeout(()=>{"scheduled"===Bt.state&&Bt.invoke()},10),Ut(()=>Pt.apply(void 0,Et))},ot=(Pt,Bt)=>function(){let sn;const Et=arguments;for(let Oe=0;Oe<arguments.length;Oe++)"function"==typeof Et[Oe]&&(Bt&&(sn||=Ut(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mn,{},Mn,Mn))),Et[Oe]=Dr(Et[Oe],sn));const Mt=function rn(Pt){return It().ngZone.runOutsideAngular(()=>Pt())}(()=>Pt.apply(this,Et));if(!Bt){if(Mt instanceof he.c){const Oe=It();return Mt.pipe((0,ze._)(Oe.outsideAngular),(0,nt.Q)(Oe.insideAngular))}return Ut(()=>Mt)}return Mt instanceof he.c?Mt.pipe(Ot):Mt instanceof Promise?Ut(()=>new Promise((Oe,me)=>Mt.then(ne=>Ut(()=>Oe(ne)),ne=>Ut(()=>me(ne))))):"function"==typeof Mt&&sn?function(){return setTimeout(()=>{sn&&"scheduled"===sn.state&&sn.invoke()},10),Mt.apply(this,arguments)}:Ut(()=>Mt)}},345:(Qt,Ke,$)=>{$.d(Ke,{B7:()=>rn,B8:()=>Oe,hE:()=>Br,up:()=>xr});var g=$(4438),re=$(177);class ce extends re.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pe extends ce{static makeCurrent(){(0,re.ZD)(new pe)}onAndCancel(Ne,ae,be){return Ne.addEventListener(ae,be),()=>{Ne.removeEventListener(ae,be)}}dispatchEvent(Ne,ae){Ne.dispatchEvent(ae)}remove(Ne){Ne.parentNode&&Ne.parentNode.removeChild(Ne)}createElement(Ne,ae){return(ae=ae||this.getDefaultDocument()).createElement(Ne)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ne){return Ne.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ne){return Ne instanceof DocumentFragment}getGlobalEventTarget(Ne,ae){return"window"===ae?window:"document"===ae?Ne:"body"===ae?Ne.body:null}getBaseHref(Ne){const ae=function ge(){return Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null}();return null==ae?null:function Pe(G){return new URL(G,document.baseURI).pathname}(ae)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ne){return(0,re._b)(document.cookie,Ne)}}let Se=null,He=(()=>{class G{build(){return new XMLHttpRequest}static{this.\u0275fac=function(be){return new(be||G)}}static{this.\u0275prov=g.jDH({token:G,factory:G.\u0275fac})}}return G})();const he=new g.nKC("");let _e=(()=>{class G{constructor(ae,be){this._zone=be,this._eventNameToPlugin=new Map,ae.forEach(ft=>{ft.manager=this}),this._plugins=ae.slice().reverse()}addEventListener(ae,be,ft){return this._findPluginFor(be).addEventListener(ae,be,ft)}getZone(){return this._zone}_findPluginFor(ae){let be=this._eventNameToPlugin.get(ae);if(be)return be;if(be=this._plugins.find(Vt=>Vt.supports(ae)),!be)throw new g.wOt(5101,!1);return this._eventNameToPlugin.set(ae,be),be}static{this.\u0275fac=function(be){return new(be||G)(g.KVO(he),g.KVO(g.SKi))}}static{this.\u0275prov=g.jDH({token:G,factory:G.\u0275fac})}}return G})();class ze{constructor(Ne){this._doc=Ne}}const nt="ng-app-id";let ut=(()=>{class G{constructor(ae,be,ft,Vt={}){this.doc=ae,this.appId=be,this.nonce=ft,this.platformId=Vt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,re.Vy)(Vt),this.resetHostNodes()}addStyles(ae){for(const be of ae)1===this.changeUsageCount(be,1)&&this.onStyleAdded(be)}removeStyles(ae){for(const be of ae)this.changeUsageCount(be,-1)<=0&&this.onStyleRemoved(be)}ngOnDestroy(){const ae=this.styleNodesInDOM;ae&&(ae.forEach(be=>be.remove()),ae.clear());for(const be of this.getAllStyles())this.onStyleRemoved(be);this.resetHostNodes()}addHost(ae){this.hostNodes.add(ae);for(const be of this.getAllStyles())this.addStyleToHost(ae,be)}removeHost(ae){this.hostNodes.delete(ae)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ae){for(const be of this.hostNodes)this.addStyleToHost(be,ae)}onStyleRemoved(ae){const be=this.styleRef;be.get(ae)?.elements?.forEach(ft=>ft.remove()),be.delete(ae)}collectServerRenderedStyles(){const ae=this.doc.head?.querySelectorAll(`style[${nt}="${this.appId}"]`);if(ae?.length){const be=new Map;return ae.forEach(ft=>{null!=ft.textContent&&be.set(ft.textContent,ft)}),be}return null}changeUsageCount(ae,be){const ft=this.styleRef;if(ft.has(ae)){const Vt=ft.get(ae);return Vt.usage+=be,Vt.usage}return ft.set(ae,{usage:be,elements:[]}),be}getStyleElement(ae,be){const ft=this.styleNodesInDOM,Vt=ft?.get(be);if(Vt?.parentNode===ae)return ft.delete(be),Vt.removeAttribute(nt),Vt;{const oe=this.doc.createElement("style");return this.nonce&&oe.setAttribute("nonce",this.nonce),oe.textContent=be,this.platformIsServer&&oe.setAttribute(nt,this.appId),ae.appendChild(oe),oe}}addStyleToHost(ae,be){const ft=this.getStyleElement(ae,be),Vt=this.styleRef,oe=Vt.get(be)?.elements;oe?oe.push(ft):Vt.set(be,{elements:[ft],usage:1})}resetHostNodes(){const ae=this.hostNodes;ae.clear(),ae.add(this.doc.head)}static{this.\u0275fac=function(be){return new(be||G)(g.KVO(re.qQ),g.KVO(g.sZ2),g.KVO(g.BIS,8),g.KVO(g.Agw))}}static{this.\u0275prov=g.jDH({token:G,factory:G.\u0275fac})}}return G})();const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ft=/%COMP%/g,mt=new g.nKC("",{providedIn:"root",factory:()=>!0});function It(G,Ne){return Ne.map(ae=>ae.replace(Ft,G))}let rn=(()=>{class G{constructor(ae,be,ft,Vt,oe,ue,Ie,tt=null){this.eventManager=ae,this.sharedStylesHost=be,this.appId=ft,this.removeStylesOnCompDestroy=Vt,this.doc=oe,this.platformId=ue,this.ngZone=Ie,this.nonce=tt,this.rendererByCompId=new Map,this.platformIsServer=(0,re.Vy)(ue),this.defaultRenderer=new Ut(ae,oe,Ie,this.platformIsServer)}createRenderer(ae,be){if(!ae||!be)return this.defaultRenderer;this.platformIsServer&&be.encapsulation===g.gXe.ShadowDom&&(be={...be,encapsulation:g.gXe.Emulated});const ft=this.getOrCreateRenderer(ae,be);return ft instanceof ot?ft.applyToHost(ae):ft instanceof Dr&&ft.applyStyles(),ft}getOrCreateRenderer(ae,be){const ft=this.rendererByCompId;let Vt=ft.get(be.id);if(!Vt){const oe=this.doc,ue=this.ngZone,Ie=this.eventManager,tt=this.sharedStylesHost,Ue=this.removeStylesOnCompDestroy,bt=this.platformIsServer;switch(be.encapsulation){case g.gXe.Emulated:Vt=new ot(Ie,tt,be,this.appId,Ue,oe,ue,bt);break;case g.gXe.ShadowDom:return new Qn(Ie,tt,ae,be,oe,ue,this.nonce,bt);default:Vt=new Dr(Ie,tt,be,Ue,oe,ue,bt)}ft.set(be.id,Vt)}return Vt}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(be){return new(be||G)(g.KVO(_e),g.KVO(ut),g.KVO(g.sZ2),g.KVO(mt),g.KVO(re.qQ),g.KVO(g.Agw),g.KVO(g.SKi),g.KVO(g.BIS))}}static{this.\u0275prov=g.jDH({token:G,factory:G.\u0275fac})}}return G})();class Ut{constructor(Ne,ae,be,ft){this.eventManager=Ne,this.doc=ae,this.ngZone=be,this.platformIsServer=ft,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Ne,ae){return ae?this.doc.createElementNS(yt[ae]||ae,Ne):this.doc.createElement(Ne)}createComment(Ne){return this.doc.createComment(Ne)}createText(Ne){return this.doc.createTextNode(Ne)}appendChild(Ne,ae){(Ot(Ne)?Ne.content:Ne).appendChild(ae)}insertBefore(Ne,ae,be){Ne&&(Ot(Ne)?Ne.content:Ne).insertBefore(ae,be)}removeChild(Ne,ae){Ne&&Ne.removeChild(ae)}selectRootElement(Ne,ae){let be="string"==typeof Ne?this.doc.querySelector(Ne):Ne;if(!be)throw new g.wOt(-5104,!1);return ae||(be.textContent=""),be}parentNode(Ne){return Ne.parentNode}nextSibling(Ne){return Ne.nextSibling}setAttribute(Ne,ae,be,ft){if(ft){ae=ft+":"+ae;const Vt=yt[ft];Vt?Ne.setAttributeNS(Vt,ae,be):Ne.setAttribute(ae,be)}else Ne.setAttribute(ae,be)}removeAttribute(Ne,ae,be){if(be){const ft=yt[be];ft?Ne.removeAttributeNS(ft,ae):Ne.removeAttribute(`${be}:${ae}`)}else Ne.removeAttribute(ae)}addClass(Ne,ae){Ne.classList.add(ae)}removeClass(Ne,ae){Ne.classList.remove(ae)}setStyle(Ne,ae,be,ft){ft&(g.czy.DashCase|g.czy.Important)?Ne.style.setProperty(ae,be,ft&g.czy.Important?"important":""):Ne.style[ae]=be}removeStyle(Ne,ae,be){be&g.czy.DashCase?Ne.style.removeProperty(ae):Ne.style[ae]=""}setProperty(Ne,ae,be){null!=Ne&&(Ne[ae]=be)}setValue(Ne,ae){Ne.nodeValue=ae}listen(Ne,ae,be){if("string"==typeof Ne&&!(Ne=(0,re.QT)().getGlobalEventTarget(this.doc,Ne)))throw new Error(`Unsupported event target ${Ne} for event ${ae}`);return this.eventManager.addEventListener(Ne,ae,this.decoratePreventDefault(be))}decoratePreventDefault(Ne){return ae=>{if("__ngUnwrap__"===ae)return Ne;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ne(ae)):Ne(ae))&&ae.preventDefault()}}}function Ot(G){return"TEMPLATE"===G.tagName&&void 0!==G.content}class Qn extends Ut{constructor(Ne,ae,be,ft,Vt,oe,ue,Ie){super(Ne,Vt,oe,Ie),this.sharedStylesHost=ae,this.hostEl=be,this.shadowRoot=be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tt=It(ft.id,ft.styles);for(const Ue of tt){const bt=document.createElement("style");ue&&bt.setAttribute("nonce",ue),bt.textContent=Ue,this.shadowRoot.appendChild(bt)}}nodeOrShadowRoot(Ne){return Ne===this.hostEl?this.shadowRoot:Ne}appendChild(Ne,ae){return super.appendChild(this.nodeOrShadowRoot(Ne),ae)}insertBefore(Ne,ae,be){return super.insertBefore(this.nodeOrShadowRoot(Ne),ae,be)}removeChild(Ne,ae){return super.removeChild(this.nodeOrShadowRoot(Ne),ae)}parentNode(Ne){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ne)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Dr extends Ut{constructor(Ne,ae,be,ft,Vt,oe,ue,Ie){super(Ne,Vt,oe,ue),this.sharedStylesHost=ae,this.removeStylesOnCompDestroy=ft,this.styles=Ie?It(Ie,be.styles):be.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ot extends Dr{constructor(Ne,ae,be,ft,Vt,oe,ue,Ie){const tt=ft+"-"+be.id;super(Ne,ae,be,Vt,oe,ue,Ie,tt),this.contentAttr=function Ze(G){return"_ngcontent-%COMP%".replace(Ft,G)}(tt),this.hostAttr=function pt(G){return"_nghost-%COMP%".replace(Ft,G)}(tt)}applyToHost(Ne){this.applyStyles(),this.setAttribute(Ne,this.hostAttr,"")}createElement(Ne,ae){const be=super.createElement(Ne,ae);return super.setAttribute(be,this.contentAttr,""),be}}let Pt=(()=>{class G extends ze{constructor(ae){super(ae)}supports(ae){return!0}addEventListener(ae,be,ft){return ae.addEventListener(be,ft,!1),()=>this.removeEventListener(ae,be,ft)}removeEventListener(ae,be,ft){return ae.removeEventListener(be,ft)}static{this.\u0275fac=function(be){return new(be||G)(g.KVO(re.qQ))}}static{this.\u0275prov=g.jDH({token:G,factory:G.\u0275fac})}}return G})();const Bt=["alt","control","meta","shift"],sn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Et={alt:G=>G.altKey,control:G=>G.ctrlKey,meta:G=>G.metaKey,shift:G=>G.shiftKey};let Mt=(()=>{class G extends ze{constructor(ae){super(ae)}supports(ae){return null!=G.parseEventName(ae)}addEventListener(ae,be,ft){const Vt=G.parseEventName(be),oe=G.eventCallback(Vt.fullKey,ft,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,re.QT)().onAndCancel(ae,Vt.domEventName,oe))}static parseEventName(ae){const be=ae.toLowerCase().split("."),ft=be.shift();if(0===be.length||"keydown"!==ft&&"keyup"!==ft)return null;const Vt=G._normalizeKey(be.pop());let oe="",ue=be.indexOf("code");if(ue>-1&&(be.splice(ue,1),oe="code."),Bt.forEach(tt=>{const Ue=be.indexOf(tt);Ue>-1&&(be.splice(Ue,1),oe+=tt+".")}),oe+=Vt,0!=be.length||0===Vt.length)return null;const Ie={};return Ie.domEventName=ft,Ie.fullKey=oe,Ie}static matchEventFullKeyCode(ae,be){let ft=sn[ae.key]||ae.key,Vt="";return be.indexOf("code.")>-1&&(ft=ae.code,Vt="code."),!(null==ft||!ft)&&(ft=ft.toLowerCase()," "===ft?ft="space":"."===ft&&(ft="dot"),Bt.forEach(oe=>{oe!==ft&&(0,Et[oe])(ae)&&(Vt+=oe+".")}),Vt+=ft,Vt===be)}static eventCallback(ae,be,ft){return Vt=>{G.matchEventFullKeyCode(Vt,ae)&&ft.runGuarded(()=>be(Vt))}}static _normalizeKey(ae){return"esc"===ae?"escape":ae}static{this.\u0275fac=function(be){return new(be||G)(g.KVO(re.qQ))}}static{this.\u0275prov=g.jDH({token:G,factory:G.\u0275fac})}}return G})();function Oe(G,Ne){return(0,g.TL3)({rootComponent:G,...ne(Ne)})}function ne(G){return{appProviders:[...Tr,...G?.providers??[]],platformProviders:xt}}const xt=[{provide:g.Agw,useValue:re.AJ},{provide:g.PLl,useValue:function dt(){pe.makeCurrent()},multi:!0},{provide:re.qQ,useFactory:function cn(){return(0,g.TL$)(document),document},deps:[]}],Tr=[{provide:g.H8p,useValue:"root"},{provide:g.zcH,useFactory:function wt(){return new g.zcH},deps:[]},{provide:he,useClass:Pt,multi:!0,deps:[re.qQ,g.SKi,g.Agw]},{provide:he,useClass:Mt,multi:!0,deps:[re.qQ]},rn,ut,_e,{provide:g._9s,useExisting:rn},{provide:re.N0,useClass:He,deps:[]},[]];let Br=(()=>{class G{constructor(ae){this._doc=ae}getTitle(){return this._doc.title}setTitle(ae){this._doc.title=ae||""}static{this.\u0275fac=function(be){return new(be||G)(g.KVO(re.qQ))}}static{this.\u0275prov=g.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})(),xr=(()=>{class G{static{this.\u0275fac=function(be){return new(be||G)}}static{this.\u0275prov=g.jDH({token:G,factory:function(be){let ft=null;return ft=be?new(be||G):g.KVO($t),ft},providedIn:"root"})}}return G})(),$t=(()=>{class G extends xr{constructor(ae){super(),this._doc=ae}sanitize(ae,be){if(null==be)return null;switch(ae){case g.WPN.NONE:return be;case g.WPN.HTML:return(0,g.ZF7)(be,"HTML")?(0,g.rcV)(be):(0,g.h9k)(this._doc,String(be)).toString();case g.WPN.STYLE:return(0,g.ZF7)(be,"Style")?(0,g.rcV)(be):be;case g.WPN.SCRIPT:if((0,g.ZF7)(be,"Script"))return(0,g.rcV)(be);throw new g.wOt(5200,!1);case g.WPN.URL:return(0,g.ZF7)(be,"URL")?(0,g.rcV)(be):(0,g.$MX)(String(be));case g.WPN.RESOURCE_URL:if((0,g.ZF7)(be,"ResourceURL"))return(0,g.rcV)(be);throw new g.wOt(5201,!1);default:throw new g.wOt(5202,!1)}}bypassSecurityTrustHtml(ae){return(0,g.Kcf)(ae)}bypassSecurityTrustStyle(ae){return(0,g.cWb)(ae)}bypassSecurityTrustScript(ae){return(0,g.UyX)(ae)}bypassSecurityTrustUrl(ae){return(0,g.osQ)(ae)}bypassSecurityTrustResourceUrl(ae){return(0,g.e5t)(ae)}static{this.\u0275fac=function(be){return new(be||G)(g.KVO(re.qQ))}}static{this.\u0275prov=g.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})()},3152:(Qt,Ke,$)=>{$.d(Ke,{nX:()=>xi,Ix:()=>Tt,Wk:()=>Ai,wQ:()=>yi,n3:()=>xs,lh:()=>tl});var g=$(4438),re=$(4402),ce=$(8455),pe=$(7673),Se=$(4412);const Pe=(0,$(1853).L)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var it=$(4572),He=$(8793),he=$(9030),_e=$(1203),ze=$(8810),nt=$(983),ut=$(1985),yt=$(8359),Ft=$(9974),Yt=$(4360);function Xt(){return(0,Ft.N)((v,S)=>{let T=null;v._refCount++;const R=(0,Yt._)(S,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(T=null);const V=v._connection,X=T;T=null,V&&(!X||V===X)&&V.unsubscribe(),S.unsubscribe()});v.subscribe(R),R.closed||(T=v.connect())})}class zn extends ut.c{constructor(S,T){super(),this.source=S,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,Ft.S)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new yt.yU;const T=this.getSubject();S.add(this.source.subscribe((0,Yt._)(T,void 0,()=>{this._teardown(),T.complete()},R=>{this._teardown(),T.error(R)},()=>this._teardown()))),S.closed&&(this._connection=null,S=yt.yU.EMPTY)}return S}refCount(){return Xt()(this)}}var Mn=$(1413),mt=$(177),Ze=$(6354),pt=$(5558),It=$(6697),rn=$(9172),Ut=$(5964),ye=$(1397);function Qe(v){return(0,Ft.N)((S,T)=>{let R=!1;S.subscribe((0,Yt._)(T,V=>{R=!0,T.next(V)},()=>{R||T.next(v),T.complete()}))})}function Ot(v=Qn){return(0,Ft.N)((S,T)=>{let R=!1;S.subscribe((0,Yt._)(T,V=>{R=!0,T.next(V)},()=>R?T.complete():T.error(v())))})}function Qn(){return new Pe}var Dr=$(3669);function ot(v,S){const T=arguments.length>=2;return R=>R.pipe(v?(0,Ut.p)((V,X)=>v(V,X,R)):Dr.D,(0,It.s)(1),T?Qe(S):Ot(()=>new Pe))}var Pt=$(274),Bt=$(8141),sn=$(9437);function Oe(v){return v<=0?()=>nt.w:(0,Ft.N)((S,T)=>{let R=[];S.subscribe((0,Yt._)(T,V=>{R.push(V),v<R.length&&R.shift()},()=>{for(const V of R)T.next(V);T.complete()},void 0,()=>{R=null}))})}var se=$(980),dt=$(6977),wt=$(6365),cn=$(345);const xt="primary",on=Symbol("RouteTitle");class Gt{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const T=this.params[S];return Array.isArray(T)?T[0]:T}return null}getAll(S){if(this.has(S)){const T=this.params[S];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function $n(v){return new Gt(v)}function Tr(v,S,T){const R=T.path.split("/");if(R.length>v.length||"full"===T.pathMatch&&(S.hasChildren()||R.length<v.length))return null;const V={};for(let X=0;X<R.length;X++){const fe=R[X],Je=v[X];if(fe.startsWith(":"))V[fe.substring(1)]=Je;else if(fe!==Je.path)return null}return{consumed:v.slice(0,R.length),posParams:V}}function Vn(v,S){const T=v?fr(v):void 0,R=S?fr(S):void 0;if(!T||!R||T.length!=R.length)return!1;let V;for(let X=0;X<T.length;X++)if(V=T[X],!Br(v[V],S[V]))return!1;return!0}function fr(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}function Br(v,S){if(Array.isArray(v)&&Array.isArray(S)){if(v.length!==S.length)return!1;const T=[...v].sort(),R=[...S].sort();return T.every((V,X)=>R[X]===V)}return v===S}function st(v){return v.length>0?v[v.length-1]:null}function or(v){return(0,re.A)(v)?v:(0,g.jNT)(v)?(0,ce.H)(Promise.resolve(v)):(0,pe.of)(v)}const Xi={exact:function Tn(v,S,T){if(!$t(v.segments,S.segments)||!pr(v.segments,S.segments,T)||v.numberOfChildren!==S.numberOfChildren)return!1;for(const R in S.children)if(!v.children[R]||!Tn(v.children[R],S.children[R],T))return!1;return!0},subset:Zt},rr={exact:function as(v,S){return Vn(v,S)},subset:function wn(v,S){return Object.keys(S).length<=Object.keys(v).length&&Object.keys(S).every(T=>Br(v[T],S[T]))},ignored:()=>!0};function Jt(v,S,T){return Xi[T.paths](v.root,S.root,T.matrixParams)&&rr[T.queryParams](v.queryParams,S.queryParams)&&!("exact"===T.fragment&&v.fragment!==S.fragment)}function Zt(v,S,T){return Ct(v,S,S.segments,T)}function Ct(v,S,T,R){if(v.segments.length>T.length){const V=v.segments.slice(0,T.length);return!(!$t(V,T)||S.hasChildren()||!pr(V,T,R))}if(v.segments.length===T.length){if(!$t(v.segments,T)||!pr(v.segments,T,R))return!1;for(const V in S.children)if(!v.children[V]||!Zt(v.children[V],S.children[V],R))return!1;return!0}{const V=T.slice(0,v.segments.length),X=T.slice(v.segments.length);return!!($t(v.segments,V)&&pr(v.segments,V,R)&&v.children[xt])&&Ct(v.children[xt],S,X,R)}}function pr(v,S,T){return S.every((R,V)=>rr[T](v[V].parameters,R.parameters))}class Or{constructor(S=new Nn([],{}),T={},R=null){this.root=S,this.queryParams=T,this.fragment=R}get queryParamMap(){return this._queryParamMap??=$n(this.queryParams),this._queryParamMap}toString(){return si.serialize(this)}}class Nn{constructor(S,T){this.segments=S,this.children=T,this.parent=null,Object.values(T).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vr(this)}}class hr{constructor(S,T){this.path=S,this.parameters=T}get parameterMap(){return this._parameterMap??=$n(this.parameters),this._parameterMap}toString(){return be(this)}}function $t(v,S){return v.length===S.length&&v.every((T,R)=>T.path===S[R].path)}let Rn=(()=>{class v{static{this.\u0275fac=function(R){return new(R||v)}}static{this.\u0275prov=g.jDH({token:v,factory:()=>new On,providedIn:"root"})}}return v})();class On{parse(S){const T=new ai(S);return new Or(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(S){const T=`/${Mr(S.root,!0)}`,R=function Vt(v){const S=Object.entries(v).map(([T,R])=>Array.isArray(R)?R.map(V=>`${oi(T)}=${oi(V)}`).join("&"):`${oi(T)}=${oi(R)}`).filter(T=>T);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${T}${R}${"string"==typeof S.fragment?`#${function Zn(v){return encodeURI(v)}(S.fragment)}`:""}`}}const si=new On;function vr(v){return v.segments.map(S=>be(S)).join("/")}function Mr(v,S){if(!v.hasChildren())return vr(v);if(S){const T=v.children[xt]?Mr(v.children[xt],!1):"",R=[];return Object.entries(v.children).forEach(([V,X])=>{V!==xt&&R.push(`${V}:${Mr(X,!1)}`)}),R.length>0?`${T}(${R.join("//")})`:T}{const T=function Ei(v,S){let T=[];return Object.entries(v.children).forEach(([R,V])=>{R===xt&&(T=T.concat(S(V,R)))}),Object.entries(v.children).forEach(([R,V])=>{R!==xt&&(T=T.concat(S(V,R)))}),T}(v,(R,V)=>V===xt?[Mr(v.children[xt],!1)]:[`${V}:${Mr(R,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[xt]?`${vr(v)}/${T[0]}`:`${vr(v)}/(${T.join("//")})`}}function Vi(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oi(v){return Vi(v).replace(/%3B/gi,";")}function G(v){return Vi(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ne(v){return decodeURIComponent(v)}function ae(v){return Ne(v.replace(/\+/g,"%20"))}function be(v){return`${G(v.path)}${function ft(v){return Object.entries(v).map(([S,T])=>`;${G(S)}=${G(T)}`).join("")}(v.parameters)}`}const oe=/^[^\/()?;#]+/;function ue(v){const S=v.match(oe);return S?S[0]:""}const Ie=/^[^\/()?;=#]+/,Ue=/^[^=?&#]+/,Pn=/^[^&#]+/;class ai{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(S.length>0||Object.keys(T).length>0)&&(R[xt]=new Nn(S,T)),R}parseSegment(){const S=ue(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new g.wOt(4009,!1);return this.capture(S),new hr(Ne(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const T=function tt(v){const S=v.match(Ie);return S?S[0]:""}(this.remaining);if(!T)return;this.capture(T);let R="";if(this.consumeOptional("=")){const V=ue(this.remaining);V&&(R=V,this.capture(R))}S[Ne(T)]=Ne(R)}parseQueryParam(S){const T=function bt(v){const S=v.match(Ue);return S?S[0]:""}(this.remaining);if(!T)return;this.capture(T);let R="";if(this.consumeOptional("=")){const fe=function ir(v){const S=v.match(Pn);return S?S[0]:""}(this.remaining);fe&&(R=fe,this.capture(R))}const V=ae(T),X=ae(R);if(S.hasOwnProperty(V)){let fe=S[V];Array.isArray(fe)||(fe=[fe],S[V]=fe),fe.push(X)}else S[V]=X}parseParens(S){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=ue(this.remaining),V=this.remaining[R.length];if("/"!==V&&")"!==V&&";"!==V)throw new g.wOt(4010,!1);let X;R.indexOf(":")>-1?(X=R.slice(0,R.indexOf(":")),this.capture(X),this.capture(":")):S&&(X=xt);const fe=this.parseChildren();T[X]=1===Object.keys(fe).length?fe[xt]:new Nn([],fe),this.consumeOptional("//")}return T}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new g.wOt(4011,!1)}}function Wn(v){return v.segments.length>0?new Nn([],{[xt]:v}):v}function zt(v){const S={};for(const[R,V]of Object.entries(v.children)){const X=zt(V);if(R===xt&&0===X.segments.length&&X.hasChildren())for(const[fe,Je]of Object.entries(X.children))S[fe]=Je;else(X.segments.length>0||X.hasChildren())&&(S[R]=X)}return function Dn(v){if(1===v.numberOfChildren&&v.children[xt]){const S=v.children[xt];return new Nn(v.segments.concat(S.segments),S.children)}return v}(new Nn(v.segments,S))}function fi(v){return v instanceof Or}function ns(v){let S;const V=Wn(function T(X){const fe={};for(const $e of X.children){const Kt=T($e);fe[$e.outlet]=Kt}const Je=new Nn(X.url,fe);return X===v&&(S=Je),Je}(v.root));return S??V}function js(v,S,T,R){let V=v;for(;V.parent;)V=V.parent;if(0===S.length)return Ps(V,V,V,T,R);const X=function qe(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Ni(!0,0,v);let S=0,T=!1;const R=v.reduce((V,X,fe)=>{if("object"==typeof X&&null!=X){if(X.outlets){const Je={};return Object.entries(X.outlets).forEach(([$e,Kt])=>{Je[$e]="string"==typeof Kt?Kt.split("/"):Kt}),[...V,{outlets:Je}]}if(X.segmentPath)return[...V,X.segmentPath]}return"string"!=typeof X?[...V,X]:0===fe?(X.split("/").forEach((Je,$e)=>{0==$e&&"."===Je||(0==$e&&""===Je?T=!0:".."===Je?S++:""!=Je&&V.push(Je))}),V):[...V,X]},[]);return new Ni(T,S,R)}(S);if(X.toRoot())return Ps(V,V,new Nn([],{}),T,R);const fe=function lt(v,S,T){if(v.isAbsolute)return new xe(S,!0,0);if(!T)return new xe(S,!1,NaN);if(null===T.parent)return new xe(T,!0,0);const R=Jn(v.commands[0])?0:1;return function Lt(v,S,T){let R=v,V=S,X=T;for(;X>V;){if(X-=V,R=R.parent,!R)throw new g.wOt(4005,!1);V=R.segments.length}return new xe(R,!1,V-X)}(T,T.segments.length-1+R,v.numberOfDoubleDots)}(X,V,v),Je=fe.processChildren?xn(fe.segmentGroup,fe.index,X.commands):an(fe.segmentGroup,fe.index,X.commands);return Ps(V,fe.segmentGroup,Je,T,R)}function Jn(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function ro(v){return"object"==typeof v&&null!=v&&v.outlets}function Ps(v,S,T,R,V){let fe,X={};R&&Object.entries(R).forEach(([$e,Kt])=>{X[$e]=Array.isArray(Kt)?Kt.map(er=>`${er}`):`${Kt}`}),fe=v===S?T:Ms(v,S,T);const Je=Wn(zt(fe));return new Or(Je,X,V)}function Ms(v,S,T){const R={};return Object.entries(v.children).forEach(([V,X])=>{R[V]=X===S?T:Ms(X,S,T)}),new Nn(v.segments,R)}class Ni{constructor(S,T,R){if(this.isAbsolute=S,this.numberOfDoubleDots=T,this.commands=R,S&&R.length>0&&Jn(R[0]))throw new g.wOt(4003,!1);const V=R.find(ro);if(V&&V!==st(R))throw new g.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xe{constructor(S,T,R){this.segmentGroup=S,this.processChildren=T,this.index=R}}function an(v,S,T){if(v??=new Nn([],{}),0===v.segments.length&&v.hasChildren())return xn(v,S,T);const R=function hn(v,S,T){let R=0,V=S;const X={match:!1,pathIndex:0,commandIndex:0};for(;V<v.segments.length;){if(R>=T.length)return X;const fe=v.segments[V],Je=T[R];if(ro(Je))break;const $e=`${Je}`,Kt=R<T.length-1?T[R+1]:null;if(V>0&&void 0===$e)break;if($e&&Kt&&"object"==typeof Kt&&void 0===Kt.outlets){if(!Ii($e,Kt,fe))return X;R+=2}else{if(!Ii($e,{},fe))return X;R++}V++}return{match:!0,pathIndex:V,commandIndex:R}}(v,S,T),V=T.slice(R.commandIndex);if(R.match&&R.pathIndex<v.segments.length){const X=new Nn(v.segments.slice(0,R.pathIndex),{});return X.children[xt]=new Nn(v.segments.slice(R.pathIndex),v.children),xn(X,0,V)}return R.match&&0===V.length?new Nn(v.segments,{}):R.match&&!v.hasChildren()?Er(v,S,T):R.match?xn(v,0,V):Er(v,S,T)}function xn(v,S,T){if(0===T.length)return new Nn(v.segments,{});{const R=function Cn(v){return ro(v[0])?v[0].outlets:{[xt]:v}}(T),V={};if(Object.keys(R).some(X=>X!==xt)&&v.children[xt]&&1===v.numberOfChildren&&0===v.children[xt].segments.length){const X=xn(v.children[xt],S,T);return new Nn(v.segments,X.children)}return Object.entries(R).forEach(([X,fe])=>{"string"==typeof fe&&(fe=[fe]),null!==fe&&(V[X]=an(v.children[X],S,fe))}),Object.entries(v.children).forEach(([X,fe])=>{void 0===R[X]&&(V[X]=fe)}),new Nn(v.segments,V)}}function Er(v,S,T){const R=v.segments.slice(0,S);let V=0;for(;V<T.length;){const X=T[V];if(ro(X)){const $e=lr(X.outlets);return new Nn(R,$e)}if(0===V&&Jn(T[0])){R.push(new hr(v.segments[S].path,Ns(T[0]))),V++;continue}const fe=ro(X)?X.outlets[xt]:`${X}`,Je=V<T.length-1?T[V+1]:null;fe&&Je&&Jn(Je)?(R.push(new hr(fe,Ns(Je))),V+=2):(R.push(new hr(fe,{})),V++)}return new Nn(R,{})}function lr(v){const S={};return Object.entries(v).forEach(([T,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(S[T]=Er(new Nn([],{}),0,R))}),S}function Ns(v){const S={};return Object.entries(v).forEach(([T,R])=>S[T]=`${R}`),S}function Ii(v,S,T){return v==T.path&&Vn(S,T.parameters)}const $s="imperative";var Gn=function(v){return v[v.NavigationStart=0]="NavigationStart",v[v.NavigationEnd=1]="NavigationEnd",v[v.NavigationCancel=2]="NavigationCancel",v[v.NavigationError=3]="NavigationError",v[v.RoutesRecognized=4]="RoutesRecognized",v[v.ResolveStart=5]="ResolveStart",v[v.ResolveEnd=6]="ResolveEnd",v[v.GuardsCheckStart=7]="GuardsCheckStart",v[v.GuardsCheckEnd=8]="GuardsCheckEnd",v[v.RouteConfigLoadStart=9]="RouteConfigLoadStart",v[v.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",v[v.ChildActivationStart=11]="ChildActivationStart",v[v.ChildActivationEnd=12]="ChildActivationEnd",v[v.ActivationStart=13]="ActivationStart",v[v.ActivationEnd=14]="ActivationEnd",v[v.Scroll=15]="Scroll",v[v.NavigationSkipped=16]="NavigationSkipped",v}(Gn||{});class Yi{constructor(S,T){this.id=S,this.url=T}}class Yo extends Yi{constructor(S,T,R="imperative",V=null){super(S,T),this.type=Gn.NavigationStart,this.navigationTrigger=R,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hs extends Yi{constructor(S,T,R){super(S,T),this.urlAfterRedirects=R,this.type=Gn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var us=function(v){return v[v.Redirect=0]="Redirect",v[v.SupersededByNewNavigation=1]="SupersededByNewNavigation",v[v.NoDataFromResolver=2]="NoDataFromResolver",v[v.GuardRejected=3]="GuardRejected",v}(us||{}),Ui=function(v){return v[v.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",v[v.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",v}(Ui||{});class ni extends Yi{constructor(S,T,R,V){super(S,T),this.reason=R,this.code=V,this.type=Gn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wr extends Yi{constructor(S,T,R,V){super(S,T),this.reason=R,this.code=V,this.type=Gn.NavigationSkipped}}class io extends Yi{constructor(S,T,R,V){super(S,T),this.error=R,this.target=V,this.type=Gn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rs extends Yi{constructor(S,T,R,V){super(S,T),this.urlAfterRedirects=R,this.state=V,this.type=Gn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i extends Yi{constructor(S,T,R,V){super(S,T),this.urlAfterRedirects=R,this.state=V,this.type=Gn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bi extends Yi{constructor(S,T,R,V,X){super(S,T),this.urlAfterRedirects=R,this.state=V,this.shouldActivate=X,this.type=Gn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kr extends Yi{constructor(S,T,R,V){super(S,T),this.urlAfterRedirects=R,this.state=V,this.type=Gn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class An extends Yi{constructor(S,T,R,V){super(S,T),this.urlAfterRedirects=R,this.state=V,this.type=Gn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bn{constructor(S){this.route=S,this.type=Gn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jr{constructor(S){this.route=S,this.type=Gn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class is{constructor(S){this.snapshot=S,this.type=Gn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class so{constructor(S){this.snapshot=S,this.type=Gn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ds{constructor(S){this.snapshot=S,this.type=Gn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zo{constructor(S){this.snapshot=S,this.type=Gn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tn{}class oo{constructor(S){this.url=S}}class ar{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ci,this.attachRef=null}}let Ci=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(T,R){const V=this.getOrCreateContext(T);V.outlet=R,this.contexts.set(T,V)}onChildOutletDestroyed(T){const R=this.getContext(T);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let R=this.getContext(T);return R||(R=new ar,this.contexts.set(T,R)),R}getContext(T){return this.contexts.get(T)||null}static{this.\u0275fac=function(R){return new(R||v)}}static{this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();class Jo{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const T=this.pathFromRoot(S);return T.length>1?T[T.length-2]:null}children(S){const T=Mo(S,this._root);return T?T.children.map(R=>R.value):[]}firstChild(S){const T=Mo(S,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(S){const T=qr(S,this._root);return T.length<2?[]:T[T.length-2].children.map(V=>V.value).filter(V=>V!==S)}pathFromRoot(S){return qr(S,this._root).map(T=>T.value)}}function Mo(v,S){if(v===S.value)return S;for(const T of S.children){const R=Mo(v,T);if(R)return R}return null}function qr(v,S){if(v===S.value)return[S];for(const T of S.children){const R=qr(v,T);if(R.length)return R.unshift(S),R}return[]}class bi{constructor(S,T){this.value=S,this.children=T}toString(){return`TreeNode(${this.value})`}}function Oi(v){const S={};return v&&v.children.forEach(T=>S[T.value.outlet]=T),S}class ji extends Jo{constructor(S,T){super(S),this.snapshot=T,No(this,S)}toString(){return this.snapshot.toString()}}function zs(v){const S=function Ws(v){const X=new Ts([],{},{},"",{},xt,v,null,{});return new ui("",new bi(X,[]))}(v),T=new Se.t([new hr("",{})]),R=new Se.t({}),V=new Se.t({}),X=new Se.t({}),fe=new Se.t(""),Je=new xi(T,R,X,fe,V,xt,v,S.root);return Je.snapshot=S.root,new ji(new bi(Je,[]),S)}class xi{constructor(S,T,R,V,X,fe,Je,$e){this.urlSubject=S,this.paramsSubject=T,this.queryParamsSubject=R,this.fragmentSubject=V,this.dataSubject=X,this.outlet=fe,this.component=Je,this._futureSnapshot=$e,this.title=this.dataSubject?.pipe((0,Ze.T)(Kt=>Kt[on]))??(0,pe.of)(void 0),this.url=S,this.params=T,this.queryParams=R,this.fragment=V,this.data=X}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Ze.T)(S=>$n(S))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Ze.T)(S=>$n(S))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qr(v,S,T="emptyOnly"){let R;const{routeConfig:V}=v;return R=null===S||"always"!==T&&""!==V?.path&&(S.component||S.routeConfig?.loadComponent)?{params:{...v.params},data:{...v.data},resolve:{...v.data,...v._resolvedData??{}}}:{params:{...S.params,...v.params},data:{...S.data,...v.data},resolve:{...v.data,...S.data,...V?.data,...v._resolvedData}},V&&hs(V)&&(R.resolve[on]=V.title),R}class Ts{get title(){return this.data?.[on]}constructor(S,T,R,V,X,fe,Je,$e,Kt){this.url=S,this.params=T,this.queryParams=R,this.fragment=V,this.data=X,this.outlet=fe,this.component=Je,this.routeConfig=$e,this._resolve=Kt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$n(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$n(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ui extends Jo{constructor(S,T){super(T),this.url=S,No(this,T)}toString(){return Fr(this._root)}}function No(v,S){S.value._routerState=v,S.children.forEach(T=>No(v,T))}function Fr(v){const S=v.children.length>0?` { ${v.children.map(Fr).join(", ")} } `:"";return`${v.value}${S}`}function Os(v){if(v.snapshot){const S=v.snapshot,T=v._futureSnapshot;v.snapshot=T,Vn(S.queryParams,T.queryParams)||v.queryParamsSubject.next(T.queryParams),S.fragment!==T.fragment&&v.fragmentSubject.next(T.fragment),Vn(S.params,T.params)||v.paramsSubject.next(T.params),function Li(v,S){if(v.length!==S.length)return!1;for(let T=0;T<v.length;++T)if(!Vn(v[T],S[T]))return!1;return!0}(S.url,T.url)||v.urlSubject.next(T.url),Vn(S.data,T.data)||v.dataSubject.next(T.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function _n(v,S){const T=Vn(v.params,S.params)&&function xr(v,S){return $t(v,S)&&v.every((T,R)=>Vn(T.parameters,S[R].parameters))}(v.url,S.url);return T&&!(!v.parent!=!S.parent)&&(!v.parent||_n(v.parent,S.parent))}function hs(v){return"string"==typeof v.title||null===v.title}let xs=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=xt,this.activateEvents=new g.bkB,this.deactivateEvents=new g.bkB,this.attachEvents=new g.bkB,this.detachEvents=new g.bkB,this.parentContexts=(0,g.WQX)(Ci),this.location=(0,g.WQX)(g.c1b),this.changeDetector=(0,g.WQX)(g.gRc),this.environmentInjector=(0,g.WQX)(g.uvJ),this.inputBinder=(0,g.WQX)(ao,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:R,previousValue:V}=T.name;if(R)return;this.isTrackedInParentContexts(V)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(V)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){return this.parentContexts.getContext(T)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);T?.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.wOt(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,R){this.activated=T,this._activatedRoute=R,this.location.insert(T.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,R){if(this.isActivated)throw new g.wOt(4013,!1);this._activatedRoute=T;const V=this.location,fe=T.snapshot.component,Je=this.parentContexts.getOrCreateContext(this.name).children,$e=new fs(T,Je,V.injector);this.activated=V.createComponent(fe,{index:V.length,injector:$e,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(R){return new(R||v)}}static{this.\u0275dir=g.FsC({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.OA$]})}}return v})();class fs{__ngOutletInjector(S){return new fs(this.route,this.childContexts,S)}constructor(S,T,R){this.route=S,this.childContexts=T,this.parent=R}get(S,T){return S===xi?this.route:S===Ci?this.childContexts:this.parent.get(S,T)}}const ao=new g.nKC("");function gs(v,S,T){if(T&&v.shouldReuseRoute(S.value,T.value.snapshot)){const R=T.value;R._futureSnapshot=S.value;const V=function ws(v,S,T){return S.children.map(R=>{for(const V of T.children)if(v.shouldReuseRoute(R.value,V.value.snapshot))return gs(v,R,V);return gs(v,R)})}(v,S,T);return new bi(R,V)}{if(v.shouldAttach(S.value)){const X=v.retrieve(S.value);if(null!==X){const fe=X.route;return fe.value._futureSnapshot=S.value,fe.children=S.children.map(Je=>gs(v,Je)),fe}}const R=function Gs(v){return new xi(new Se.t(v.url),new Se.t(v.params),new Se.t(v.queryParams),new Se.t(v.fragment),new Se.t(v.data),v.outlet,v.component,v)}(S.value),V=S.children.map(X=>gs(v,X));return new bi(R,V)}}const $i="ngNavigationCancelingError";function uo(v,S){const{redirectTo:T,navigationBehaviorOptions:R}=fi(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,V=_o(!1,us.Redirect);return V.url=T,V.navigationBehaviorOptions=R,V}function _o(v,S){const T=new Error(`NavigationCancelingError: ${v||""}`);return T[$i]=!0,T.cancellationCode=S,T}function ki(v){return!!v&&v[$i]}let Xr=(()=>{class v{static{this.\u0275fac=function(R){return new(R||v)}}static{this.\u0275cmp=g.VBU({type:v,selectors:[["ng-component"]],standalone:!0,features:[g.aNF],decls:1,vars:0,template:function(R,V){1&R&&g.nrm(0,"router-outlet")},dependencies:[xs],encapsulation:2})}}return v})();function kn(v){const S=v.children&&v.children.map(kn),T=S?{...v,children:S}:{...v};return!T.component&&!T.loadComponent&&(S||T.loadChildren)&&T.outlet&&T.outlet!==xt&&(T.component=Xr),T}function Si(v){return v.outlet||xt}function Hi(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let S=v.parent;S;S=S.parent){const T=S.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class Ra{constructor(S,T,R,V,X){this.routeReuseStrategy=S,this.futureState=T,this.currState=R,this.forwardEvent=V,this.inputBindingEnabled=X}activate(S){const T=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,R,S),Os(this.futureState.root),this.activateChildRoutes(T,R,S)}deactivateChildRoutes(S,T,R){const V=Oi(T);S.children.forEach(X=>{const fe=X.value.outlet;this.deactivateRoutes(X,V[fe],R),delete V[fe]}),Object.values(V).forEach(X=>{this.deactivateRouteAndItsChildren(X,R)})}deactivateRoutes(S,T,R){const V=S.value,X=T?T.value:null;if(V===X)if(V.component){const fe=R.getContext(V.outlet);fe&&this.deactivateChildRoutes(S,T,fe.children)}else this.deactivateChildRoutes(S,T,R);else X&&this.deactivateRouteAndItsChildren(T,R)}deactivateRouteAndItsChildren(S,T){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,T):this.deactivateRouteAndOutlet(S,T)}detachAndStoreRouteSubtree(S,T){const R=T.getContext(S.value.outlet),V=R&&S.value.component?R.children:T,X=Oi(S);for(const fe of Object.values(X))this.deactivateRouteAndItsChildren(fe,V);if(R&&R.outlet){const fe=R.outlet.detach(),Je=R.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:fe,route:S,contexts:Je})}}deactivateRouteAndOutlet(S,T){const R=T.getContext(S.value.outlet),V=R&&S.value.component?R.children:T,X=Oi(S);for(const fe of Object.values(X))this.deactivateRouteAndItsChildren(fe,V);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(S,T,R){const V=Oi(T);S.children.forEach(X=>{this.activateRoutes(X,V[X.value.outlet],R),this.forwardEvent(new Zo(X.value.snapshot))}),S.children.length&&this.forwardEvent(new so(S.value.snapshot))}activateRoutes(S,T,R){const V=S.value,X=T?T.value:null;if(Os(V),V===X)if(V.component){const fe=R.getOrCreateContext(V.outlet);this.activateChildRoutes(S,T,fe.children)}else this.activateChildRoutes(S,T,R);else if(V.component){const fe=R.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const Je=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),fe.children.onOutletReAttached(Je.contexts),fe.attachRef=Je.componentRef,fe.route=Je.route.value,fe.outlet&&fe.outlet.attach(Je.componentRef,Je.route.value),Os(Je.route.value),this.activateChildRoutes(S,null,fe.children)}else{const Je=Hi(V.snapshot);fe.attachRef=null,fe.route=V,fe.injector=Je,fe.outlet&&fe.outlet.activateWith(V,fe.injector),this.activateChildRoutes(S,null,fe.children)}}else this.activateChildRoutes(S,null,R)}}class co{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Z{constructor(S,T){this.component=S,this.route=T}}function I(v,S,T){const R=v._root;return W(R,S?S._root:null,T,[R.value])}function O(v,S){const T=Symbol(),R=S.get(v,T);return R===T?"function"!=typeof v||(0,g.LfX)(v)?S.get(v):v:R}function W(v,S,T,R,V={canDeactivateChecks:[],canActivateChecks:[]}){const X=Oi(S);return v.children.forEach(fe=>{(function ee(v,S,T,R,V={canDeactivateChecks:[],canActivateChecks:[]}){const X=v.value,fe=S?S.value:null,Je=T?T.getContext(v.value.outlet):null;if(fe&&X.routeConfig===fe.routeConfig){const $e=function Ee(v,S,T){if("function"==typeof T)return T(v,S);switch(T){case"pathParamsChange":return!$t(v.url,S.url);case"pathParamsOrQueryParamsChange":return!$t(v.url,S.url)||!Vn(v.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_n(v,S)||!Vn(v.queryParams,S.queryParams);default:return!_n(v,S)}}(fe,X,X.routeConfig.runGuardsAndResolvers);$e?V.canActivateChecks.push(new co(R)):(X.data=fe.data,X._resolvedData=fe._resolvedData),W(v,S,X.component?Je?Je.children:null:T,R,V),$e&&Je&&Je.outlet&&Je.outlet.isActivated&&V.canDeactivateChecks.push(new Z(Je.outlet.component,fe))}else fe&&De(S,Je,V),V.canActivateChecks.push(new co(R)),W(v,null,X.component?Je?Je.children:null:T,R,V)})(fe,X[fe.value.outlet],T,R.concat([fe.value]),V),delete X[fe.value.outlet]}),Object.entries(X).forEach(([fe,Je])=>De(Je,T.getContext(fe),V)),V}function De(v,S,T){const R=Oi(v),V=v.value;Object.entries(R).forEach(([X,fe])=>{De(fe,V.component?S?S.children.getContext(X):null:S,T)}),T.canDeactivateChecks.push(new Z(V.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,V))}function Ve(v){return"function"==typeof v}function yn(v){return v instanceof Pe||"EmptyError"===v?.name}const Ar=Symbol("INITIAL_VALUE");function gr(){return(0,pt.n)(v=>(0,it.z)(v.map(S=>S.pipe((0,It.s)(1),(0,rn.Z)(Ar)))).pipe((0,Ze.T)(S=>{for(const T of S)if(!0!==T){if(T===Ar)return Ar;if(!1===T||T instanceof Or)return T}return!0}),(0,Ut.p)(S=>S!==Ar),(0,It.s)(1)))}function ko(v){return(0,_e.F)((0,Bt.M)(S=>{if(fi(S))throw uo(0,S)}),(0,Ze.T)(S=>!0===S))}class Ks{constructor(S){this.segmentGroup=S||null}}class Io extends Error{constructor(S){super(),this.urlTree=S}}function ms(v){return(0,ze.$)(new Ks(v))}class ln{constructor(S,T){this.urlSerializer=S,this.urlTree=T}lineralizeSegments(S,T){let R=[],V=T.root;for(;;){if(R=R.concat(V.segments),0===V.numberOfChildren)return(0,pe.of)(R);if(V.numberOfChildren>1||!V.children[xt])return(0,ze.$)(new g.wOt(4e3,!1));V=V.children[xt]}}applyRedirectCommands(S,T,R){const V=this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),S,R);if(T.startsWith("/"))throw new Io(V);return V}applyRedirectCreateUrlTree(S,T,R,V){const X=this.createSegmentGroup(S,T.root,R,V);return new Or(X,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(S,T){const R={};return Object.entries(S).forEach(([V,X])=>{if("string"==typeof X&&X.startsWith(":")){const Je=X.substring(1);R[V]=T[Je]}else R[V]=X}),R}createSegmentGroup(S,T,R,V){const X=this.createSegments(S,T.segments,R,V);let fe={};return Object.entries(T.children).forEach(([Je,$e])=>{fe[Je]=this.createSegmentGroup(S,$e,R,V)}),new Nn(X,fe)}createSegments(S,T,R,V){return T.map(X=>X.path.startsWith(":")?this.findPosParam(S,X,V):this.findOrReturn(X,R))}findPosParam(S,T,R){const V=R[T.path.substring(1)];if(!V)throw new g.wOt(4001,!1);return V}findOrReturn(S,T){let R=0;for(const V of T){if(V.path===S.path)return T.splice(R),V;R++}return S}}const Ir={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sr(v,S,T,R,V){const X=es(v,S,T);return X.matched?(R=function ca(v,S){return v.providers&&!v._injector&&(v._injector=(0,g.Ol2)(v.providers,S,`Route: ${v.path}`)),v._injector??S}(S,R),function Fs(v,S,T,R){const V=S.canMatch;if(!V||0===V.length)return(0,pe.of)(!0);const X=V.map(fe=>{const Je=O(fe,v);return or(function fn(v){return v&&Ve(v.canMatch)}(Je)?Je.canMatch(S,T):(0,g.N4e)(v,()=>Je(S,T)))});return(0,pe.of)(X).pipe(gr(),ko())}(R,S,T).pipe((0,Ze.T)(fe=>!0===fe?X:{...Ir}))):(0,pe.of)(X)}function es(v,S,T){if("**"===S.path)return function Wi(v){return{matched:!0,parameters:v.length>0?st(v).parameters:{},consumedSegments:v,remainingSegments:[],positionalParamSegments:{}}}(T);if(""===S.path)return"full"===S.pathMatch&&(v.hasChildren()||T.length>0)?{...Ir}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const V=(S.matcher||Tr)(T,v,S);if(!V)return{...Ir};const X={};Object.entries(V.posParams??{}).forEach(([Je,$e])=>{X[Je]=$e.path});const fe=V.consumed.length>0?{...X,...V.consumed[V.consumed.length-1].parameters}:X;return{matched:!0,consumedSegments:V.consumed,remainingSegments:T.slice(V.consumed.length),parameters:fe,positionalParamSegments:V.posParams??{}}}function Lr(v,S,T,R){return T.length>0&&function k(v,S,T){return T.some(R=>q(v,S,R)&&Si(R)!==xt)}(v,T,R)?{segmentGroup:new Nn(S,La(R,new Nn(T,v.children))),slicedSegments:[]}:0===T.length&&function F(v,S,T){return T.some(R=>q(v,S,R))}(v,T,R)?{segmentGroup:new Nn(v.segments,_s(v,T,R,v.children)),slicedSegments:T}:{segmentGroup:new Nn(v.segments,v.children),slicedSegments:T}}function _s(v,S,T,R){const V={};for(const X of T)if(q(v,S,X)&&!R[Si(X)]){const fe=new Nn([],{});V[Si(X)]=fe}return{...R,...V}}function La(v,S){const T={};T[xt]=S;for(const R of v)if(""===R.path&&Si(R)!==xt){const V=new Nn([],{});T[Si(R)]=V}return T}function q(v,S,T){return(!(v.hasChildren()||S.length>0)||"full"!==T.pathMatch)&&""===T.path}class et{}class gn{constructor(S,T,R,V,X,fe,Je){this.injector=S,this.configLoader=T,this.rootComponentType=R,this.config=V,this.urlTree=X,this.paramsInheritanceStrategy=fe,this.urlSerializer=Je,this.applyRedirects=new ln(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(S){return new g.wOt(4002,`'${S.segmentGroup}'`)}recognize(){const S=Lr(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(S).pipe((0,Ze.T)(T=>{const R=new Ts([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},xt,this.rootComponentType,null,{}),V=new bi(R,T),X=new ui("",V),fe=function Bs(v,S,T=null,R=null){return js(ns(v),S,T,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return fe.queryParams=this.urlTree.queryParams,X.url=this.urlSerializer.serialize(fe),this.inheritParamsAndData(X._root,null),{state:X,tree:fe}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S,xt).pipe((0,sn.W)(R=>{if(R instanceof Io)return this.urlTree=R.urlTree,this.match(R.urlTree.root);throw R instanceof Ks?this.noMatchError(R):R}))}inheritParamsAndData(S,T){const R=S.value,V=Qr(R,T,this.paramsInheritanceStrategy);R.params=Object.freeze(V.params),R.data=Object.freeze(V.data),S.children.forEach(X=>this.inheritParamsAndData(X,R))}processSegmentGroup(S,T,R,V){return 0===R.segments.length&&R.hasChildren()?this.processChildren(S,T,R):this.processSegment(S,T,R,R.segments,V,!0).pipe((0,Ze.T)(X=>X instanceof bi?[X]:[]))}processChildren(S,T,R){const V=[];for(const X of Object.keys(R.children))"primary"===X?V.unshift(X):V.push(X);return(0,ce.H)(V).pipe((0,Pt.H)(X=>{const fe=R.children[X],Je=function Oo(v,S){const T=v.filter(R=>Si(R)===S);return T.push(...v.filter(R=>Si(R)!==S)),T}(T,X);return this.processSegmentGroup(S,Je,fe,X)}),function Mt(v,S){return(0,Ft.N)(function Et(v,S,T,R,V){return(X,fe)=>{let Je=T,$e=S,Kt=0;X.subscribe((0,Yt._)(fe,er=>{const tr=Kt++;$e=Je?v($e,er,tr):(Je=!0,er),R&&fe.next($e)},V&&(()=>{Je&&fe.next($e),fe.complete()})))}}(v,S,arguments.length>=2,!0))}((X,fe)=>(X.push(...fe),X)),Qe(null),function me(v,S){const T=arguments.length>=2;return R=>R.pipe(v?(0,Ut.p)((V,X)=>v(V,X,R)):Dr.D,Oe(1),T?Qe(S):Ot(()=>new Pe))}(),(0,ye.Z)(X=>{if(null===X)return ms(R);const fe=Jr(X);return function Hn(v){v.sort((S,T)=>S.value.outlet===xt?-1:T.value.outlet===xt?1:S.value.outlet.localeCompare(T.value.outlet))}(fe),(0,pe.of)(fe)}))}processSegment(S,T,R,V,X,fe){return(0,ce.H)(T).pipe((0,Pt.H)(Je=>this.processSegmentAgainstRoute(Je._injector??S,T,Je,R,V,X,fe).pipe((0,sn.W)($e=>{if($e instanceof Ks)return(0,pe.of)(null);throw $e}))),ot(Je=>!!Je),(0,sn.W)(Je=>{if(yn(Je))return function de(v,S,T){return 0===S.length&&!v.children[T]}(R,V,X)?(0,pe.of)(new et):ms(R);throw Je}))}processSegmentAgainstRoute(S,T,R,V,X,fe,Je){return function Q(v,S,T,R){return!!(Si(v)===R||R!==xt&&q(S,T,v))&&es(S,v,T).matched}(R,V,X,fe)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(S,V,R,X,fe):this.allowRedirects&&Je?this.expandSegmentAgainstRouteUsingRedirect(S,V,T,R,X,fe):ms(V):ms(V)}expandSegmentAgainstRouteUsingRedirect(S,T,R,V,X,fe){const{matched:Je,consumedSegments:$e,positionalParamSegments:Kt,remainingSegments:er}=es(T,V,X);if(!Je)return ms(T);V.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const tr=this.applyRedirects.applyRedirectCommands($e,V.redirectTo,Kt);return this.applyRedirects.lineralizeSegments(V,tr).pipe((0,ye.Z)(Di=>this.processSegment(S,R,T,Di.concat(er),fe,!1)))}matchSegmentAgainstRoute(S,T,R,V,X){const fe=sr(T,R,V,S);return"**"===R.path&&(T.children={}),fe.pipe((0,pt.n)(Je=>Je.matched?this.getChildConfig(S=R._injector??S,R,V).pipe((0,pt.n)(({routes:$e})=>{const Kt=R._loadedInjector??S,{consumedSegments:er,remainingSegments:tr,parameters:Di}=Je,Wo=new Ts(er,Di,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function ri(v){return v.data||{}}(R),Si(R),R.component??R._loadedComponent??null,R,function Gr(v){return v.resolve||{}}(R)),{segmentGroup:Go,slicedSegments:va}=Lr(T,er,tr,$e);if(0===va.length&&Go.hasChildren())return this.processChildren(Kt,$e,Go).pipe((0,Ze.T)(ha=>null===ha?null:new bi(Wo,ha)));if(0===$e.length&&0===va.length)return(0,pe.of)(new bi(Wo,[]));const lu=Si(R)===X;return this.processSegment(Kt,$e,Go,va,lu?xt:X,!0).pipe((0,Ze.T)(ha=>new bi(Wo,ha instanceof bi?[ha]:[])))})):ms(T)))}getChildConfig(S,T,R){return T.children?(0,pe.of)({routes:T.children,injector:S}):T.loadChildren?void 0!==T._loadedRoutes?(0,pe.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function Eo(v,S,T,R){const V=S.canLoad;if(void 0===V||0===V.length)return(0,pe.of)(!0);const X=V.map(fe=>{const Je=O(fe,v);return or(function Ht(v){return v&&Ve(v.canLoad)}(Je)?Je.canLoad(S,T):(0,g.N4e)(v,()=>Je(S,T)))});return(0,pe.of)(X).pipe(gr(),ko())}(S,T,R).pipe((0,ye.Z)(V=>V?this.configLoader.loadChildren(S,T).pipe((0,Bt.M)(X=>{T._loadedRoutes=X.routes,T._loadedInjector=X.injector})):function en(v){return(0,ze.$)(_o(!1,us.GuardRejected))}())):(0,pe.of)({routes:[],injector:S})}}function Nr(v){const S=v.value.routeConfig;return S&&""===S.path}function Jr(v){const S=[],T=new Set;for(const R of v){if(!Nr(R)){S.push(R);continue}const V=S.find(X=>R.value.routeConfig===X.value.routeConfig);void 0!==V?(V.children.push(...R.children),T.add(V)):S.push(R)}for(const R of T){const V=Jr(R.children);S.push(new bi(R.value,V))}return S.filter(R=>!T.has(R))}function Ds(v){const S=v.children.map(T=>Ds(T)).flat();return[v,...S]}function qs(v){return(0,pt.n)(S=>{const T=v(S);return T?(0,ce.H)(T).pipe((0,Ze.T)(()=>S)):(0,pe.of)(S)})}let Fo=(()=>{class v{buildTitle(T){let R,V=T.root;for(;void 0!==V;)R=this.getResolvedTitleForRoute(V)??R,V=V.children.find(X=>X.outlet===xt);return R}getResolvedTitleForRoute(T){return T.data[on]}static{this.\u0275fac=function(R){return new(R||v)}}static{this.\u0275prov=g.jDH({token:v,factory:()=>(0,g.WQX)(Va),providedIn:"root"})}}return v})(),Va=(()=>{class v extends Fo{constructor(T){super(),this.title=T}updateTitle(T){const R=this.buildTitle(T);void 0!==R&&this.title.setTitle(R)}static{this.\u0275fac=function(R){return new(R||v)(g.KVO(cn.hE))}}static{this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();const dr=new g.nKC("",{providedIn:"root",factory:()=>({})}),$o=new g.nKC("");let su=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.WQX)(g.Ql9)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,pe.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const R=or(T.loadComponent()).pipe((0,Ze.T)(To),(0,Bt.M)(X=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=X}),(0,se.j)(()=>{this.componentLoaders.delete(T)})),V=new zn(R,()=>new Mn.B).pipe(Xt());return this.componentLoaders.set(T,V),V}loadChildren(T,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,pe.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const X=function Uu(v,S,T,R){return or(v.loadChildren()).pipe((0,Ze.T)(To),(0,ye.Z)(V=>V instanceof g.Co$||Array.isArray(V)?(0,pe.of)(V):(0,ce.H)(S.compileModuleAsync(V))),(0,Ze.T)(V=>{R&&R(v);let X,fe,Je=!1;return Array.isArray(V)?(fe=V,!0):(X=V.create(T).injector,fe=X.get($o,[],{optional:!0,self:!0}).flat()),{routes:fe.map(kn),injector:X}}))}(R,this.compiler,T,this.onLoadEndListener).pipe((0,se.j)(()=>{this.childrenLoaders.delete(R)})),fe=new zn(X,()=>new Mn.B).pipe(Xt());return this.childrenLoaders.set(R,fe),fe}static{this.\u0275fac=function(R){return new(R||v)}}static{this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();function To(v){return function Ua(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let ea=(()=>{class v{static{this.\u0275fac=function(R){return new(R||v)}}static{this.\u0275prov=g.jDH({token:v,factory:()=>(0,g.WQX)(Pa),providedIn:"root"})}}return v})(),Pa=(()=>{class v{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,R){return T}static{this.\u0275fac=function(R){return new(R||v)}}static{this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();const D=new g.nKC("");let le=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Mn.B,this.transitionAbortSubject=new Mn.B,this.configLoader=(0,g.WQX)(su),this.environmentInjector=(0,g.WQX)(g.uvJ),this.urlSerializer=(0,g.WQX)(Rn),this.rootContexts=(0,g.WQX)(Ci),this.location=(0,g.WQX)(mt.aZ),this.inputBindingEnabled=null!==(0,g.WQX)(ao,{optional:!0}),this.titleStrategy=(0,g.WQX)(Fo),this.options=(0,g.WQX)(dr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,g.WQX)(ea),this.createViewTransition=(0,g.WQX)(D,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,pe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=V=>this.events.next(new jr(V)),this.configLoader.onLoadStartListener=V=>this.events.next(new bn(V))}complete(){this.transitions?.complete()}handleNavigationRequest(T){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...T,id:R})}setupNavigations(T,R,V){return this.transitions=new Se.t({id:0,currentUrlTree:R,currentRawUrl:R,extractedUrl:this.urlHandlingStrategy.extract(R),urlAfterRedirects:this.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$s,restoredState:null,currentSnapshot:V.snapshot,targetSnapshot:null,currentRouterState:V,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ut.p)(X=>0!==X.id),(0,Ze.T)(X=>({...X,extractedUrl:this.urlHandlingStrategy.extract(X.rawUrl)})),(0,pt.n)(X=>{let fe=!1,Je=!1;return(0,pe.of)(X).pipe((0,pt.n)($e=>{if(this.navigationId>X.id)return this.cancelNavigationTransition(X,"",us.SupersededByNewNavigation),nt.w;this.currentTransition=X,this.currentNavigation={id:$e.id,initialUrl:$e.rawUrl,extractedUrl:$e.extractedUrl,trigger:$e.source,extras:$e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Kt=!T.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Kt&&"reload"!==($e.extras.onSameUrlNavigation??T.onSameUrlNavigation)){const tr="";return this.events.next(new wr($e.id,this.urlSerializer.serialize($e.rawUrl),tr,Ui.IgnoredSameUrlNavigation)),$e.resolve(null),nt.w}if(this.urlHandlingStrategy.shouldProcessUrl($e.rawUrl))return(0,pe.of)($e).pipe((0,pt.n)(tr=>{const Di=this.transitions?.getValue();return this.events.next(new Yo(tr.id,this.urlSerializer.serialize(tr.extractedUrl),tr.source,tr.restoredState)),Di!==this.transitions?.getValue()?nt.w:Promise.resolve(tr)}),function Ls(v,S,T,R,V,X){return(0,ye.Z)(fe=>function St(v,S,T,R,V,X,fe="emptyOnly"){return new gn(v,S,T,R,V,fe,X).recognize()}(v,S,T,R,fe.extractedUrl,V,X).pipe((0,Ze.T)(({state:Je,tree:$e})=>({...fe,targetSnapshot:Je,urlAfterRedirects:$e}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Bt.M)(tr=>{X.targetSnapshot=tr.targetSnapshot,X.urlAfterRedirects=tr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:tr.urlAfterRedirects};const Di=new rs(tr.id,this.urlSerializer.serialize(tr.extractedUrl),this.urlSerializer.serialize(tr.urlAfterRedirects),tr.targetSnapshot);this.events.next(Di)}));if(Kt&&this.urlHandlingStrategy.shouldProcessUrl($e.currentRawUrl)){const{id:tr,extractedUrl:Di,source:Wo,restoredState:Go,extras:va}=$e,lu=new Yo(tr,this.urlSerializer.serialize(Di),Wo,Go);this.events.next(lu);const ha=zs(this.rootComponentType).snapshot;return this.currentTransition=X={...$e,targetSnapshot:ha,urlAfterRedirects:Di,extras:{...va,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Di,(0,pe.of)(X)}{const tr="";return this.events.next(new wr($e.id,this.urlSerializer.serialize($e.extractedUrl),tr,Ui.IgnoredByUrlHandlingStrategy)),$e.resolve(null),nt.w}}),(0,Bt.M)($e=>{const Kt=new _i($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot);this.events.next(Kt)}),(0,Ze.T)($e=>(this.currentTransition=X={...$e,guards:I($e.targetSnapshot,$e.currentSnapshot,this.rootContexts)},X)),function pi(v,S){return(0,ye.Z)(T=>{const{targetSnapshot:R,currentSnapshot:V,guards:{canActivateChecks:X,canDeactivateChecks:fe}}=T;return 0===fe.length&&0===X.length?(0,pe.of)({...T,guardsResult:!0}):function gi(v,S,T,R){return(0,ce.H)(v).pipe((0,ye.Z)(V=>function ho(v,S,T,R,V){const X=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,pe.of)(!0);const fe=X.map(Je=>{const $e=Hi(S)??V,Kt=O(Je,$e);return or(function Un(v){return v&&Ve(v.canDeactivate)}(Kt)?Kt.canDeactivate(v,S,T,R):(0,g.N4e)($e,()=>Kt(v,S,T,R))).pipe(ot())});return(0,pe.of)(fe).pipe(gr())}(V.component,V.route,T,S,R)),ot(V=>!0!==V,!0))}(fe,R,V,v).pipe((0,ye.Z)(Je=>Je&&function rt(v){return"boolean"==typeof v}(Je)?function jn(v,S,T,R){return(0,ce.H)(S).pipe((0,Pt.H)(V=>(0,He.x)(function zi(v,S){return null!==v&&S&&S(new is(v)),(0,pe.of)(!0)}(V.route.parent,R),function lo(v,S){return null!==v&&S&&S(new ds(v)),(0,pe.of)(!0)}(V.route,R),function cs(v,S,T){const R=S[S.length-1],X=S.slice(0,S.length-1).reverse().map(fe=>function b(v){const S=v.routeConfig?v.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:v,guards:S}:null}(fe)).filter(fe=>null!==fe).map(fe=>(0,he.v)(()=>{const Je=fe.guards.map($e=>{const Kt=Hi(fe.node)??T,er=O($e,Kt);return or(function Yn(v){return v&&Ve(v.canActivateChild)}(er)?er.canActivateChild(R,v):(0,g.N4e)(Kt,()=>er(R,v))).pipe(ot())});return(0,pe.of)(Je).pipe(gr())}));return(0,pe.of)(X).pipe(gr())}(v,V.path,T),function br(v,S,T){const R=S.routeConfig?S.routeConfig.canActivate:null;if(!R||0===R.length)return(0,pe.of)(!0);const V=R.map(X=>(0,he.v)(()=>{const fe=Hi(S)??T,Je=O(X,fe);return or(function jt(v){return v&&Ve(v.canActivate)}(Je)?Je.canActivate(S,v):(0,g.N4e)(fe,()=>Je(S,v))).pipe(ot())}));return(0,pe.of)(V).pipe(gr())}(v,V.route,T))),ot(V=>!0!==V,!0))}(R,X,v,S):(0,pe.of)(Je)),(0,Ze.T)(Je=>({...T,guardsResult:Je})))})}(this.environmentInjector,$e=>this.events.next($e)),(0,Bt.M)($e=>{if(X.guardsResult=$e.guardsResult,fi($e.guardsResult))throw uo(0,$e.guardsResult);const Kt=new Bi($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects),$e.targetSnapshot,!!$e.guardsResult);this.events.next(Kt)}),(0,Ut.p)($e=>!!$e.guardsResult||(this.cancelNavigationTransition($e,"",us.GuardRejected),!1)),qs($e=>{if($e.guards.canActivateChecks.length)return(0,pe.of)($e).pipe((0,Bt.M)(Kt=>{const er=new kr(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(er)}),(0,pt.n)(Kt=>{let er=!1;return(0,pe.of)(Kt).pipe(function $r(v,S){return(0,ye.Z)(T=>{const{targetSnapshot:R,guards:{canActivateChecks:V}}=T;if(!V.length)return(0,pe.of)(T);const X=new Set(V.map($e=>$e.route)),fe=new Set;for(const $e of X)if(!fe.has($e))for(const Kt of Ds($e))fe.add(Kt);let Je=0;return(0,ce.H)(fe).pipe((0,Pt.H)($e=>X.has($e)?function ei(v,S,T,R){const V=v.routeConfig,X=v._resolve;return void 0!==V?.title&&!hs(V)&&(X[on]=V.title),function Ri(v,S,T,R){const V=fr(v);if(0===V.length)return(0,pe.of)({});const X={};return(0,ce.H)(V).pipe((0,ye.Z)(fe=>function wi(v,S,T,R){const V=Hi(S)??R,X=O(v,V);return or(X.resolve?X.resolve(S,T):(0,g.N4e)(V,()=>X(S,T)))}(v[fe],S,T,R).pipe(ot(),(0,Bt.M)(Je=>{X[fe]=Je}))),Oe(1),function ne(v){return(0,Ze.T)(()=>v)}(X),(0,sn.W)(fe=>yn(fe)?nt.w:(0,ze.$)(fe)))}(X,v,S,R).pipe((0,Ze.T)(fe=>(v._resolvedData=fe,v.data=Qr(v,v.parent,T).resolve,null)))}($e,R,v,S):($e.data=Qr($e,$e.parent,v).resolve,(0,pe.of)(void 0))),(0,Bt.M)(()=>Je++),Oe(1),(0,ye.Z)($e=>Je===fe.size?(0,pe.of)(T):nt.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Bt.M)({next:()=>er=!0,complete:()=>{er||this.cancelNavigationTransition(Kt,"",us.NoDataFromResolver)}}))}),(0,Bt.M)(Kt=>{const er=new An(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(er)}))}),qs($e=>{const Kt=er=>{const tr=[];er.routeConfig?.loadComponent&&!er.routeConfig._loadedComponent&&tr.push(this.configLoader.loadComponent(er.routeConfig).pipe((0,Bt.M)(Di=>{er.component=Di}),(0,Ze.T)(()=>{})));for(const Di of er.children)tr.push(...Kt(Di));return tr};return(0,it.z)(Kt($e.targetSnapshot.root)).pipe(Qe(null),(0,It.s)(1))}),qs(()=>this.afterPreactivation()),(0,pt.n)(()=>{const{currentSnapshot:$e,targetSnapshot:Kt}=X,er=this.createViewTransition?.(this.environmentInjector,$e.root,Kt.root);return er?(0,ce.H)(er).pipe((0,Ze.T)(()=>X)):(0,pe.of)(X)}),(0,Ze.T)($e=>{const Kt=function ps(v,S,T){const R=gs(v,S._root,T?T._root:void 0);return new ji(R,S)}(T.routeReuseStrategy,$e.targetSnapshot,$e.currentRouterState);return this.currentTransition=X={...$e,targetRouterState:Kt},this.currentNavigation.targetRouterState=Kt,X}),(0,Bt.M)(()=>{this.events.next(new tn)}),((v,S,T,R)=>(0,Ze.T)(V=>(new Ra(S,V.targetRouterState,V.currentRouterState,T,R).activate(v),V)))(this.rootContexts,T.routeReuseStrategy,$e=>this.events.next($e),this.inputBindingEnabled),(0,It.s)(1),(0,Bt.M)({next:$e=>{fe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hs($e.id,this.urlSerializer.serialize($e.extractedUrl),this.urlSerializer.serialize($e.urlAfterRedirects))),this.titleStrategy?.updateTitle($e.targetRouterState.snapshot),$e.resolve(!0)},complete:()=>{fe=!0}}),(0,dt.Q)(this.transitionAbortSubject.pipe((0,Bt.M)($e=>{throw $e}))),(0,se.j)(()=>{!fe&&!Je&&this.cancelNavigationTransition(X,"",us.SupersededByNewNavigation),this.currentTransition?.id===X.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,sn.W)($e=>{if(Je=!0,ki($e))this.events.next(new ni(X.id,this.urlSerializer.serialize(X.extractedUrl),$e.message,$e.cancellationCode)),function ua(v){return ki(v)&&fi(v.url)}($e)?this.events.next(new oo($e.url)):X.resolve(!1);else{this.events.next(new io(X.id,this.urlSerializer.serialize(X.extractedUrl),$e,X.targetSnapshot??void 0));try{X.resolve(T.errorHandler($e))}catch(Kt){this.options.resolveNavigationPromiseOnError?X.resolve(!1):X.reject(Kt)}}return nt.w}))}))}cancelNavigationTransition(T,R,V){const X=new ni(T.id,this.urlSerializer.serialize(T.extractedUrl),R,V);this.events.next(X),T.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(R){return new(R||v)}}static{this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();function Xe(v){return v!==$s}let vt=(()=>{class v{static{this.\u0275fac=function(R){return new(R||v)}}static{this.\u0275prov=g.jDH({token:v,factory:()=>(0,g.WQX)(Yr),providedIn:"root"})}}return v})();class un{shouldDetach(S){return!1}store(S,T){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,T){return S.routeConfig===T.routeConfig}}let Yr=(()=>{class v extends un{static{this.\u0275fac=(()=>{let T;return function(V){return(T||(T=g.xGo(v)))(V||v)}})()}static{this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})(),Hr=(()=>{class v{static{this.\u0275fac=function(R){return new(R||v)}}static{this.\u0275prov=g.jDH({token:v,factory:()=>(0,g.WQX)(ti),providedIn:"root"})}}return v})(),ti=(()=>{class v extends Hr{constructor(){super(...arguments),this.location=(0,g.WQX)(mt.aZ),this.urlSerializer=(0,g.WQX)(Rn),this.options=(0,g.WQX)(dr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,g.WQX)(ea),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Or,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=zs(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(T){return this.location.subscribe(R=>{"popstate"===R.type&&T(R.url,R.state)})}handleRouterEvent(T,R){if(T instanceof Yo)this.stateMemento=this.createStateMemento();else if(T instanceof wr)this.rawUrlTree=R.initialUrl;else if(T instanceof rs){if("eager"===this.urlUpdateStrategy&&!R.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(R.finalUrl,R.initialUrl);this.setBrowserUrl(V,R)}}else T instanceof tn?(this.currentUrlTree=R.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(R.finalUrl,R.initialUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,R))):T instanceof ni&&(T.code===us.GuardRejected||T.code===us.NoDataFromResolver)?this.restoreHistory(R):T instanceof io?this.restoreHistory(R,!0):T instanceof Hs&&(this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId)}setBrowserUrl(T,R){const V=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(V)||R.extras.replaceUrl){const fe={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(V,"",fe)}else{const X={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(V,"",X)}}restoreHistory(T,R=!1){if("computed"===this.canceledNavigationResolution){const X=this.currentPageId-this.browserPageId;0!==X?this.location.historyGo(X):this.currentUrlTree===T.finalUrl&&0===X&&(this.resetState(T),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,R){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:R}:{navigationId:T}}static{this.\u0275fac=(()=>{let T;return function(V){return(T||(T=g.xGo(v)))(V||v)}})()}static{this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})();var ur=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(ur||{});function vn(v){throw v}const Pi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Tt=(()=>{class v{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,g.WQX)(g.H3F),this.stateManager=(0,g.WQX)(Hr),this.options=(0,g.WQX)(dr,{optional:!0})||{},this.pendingTasks=(0,g.WQX)(g.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,g.WQX)(le),this.urlSerializer=(0,g.WQX)(Rn),this.location=(0,g.WQX)(mt.aZ),this.urlHandlingStrategy=(0,g.WQX)(ea),this._events=new Mn.B,this.errorHandler=this.options.errorHandler||vn,this.navigated=!1,this.routeReuseStrategy=(0,g.WQX)(vt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,g.WQX)($o,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,g.WQX)(ao,{optional:!0}),this.eventsSubscription=new yt.yU,this.isNgZoneEnabled=(0,g.WQX)(g.SKi)instanceof g.SKi&&g.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:T=>{this.console.warn(T)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(R=>{try{const V=this.navigationTransitions.currentTransition,X=this.navigationTransitions.currentNavigation;if(null!==V&&null!==X)if(this.stateManager.handleRouterEvent(R,X),R instanceof ni&&R.code!==us.Redirect&&R.code!==us.SupersededByNewNavigation)this.navigated=!0;else if(R instanceof Hs)this.navigated=!0;else if(R instanceof oo){const fe=this.urlHandlingStrategy.merge(R.url,V.currentRawUrl),Je={info:V.extras.info,skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xe(V.source)};this.scheduleNavigation(fe,$s,null,Je,{resolve:V.resolve,reject:V.reject,promise:V.promise})}(function Sr(v){return!(v instanceof tn||v instanceof oo)})(R)&&this._events.next(R)}catch(V){this.navigationTransitions.transitionAbortSubject.next(V)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$s,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((T,R)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(T,"popstate",R)},0)})}navigateToSyncWithBrowser(T,R,V){const X={replaceUrl:!0},fe=V?.navigationId?V:null;if(V){const $e={...V};delete $e.navigationId,delete $e.\u0275routerPageId,0!==Object.keys($e).length&&(X.state=$e)}const Je=this.parseUrl(T);this.scheduleNavigation(Je,R,fe,X)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(kn),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,R={}){const{relativeTo:V,queryParams:X,fragment:fe,queryParamsHandling:Je,preserveFragment:$e}=R,Kt=$e?this.currentUrlTree.fragment:fe;let tr,er=null;switch(Je){case"merge":er={...this.currentUrlTree.queryParams,...X};break;case"preserve":er=this.currentUrlTree.queryParams;break;default:er=X||null}null!==er&&(er=this.removeEmptyProps(er));try{tr=ns(V?V.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),tr=this.currentUrlTree.root}return js(tr,T,er,Kt??null)}navigateByUrl(T,R={skipLocationChange:!1}){const V=fi(T)?T:this.parseUrl(T),X=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(X,$s,null,R)}navigate(T,R={skipLocationChange:!1}){return function mn(v){for(let S=0;S<v.length;S++)if(null==v[S])throw new g.wOt(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,R),R)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){try{return this.urlSerializer.parse(T)}catch{return this.urlSerializer.parse("/")}}isActive(T,R){let V;if(V=!0===R?{...Pi}:!1===R?{...zr}:R,fi(T))return Jt(this.currentUrlTree,T,V);const X=this.parseUrl(T);return Jt(this.currentUrlTree,X,V)}removeEmptyProps(T){return Object.entries(T).reduce((R,[V,X])=>(null!=X&&(R[V]=X),R),{})}scheduleNavigation(T,R,V,X,fe){if(this.disposed)return Promise.resolve(!1);let Je,$e,Kt;fe?(Je=fe.resolve,$e=fe.reject,Kt=fe.promise):Kt=new Promise((tr,Di)=>{Je=tr,$e=Di});const er=this.pendingTasks.add();return function cr(v,S){v.events.pipe((0,Ut.p)(T=>T instanceof Hs||T instanceof ni||T instanceof io||T instanceof wr),(0,Ze.T)(T=>T instanceof Hs||T instanceof wr?ur.COMPLETE:T instanceof ni&&(T.code===us.Redirect||T.code===us.SupersededByNewNavigation)?ur.REDIRECTING:ur.FAILED),(0,Ut.p)(T=>T!==ur.REDIRECTING),(0,It.s)(1)).subscribe(()=>{S()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(er))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:T,extras:X,resolve:Je,reject:$e,promise:Kt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Kt.catch(tr=>Promise.reject(tr))}static{this.\u0275fac=function(R){return new(R||v)}}static{this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})(),Ai=(()=>{class v{constructor(T,R,V,X,fe,Je){this.router=T,this.route=R,this.tabIndexAttribute=V,this.renderer=X,this.el=fe,this.locationStrategy=Je,this.href=null,this.commands=null,this.onChanges=new Mn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const $e=fe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===$e||"area"===$e,this.isAnchorElement?this.subscription=T.events.subscribe(Kt=>{Kt instanceof Hs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,R,V,X,fe){const Je=this.urlTree;return!!(null===Je||this.isAnchorElement&&(0!==T||R||V||X||fe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Je,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const T=this.urlTree;this.href=null!==T&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(T)):null;const R=null===this.href?null:(0,g.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",R)}applyAttributeValue(T,R){const V=this.renderer,X=this.el.nativeElement;null!==R?V.setAttribute(X,T,R):V.removeAttribute(X,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(R){return new(R||v)(g.rXU(Tt),g.rXU(xi),g.kS0("tabindex"),g.rXU(g.sFG),g.rXU(g.aKT),g.rXU(mt.hb))}}static{this.\u0275dir=g.FsC({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(R,V){1&R&&g.bIt("click",function(fe){return V.onClick(fe.button,fe.ctrlKey,fe.shiftKey,fe.altKey,fe.metaKey)}),2&R&&g.BMQ("target",V.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[g.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",g.L39],skipLocationChange:[g.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",g.L39],replaceUrl:[g.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",g.L39],routerLink:"routerLink"},standalone:!0,features:[g.GFd,g.OA$]})}}return v})(),yi=(()=>{class v{get isActive(){return this._isActive}constructor(T,R,V,X,fe){this.router=T,this.element=R,this.renderer=V,this.cdr=X,this.link=fe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.bkB,this.routerEventsSubscription=T.events.subscribe(Je=>{Je instanceof Hs&&this.update()})}ngAfterContentInit(){(0,pe.of)(this.links.changes,(0,pe.of)(null)).pipe((0,wt.U)()).subscribe(T=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const T=[...this.links.toArray(),this.link].filter(R=>!!R).map(R=>R.onChanges);this.linkInputChangesSubscription=(0,ce.H)(T).pipe((0,wt.U)()).subscribe(R=>{this._isActive!==this.isLinkActive(this.router)(R)&&this.update()})}set routerLinkActive(T){const R=Array.isArray(T)?T:T.split(" ");this.classes=R.filter(V=>!!V)}ngOnChanges(T){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const T=this.hasActiveLinks();this.classes.forEach(R=>{T?this.renderer.addClass(this.element.nativeElement,R):this.renderer.removeClass(this.element.nativeElement,R)}),T&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==T&&(this._isActive=T,this.cdr.markForCheck(),this.isActiveChange.emit(T))})}isLinkActive(T){const R=function Gi(v){return!!v.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return V=>{const X=V.urlTree;return!!X&&T.isActive(X,R)}}hasActiveLinks(){const T=this.isLinkActive(this.router);return this.link&&T(this.link)||this.links.some(T)}static{this.\u0275fac=function(R){return new(R||v)(g.rXU(Tt),g.rXU(g.aKT),g.rXU(g.sFG),g.rXU(g.gRc),g.rXU(Ai,8))}}static{this.\u0275dir=g.FsC({type:v,selectors:[["","routerLinkActive",""]],contentQueries:function(R,V,X){if(1&R&&g.wni(X,Ai,5),2&R){let fe;g.mGM(fe=g.lsd())&&(V.links=fe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[g.OA$]})}}return v})();const Fn=new g.nKC("");function tl(v,...S){return(0,g.EmA)([{provide:$o,multi:!0,useValue:v},[],{provide:xi,useFactory:ta,deps:[Tt]},{provide:g.iLQ,multi:!0,useFactory:nl},S.map(T=>T.\u0275providers)])}function ta(v){return v.routerState.root}function nl(){const v=(0,g.WQX)(g.zZn);return S=>{const T=v.get(g.o8S);if(S!==T.components[0])return;const R=v.get(Tt),V=v.get(Lo);1===v.get(Ho)&&R.initialNavigation(),v.get(mi,null,g.$GK.Optional)?.setUpPreloading(),v.get(Fn,null,g.$GK.Optional)?.init(),R.resetRootComponentType(T.componentTypes[0]),V.closed||(V.next(),V.complete(),V.unsubscribe())}}const Lo=new g.nKC("",{factory:()=>new Mn.B}),Ho=new g.nKC("",{providedIn:"root",factory:()=>1}),mi=new g.nKC("")},7852:(Qt,Ke,$)=>{$.d(Ke,{MF:()=>Zn,j6:()=>$t,xZ:()=>On,om:()=>xr,Sx:()=>ae,Dk:()=>be,Wp:()=>G,KO:()=>oe});var g=$(467),re=$(1362),ce=$(8041),pe=$(1076);const Se=(qe,xe)=>xe.some(lt=>qe instanceof lt);let ge,Pe;const he=new WeakMap,_e=new WeakMap,ze=new WeakMap,nt=new WeakMap,ut=new WeakMap;let Yt={get(qe,xe,lt){if(qe instanceof IDBTransaction){if("done"===xe)return _e.get(qe);if("objectStoreNames"===xe)return qe.objectStoreNames||ze.get(qe);if("store"===xe)return lt.objectStoreNames[1]?void 0:lt.objectStore(lt.objectStoreNames[0])}return mt(qe[xe])},set:(qe,xe,lt)=>(qe[xe]=lt,!0),has:(qe,xe)=>qe instanceof IDBTransaction&&("done"===xe||"store"===xe)||xe in qe};function Mn(qe){return"function"==typeof qe?function zn(qe){return qe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(qe)?function(...xe){return qe.apply(Ze(this),xe),mt(he.get(this))}:function(...xe){return mt(qe.apply(Ze(this),xe))}:function(xe,...lt){const Lt=qe.call(Ze(this),xe,...lt);return ze.set(Lt,xe.sort?xe.sort():[xe]),mt(Lt)}}(qe):(qe instanceof IDBTransaction&&function Ft(qe){if(_e.has(qe))return;const xe=new Promise((lt,Lt)=>{const Cn=()=>{qe.removeEventListener("complete",an),qe.removeEventListener("error",xn),qe.removeEventListener("abort",xn)},an=()=>{lt(),Cn()},xn=()=>{Lt(qe.error||new DOMException("AbortError","AbortError")),Cn()};qe.addEventListener("complete",an),qe.addEventListener("error",xn),qe.addEventListener("abort",xn)});_e.set(qe,xe)}(qe),Se(qe,function it(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(qe,Yt):qe)}function mt(qe){if(qe instanceof IDBRequest)return function yt(qe){const xe=new Promise((lt,Lt)=>{const Cn=()=>{qe.removeEventListener("success",an),qe.removeEventListener("error",xn)},an=()=>{lt(mt(qe.result)),Cn()},xn=()=>{Lt(qe.error),Cn()};qe.addEventListener("success",an),qe.addEventListener("error",xn)});return xe.then(lt=>{lt instanceof IDBCursor&&he.set(lt,qe)}).catch(()=>{}),ut.set(xe,qe),xe}(qe);if(nt.has(qe))return nt.get(qe);const xe=Mn(qe);return xe!==qe&&(nt.set(qe,xe),ut.set(xe,qe)),xe}const Ze=qe=>ut.get(qe),rn=["get","getKey","getAll","getAllKeys","count"],Ut=["put","add","delete","clear"],ye=new Map;function Qe(qe,xe){if(!(qe instanceof IDBDatabase)||xe in qe||"string"!=typeof xe)return;if(ye.get(xe))return ye.get(xe);const lt=xe.replace(/FromIndex$/,""),Lt=xe!==lt,Cn=Ut.includes(lt);if(!(lt in(Lt?IDBIndex:IDBObjectStore).prototype)||!Cn&&!rn.includes(lt))return;const an=function(){var xn=(0,g.A)(function*(hn,...Er){const lr=this.transaction(hn,Cn?"readwrite":"readonly");let Ns=lr.store;return Lt&&(Ns=Ns.index(Er.shift())),(yield Promise.all([Ns[lt](...Er),Cn&&lr.done]))[0]});return function(Er){return xn.apply(this,arguments)}}();return ye.set(xe,an),an}!function Xt(qe){Yt=qe(Yt)}(qe=>({...qe,get:(xe,lt,Lt)=>Qe(xe,lt)||qe.get(xe,lt,Lt),has:(xe,lt)=>!!Qe(xe,lt)||qe.has(xe,lt)}));class Ot{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(lt=>{if(function Qn(qe){const xe=qe.getComponent();return"VERSION"===xe?.type}(lt)){const Lt=lt.getImmediate();return`${Lt.library}/${Lt.version}`}return null}).filter(lt=>lt).join(" ")}}const Dr="@firebase/app",ot="0.10.13",Pt=new ce.Vy("@firebase/app"),wn="[DEFAULT]",Zt={[Dr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,pr=new Map,Or=new Map;function Nn(qe,xe){try{qe.container.addComponent(xe)}catch(lt){Pt.debug(`Component ${xe.name} failed to register with FirebaseApp ${qe.name}`,lt)}}function xr(qe){const xe=qe.name;if(Or.has(xe))return Pt.debug(`There were multiple attempts to register component ${xe}.`),!1;Or.set(xe,qe);for(const lt of Ct.values())Nn(lt,qe);for(const lt of pr.values())Nn(lt,qe);return!0}function $t(qe,xe){const lt=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return lt&&lt.triggerHeartbeat(),qe.container.getProvider(xe)}function On(qe){return void 0!==qe.settings}const Mr=new pe.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Vi{constructor(xe,lt,Lt){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},lt),this._name=lt.name,this._automaticDataCollectionEnabled=lt.automaticDataCollectionEnabled,this._container=Lt,this.container.addComponent(new re.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}const Zn="10.14.1";function G(qe,xe={}){let lt=qe;"object"!=typeof xe&&(xe={name:xe});const Lt=Object.assign({name:wn,automaticDataCollectionEnabled:!1},xe),Cn=Lt.name;if("string"!=typeof Cn||!Cn)throw Mr.create("bad-app-name",{appName:String(Cn)});if(lt||(lt=(0,pe.T9)()),!lt)throw Mr.create("no-options");const an=Ct.get(Cn);if(an){if((0,pe.bD)(lt,an.options)&&(0,pe.bD)(Lt,an.config))return an;throw Mr.create("duplicate-app",{appName:Cn})}const xn=new re.h1(Cn);for(const Er of Or.values())xn.addComponent(Er);const hn=new Vi(lt,Lt,xn);return Ct.set(Cn,hn),hn}function ae(qe=wn){const xe=Ct.get(qe);if(!xe&&qe===wn&&(0,pe.T9)())return G();if(!xe)throw Mr.create("no-app",{appName:qe});return xe}function be(){return Array.from(Ct.values())}function oe(qe,xe,lt){var Lt;let Cn=null!==(Lt=Zt[qe])&&void 0!==Lt?Lt:qe;lt&&(Cn+=`-${lt}`);const an=Cn.match(/\s|\//),xn=xe.match(/\s|\//);if(an||xn){const hn=[`Unable to register library "${Cn}" with version "${xe}":`];return an&&hn.push(`library name "${Cn}" contains illegal characters (whitespace or "/")`),an&&xn&&hn.push("and"),xn&&hn.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void Pt.warn(hn.join(" "))}xr(new re.uA(`${Cn}-version`,()=>({library:Cn,version:xe}),"VERSION"))}const tt="firebase-heartbeat-database",Ue=1,bt="firebase-heartbeat-store";let Pn=null;function ir(){return Pn||(Pn=function pt(qe,xe,{blocked:lt,upgrade:Lt,blocking:Cn,terminated:an}={}){const xn=indexedDB.open(qe,xe),hn=mt(xn);return Lt&&xn.addEventListener("upgradeneeded",Er=>{Lt(mt(xn.result),Er.oldVersion,Er.newVersion,mt(xn.transaction),Er)}),lt&&xn.addEventListener("blocked",Er=>lt(Er.oldVersion,Er.newVersion,Er)),hn.then(Er=>{an&&Er.addEventListener("close",()=>an()),Cn&&Er.addEventListener("versionchange",lr=>Cn(lr.oldVersion,lr.newVersion,lr))}).catch(()=>{}),hn}(tt,Ue,{upgrade:(qe,xe)=>{if(0===xe)try{qe.createObjectStore(bt)}catch(lt){console.warn(lt)}}}).catch(qe=>{throw Mr.create("idb-open",{originalErrorMessage:qe.message})})),Pn}function Wn(){return(Wn=(0,g.A)(function*(qe){try{const lt=(yield ir()).transaction(bt),Lt=yield lt.objectStore(bt).get(fi(qe));return yield lt.done,Lt}catch(xe){if(xe instanceof pe.g)Pt.warn(xe.message);else{const lt=Mr.create("idb-get",{originalErrorMessage:xe?.message});Pt.warn(lt.message)}}})).apply(this,arguments)}function zt(qe,xe){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,g.A)(function*(qe,xe){try{const Lt=(yield ir()).transaction(bt,"readwrite");yield Lt.objectStore(bt).put(xe,fi(qe)),yield Lt.done}catch(lt){if(lt instanceof pe.g)Pt.warn(lt.message);else{const Lt=Mr.create("idb-set",{originalErrorMessage:lt?.message});Pt.warn(Lt.message)}}})).apply(this,arguments)}function fi(qe){return`${qe.name}!${qe.options.appId}`}class js{constructor(xe){this.container=xe,this._heartbeatsCache=null;const lt=this.container.getProvider("app").getImmediate();this._storage=new Ps(lt),this._heartbeatsCachePromise=this._storage.read().then(Lt=>(this._heartbeatsCache=Lt,Lt))}triggerHeartbeat(){var xe=this;return(0,g.A)(function*(){var lt,Lt;try{const an=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xn=Jn();return null==(null===(lt=xe._heartbeatsCache)||void 0===lt?void 0:lt.heartbeats)&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise,null==(null===(Lt=xe._heartbeatsCache)||void 0===Lt?void 0:Lt.heartbeats))||xe._heartbeatsCache.lastSentHeartbeatDate===xn||xe._heartbeatsCache.heartbeats.some(hn=>hn.date===xn)?void 0:(xe._heartbeatsCache.heartbeats.push({date:xn,agent:an}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(hn=>{const Er=new Date(hn.date).valueOf();return Date.now()-Er<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache))}catch(Cn){Pt.warn(Cn)}})()}getHeartbeatsHeader(){var xe=this;return(0,g.A)(function*(){var lt;try{if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null==(null===(lt=xe._heartbeatsCache)||void 0===lt?void 0:lt.heartbeats)||0===xe._heartbeatsCache.heartbeats.length)return"";const Lt=Jn(),{heartbeatsToSend:Cn,unsentEntries:an}=function ro(qe,xe=1024){const lt=[];let Lt=qe.slice();for(const Cn of qe){const an=lt.find(xn=>xn.agent===Cn.agent);if(an){if(an.dates.push(Cn.date),Ms(lt)>xe){an.dates.pop();break}}else if(lt.push({agent:Cn.agent,dates:[Cn.date]}),Ms(lt)>xe){lt.pop();break}Lt=Lt.slice(1)}return{heartbeatsToSend:lt,unsentEntries:Lt}}(xe._heartbeatsCache.heartbeats),xn=(0,pe.Uj)(JSON.stringify({version:2,heartbeats:Cn}));return xe._heartbeatsCache.lastSentHeartbeatDate=Lt,an.length>0?(xe._heartbeatsCache.heartbeats=an,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),xn}catch(Lt){return Pt.warn(Lt),""}})()}}function Jn(){return(new Date).toISOString().substring(0,10)}class Ps{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.A)(function*(){return!!(0,pe.zW)()&&(0,pe.eX)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,g.A)(function*(){if(yield xe._canUseIndexedDBPromise){const Lt=yield function ai(qe){return Wn.apply(this,arguments)}(xe.app);return Lt?.heartbeats?Lt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(xe){var lt=this;return(0,g.A)(function*(){var Lt;if(yield lt._canUseIndexedDBPromise){const an=yield lt.read();return zt(lt.app,{lastSentHeartbeatDate:null!==(Lt=xe.lastSentHeartbeatDate)&&void 0!==Lt?Lt:an.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var lt=this;return(0,g.A)(function*(){var Lt;if(yield lt._canUseIndexedDBPromise){const an=yield lt.read();return zt(lt.app,{lastSentHeartbeatDate:null!==(Lt=xe.lastSentHeartbeatDate)&&void 0!==Lt?Lt:an.lastSentHeartbeatDate,heartbeats:[...an.heartbeats,...xe.heartbeats]})}})()}}function Ms(qe){return(0,pe.Uj)(JSON.stringify({version:2,heartbeats:qe})).length}!function Ni(qe){xr(new re.uA("platform-logger",xe=>new Ot(xe),"PRIVATE")),xr(new re.uA("heartbeat",xe=>new js(xe),"PRIVATE")),oe(Dr,ot,qe),oe(Dr,ot,"esm2017"),oe("fire-js","")}("")},1362:(Qt,Ke,$)=>{$.d(Ke,{h1:()=>it,uA:()=>ce});var g=$(467),re=$(1076);class ce{constructor(he,_e,ze){this.name=he,this.instanceFactory=_e,this.type=ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const pe="[DEFAULT]";class Se{constructor(he,_e){this.name=he,this.container=_e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const _e=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(_e)){const ze=new re.cY;if(this.instancesDeferred.set(_e,ze),this.isInitialized(_e)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:_e});nt&&ze.resolve(nt)}catch{}}return this.instancesDeferred.get(_e).promise}getImmediate(he){var _e;const ze=this.normalizeInstanceIdentifier(he?.identifier),nt=null!==(_e=he?.optional)&&void 0!==_e&&_e;if(!this.isInitialized(ze)&&!this.shouldAutoInitialize()){if(nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ze})}catch(ut){if(nt)return null;throw ut}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function Pe(He){return"EAGER"===He.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[_e,ze]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(_e);try{const ut=this.getOrInitializeService({instanceIdentifier:nt});ze.resolve(ut)}catch{}}}}clearInstance(he=pe){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,g.A)(function*(){const _e=Array.from(he.instances.values());yield Promise.all([..._e.filter(ze=>"INTERNAL"in ze).map(ze=>ze.INTERNAL.delete()),..._e.filter(ze=>"_delete"in ze).map(ze=>ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=pe){return this.instances.has(he)}getOptions(he=pe){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:_e={}}=he,ze=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(ze))throw Error(`${this.name}(${ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:ze,options:_e});for(const[ut,yt]of this.instancesDeferred.entries())ze===this.normalizeInstanceIdentifier(ut)&&yt.resolve(nt);return nt}onInit(he,_e){var ze;const nt=this.normalizeInstanceIdentifier(_e),ut=null!==(ze=this.onInitCallbacks.get(nt))&&void 0!==ze?ze:new Set;ut.add(he),this.onInitCallbacks.set(nt,ut);const yt=this.instances.get(nt);return yt&&he(yt,nt),()=>{ut.delete(he)}}invokeOnInitCallbacks(he,_e){const ze=this.onInitCallbacks.get(_e);if(ze)for(const nt of ze)try{nt(he,_e)}catch{}}getOrInitializeService({instanceIdentifier:he,options:_e={}}){let ze=this.instances.get(he);if(!ze&&this.component&&(ze=this.component.instanceFactory(this.container,{instanceIdentifier:(He=he,He===pe?void 0:He),options:_e}),this.instances.set(he,ze),this.instancesOptions.set(he,_e),this.invokeOnInitCallbacks(ze,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,ze)}catch{}var He;return ze||null}normalizeInstanceIdentifier(he=pe){return this.component?this.component.multipleInstances?he:pe:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class it{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const _e=this.getProvider(he.name);if(_e.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);_e.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const _e=new Se(he,this);return this.providers.set(he,_e),_e}getProviders(){return Array.from(this.providers.values())}}},8041:(Qt,Ke,$)=>{$.d(Ke,{$b:()=>re,Vy:()=>Pe});const g=[];var re=function(he){return he[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",he}(re||{});const ce={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},pe=re.INFO,Se={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},ge=(he,_e,...ze)=>{if(_e<he.logLevel)return;const nt=(new Date).toISOString(),ut=Se[_e];if(!ut)throw new Error(`Attempted to log a message with an invalid logType (value: ${_e})`);console[ut](`[${nt}]  ${he.name}:`,...ze)};class Pe{constructor(_e){this.name=_e,this._logLevel=pe,this._logHandler=ge,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(_e){if(!(_e in re))throw new TypeError(`Invalid value "${_e}" assigned to \`logLevel\``);this._logLevel=_e}setLogLevel(_e){this._logLevel="string"==typeof _e?ce[_e]:_e}get logHandler(){return this._logHandler}set logHandler(_e){if("function"!=typeof _e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_e}get userLogHandler(){return this._userLogHandler}set userLogHandler(_e){this._userLogHandler=_e}debug(..._e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,..._e),this._logHandler(this,re.DEBUG,..._e)}log(..._e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,..._e),this._logHandler(this,re.VERBOSE,..._e)}info(..._e){this._userLogHandler&&this._userLogHandler(this,re.INFO,..._e),this._logHandler(this,re.INFO,..._e)}warn(..._e){this._userLogHandler&&this._userLogHandler(this,re.WARN,..._e),this._logHandler(this,re.WARN,..._e)}error(..._e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,..._e),this._logHandler(this,re.ERROR,..._e)}}},2214:(Qt,Ke,$)=>{$.d(Ke,{Dk:()=>g.Dk,KO:()=>g.KO,Sx:()=>g.Sx,Wp:()=>g.Wp});var g=$(7852);(0,g.KO)("firebase","10.14.1","app")},9579:(Qt,Ke,$)=>{$.d(Ke,{HF:()=>yr,eJ:()=>et,xI:()=>_d,iZ:()=>Hr,x9:()=>pn,df:()=>Sp,CI:()=>Pi});var g=$(467),re=$(7852),ce=$(1076),pe=$(8041),Se=$(1635),ge=$(1362);const yt=function nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ft=new ce.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xt=new pe.Vy("@firebase/auth");function Mn(E,...d){Xt.logLevel<=pe.$b.ERROR&&Xt.error(`Auth (${re.MF}): ${E}`,...d)}function mt(E,...d){throw Ut(E,...d)}function Ze(E,...d){return Ut(E,...d)}function pt(E,d,m){const A=Object.assign(Object.assign({},yt()),{[d]:m});return new ce.FA("auth","Firebase",A).create(d,{appName:E.name})}function It(E){return pt(E,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ut(E,...d){if("string"!=typeof E){const m=d[0],A=[...d.slice(1)];return A[0]&&(A[0].appName=E.name),E._errorFactory.create(m,...A)}return Ft.create(E,...d)}function ye(E,d,...m){if(!E)throw Ut(d,...m)}function Qe(E){const d="INTERNAL ASSERTION FAILED: "+E;throw Mn(d),new Error(d)}function Ot(E,d){E||Qe(d)}function Qn(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function ot(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class sn{constructor(d,m){this.shortDelay=d,this.longDelay=m,Ot(m>d,"Short delay should be less than long delay!"),this.isMobile=(0,ce.jZ)()||(0,ce.lV)()}get(){return function Pt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Dr(){return"http:"===ot()||"https:"===ot()}()||(0,ce.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Et(E,d){Ot(E.emulator,"Emulator should always be set here");const{url:m}=E.emulator;return d?`${m}${d.startsWith("/")?d.slice(1):d}`:m}class Mt{static initialize(d,m,A){this.fetchImpl=d,m&&(this.headersImpl=m),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},me=new sn(3e4,6e4);function ne(E,d){return E.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:E.tenantId}):d}function se(E,d,m,A){return dt.apply(this,arguments)}function dt(){return(dt=(0,g.A)(function*(E,d,m,A,U={}){return wt(E,U,(0,g.A)(function*(){let Y={},Ae={};A&&("GET"===d?Ae=A:Y={body:JSON.stringify(A)});const We=(0,ce.Am)(Object.assign({key:E.config.apiKey},Ae)).slice(1),gt=yield E._getAdditionalHeaders();gt["Content-Type"]="application/json",E.languageCode&&(gt["X-Firebase-Locale"]=E.languageCode);const dn=Object.assign({method:d,headers:gt},Y);return(0,ce.c1)()||(dn.referrerPolicy="no-referrer"),Mt.fetch()(Gt(E,E.config.apiHost,m,We),dn)}))})).apply(this,arguments)}function wt(E,d,m){return cn.apply(this,arguments)}function cn(){return(cn=(0,g.A)(function*(E,d,m){E._canInitEmulator=!1;const A=Object.assign(Object.assign({},Oe),d);try{const U=new Tr(E),Y=yield Promise.race([m(),U.promise]);U.clearNetworkTimeout();const Ae=yield Y.json();if("needConfirmation"in Ae)throw Li(E,"account-exists-with-different-credential",Ae);if(Y.ok&&!("errorMessage"in Ae))return Ae;{const We=Y.ok?Ae.errorMessage:Ae.error.message,[gt,dn]=We.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===gt)throw Li(E,"credential-already-in-use",Ae);if("EMAIL_EXISTS"===gt)throw Li(E,"email-already-in-use",Ae);if("USER_DISABLED"===gt)throw Li(E,"user-disabled",Ae);const qn=A[gt]||gt.toLowerCase().replace(/[_\s]+/g,"-");if(dn)throw pt(E,qn,dn);mt(E,qn)}}catch(U){if(U instanceof ce.g)throw U;mt(E,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function xt(E,d,m,A){return on.apply(this,arguments)}function on(){return(on=(0,g.A)(function*(E,d,m,A,U={}){const Y=yield se(E,d,m,A,U);return"mfaPendingCredential"in Y&&mt(E,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function Gt(E,d,m,A){const U=`${d}${m}?${A}`;return E.config.emulator?Et(E.config,U):`${E.config.apiScheme}://${U}`}function $n(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((m,A)=>{this.timer=setTimeout(()=>A(Ze(this.auth,"network-request-failed")),me.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Li(E,d,m){const A={appName:E.name};m.email&&(A.email=m.email),m.phoneNumber&&(A.phoneNumber=m.phoneNumber);const U=Ze(E,d,A);return U.customData._tokenResponse=m,U}function fr(E){return void 0!==E&&void 0!==E.enterprise}class Br{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===d)return $n(m.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function Xi(E,d){return rr.apply(this,arguments)}function rr(){return(rr=(0,g.A)(function*(E,d){return se(E,"GET","/v2/recaptchaConfig",ne(E,d))})).apply(this,arguments)}function as(){return(as=(0,g.A)(function*(E,d){return se(E,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Zt(E,d){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,g.A)(function*(E,d){return se(E,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function pr(E){if(E)try{const d=new Date(Number(E));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function hr(){return(hr=(0,g.A)(function*(E,d=!1){const m=(0,ce.Ku)(E),A=yield m.getIdToken(d),U=$t(A);ye(U&&U.exp&&U.auth_time&&U.iat,m.auth,"internal-error");const Y="object"==typeof U.firebase?U.firebase:void 0,Ae=Y?.sign_in_provider;return{claims:U,token:A,authTime:pr(xr(U.auth_time)),issuedAtTime:pr(xr(U.iat)),expirationTime:pr(xr(U.exp)),signInProvider:Ae||null,signInSecondFactor:Y?.sign_in_second_factor||null}})).apply(this,arguments)}function xr(E){return 1e3*Number(E)}function $t(E){const[d,m,A]=E.split(".");if(void 0===d||void 0===m||void 0===A)return Mn("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,ce.u)(m);return U?JSON.parse(U):(Mn("Failed to decode base64 JWT payload"),null)}catch(U){return Mn("Caught error parsing JWT payload as JSON",U?.toString()),null}}function Ei(E){const d=$t(E);return ye(d,"internal-error"),ye(typeof d.exp<"u","internal-error"),ye(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function Rn(E,d){return On.apply(this,arguments)}function On(){return(On=(0,g.A)(function*(E,d,m=!1){if(m)return d;try{return yield d}catch(A){throw A instanceof ce.g&&function si({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(A)&&E.auth.currentUser===E&&(yield E.auth.signOut()),A}})).apply(this,arguments)}class vr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var m;if(d){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const U=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(d=!1){var m=this;if(!this.isRunning)return;const A=this.getInterval(d);this.timerId=setTimeout((0,g.A)(function*(){yield m.iteration()}),A)}iteration(){var d=this;return(0,g.A)(function*(){try{yield d.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&d.schedule(!0))}d.schedule()})()}}class Mr{constructor(d,m){this.createdAt=d,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=pr(this.lastLoginAt),this.creationTime=pr(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vi(E){return oi.apply(this,arguments)}function oi(){return(oi=(0,g.A)(function*(E){var d;const m=E.auth,A=yield E.getIdToken(),U=yield Rn(E,Zt(m,{idToken:A}));ye(U?.users.length,m,"internal-error");const Y=U.users[0];E._notifyReloadListener(Y);const Ae=null!==(d=Y.providerUserInfo)&&void 0!==d&&d.length?ae(Y.providerUserInfo):[],We=function Ne(E,d){return[...E.filter(A=>!d.some(U=>U.providerId===A.providerId)),...d]}(E.providerData,Ae),qn=!!E.isAnonymous&&!(E.email&&Y.passwordHash||We?.length),Bn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:We,metadata:new Mr(Y.createdAt,Y.lastLoginAt),isAnonymous:qn};Object.assign(E,Bn)})).apply(this,arguments)}function G(){return(G=(0,g.A)(function*(E){const d=(0,ce.Ku)(E);yield Vi(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function ae(E){return E.map(d=>{var{providerId:m}=d,A=(0,Se.Tt)(d,["providerId"]);return{providerId:m,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function ft(){return(ft=(0,g.A)(function*(E,d){const m=yield wt(E,{},(0,g.A)(function*(){const A=(0,ce.Am)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:U,apiKey:Y}=E.config,Ae=Gt(E,U,"/v1/token",`key=${Y}`),We=yield E._getAdditionalHeaders();return We["Content-Type"]="application/x-www-form-urlencoded",Mt.fetch()(Ae,{method:"POST",headers:We,body:A})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function oe(){return(oe=(0,g.A)(function*(E,d){return se(E,"POST","/v2/accounts:revokeToken",ne(E,d))})).apply(this,arguments)}class ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ye(d.idToken,"internal-error"),ye(typeof d.idToken<"u","internal-error"),ye(typeof d.refreshToken<"u","internal-error");const m="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):Ei(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,m)}updateFromIdToken(d){ye(0!==d.length,"internal-error");const m=Ei(d);this.updateTokensAndExpiration(d,null,m)}getToken(d){var m=this;return(0,g.A)(function*(A,U=!1){return U||!m.accessToken||m.isExpired?(ye(m.refreshToken,A,"user-token-expired"),m.refreshToken?(yield m.refresh(A,m.refreshToken),m.accessToken):null):m.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(d,m){var A=this;return(0,g.A)(function*(){const{accessToken:U,refreshToken:Y,expiresIn:Ae}=yield function be(E,d){return ft.apply(this,arguments)}(d,m);A.updateTokensAndExpiration(U,Y,Number(Ae))})()}updateTokensAndExpiration(d,m,A){this.refreshToken=m||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(d,m){const{refreshToken:A,accessToken:U,expirationTime:Y}=m,Ae=new ue;return A&&(ye("string"==typeof A,"internal-error",{appName:d}),Ae.refreshToken=A),U&&(ye("string"==typeof U,"internal-error",{appName:d}),Ae.accessToken=U),Y&&(ye("number"==typeof Y,"internal-error",{appName:d}),Ae.expirationTime=Y),Ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new ue,this.toJSON())}_performRefresh(){return Qe("not implemented")}}function Ie(E,d){ye("string"==typeof E||typeof E>"u","internal-error",{appName:d})}class tt{constructor(d){var{uid:m,auth:A,stsTokenManager:U}=d,Y=(0,Se.Tt)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=A,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new Mr(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(d){var m=this;return(0,g.A)(function*(){const A=yield Rn(m,m.stsTokenManager.getToken(m.auth,d));return ye(A,m.auth,"internal-error"),m.accessToken!==A&&(m.accessToken=A,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),A})()}getIdTokenResult(d){return function Nn(E){return hr.apply(this,arguments)}(this,d)}reload(){return function Zn(E){return G.apply(this,arguments)}(this)}_assign(d){this!==d&&(ye(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(m=>Object.assign({},m)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const m=new tt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(d){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d){var m=this;return(0,g.A)(function*(A,U=!1){let Y=!1;A.idToken&&A.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(A),Y=!0),U&&(yield Vi(m)),yield m.auth._persistUserIfCurrent(m),Y&&m.auth._notifyListenersIfCurrent(m)}).apply(this,arguments)}delete(){var d=this;return(0,g.A)(function*(){if((0,re.xZ)(d.auth.app))return Promise.reject(It(d.auth));const m=yield d.getIdToken();return yield Rn(d,function Jt(E,d){return as.apply(this,arguments)}(d.auth,{idToken:m})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,m){var A,U,Y,Ae,We,gt,dn,qn;const Bn=null!==(A=m.displayName)&&void 0!==A?A:void 0,ii=null!==(U=m.email)&&void 0!==U?U:void 0,Aa=null!==(Y=m.phoneNumber)&&void 0!==Y?Y:void 0,Tu=null!==(Ae=m.photoURL)&&void 0!==Ae?Ae:void 0,ss=null!==(We=m.tenantId)&&void 0!==We?We:void 0,vl=null!==(gt=m._redirectEventId)&&void 0!==gt?gt:void 0,El=null!==(dn=m.createdAt)&&void 0!==dn?dn:void 0,Rc=null!==(qn=m.lastLoginAt)&&void 0!==qn?qn:void 0,{uid:Da,emailVerified:Ca,isAnonymous:yd,providerData:Il,stsTokenManager:vd}=m;ye(Da&&vd,d,"internal-error");const Qu=ue.fromJSON(this.name,vd);ye("string"==typeof Da,d,"internal-error"),Ie(Bn,d.name),Ie(ii,d.name),ye("boolean"==typeof Ca,d,"internal-error"),ye("boolean"==typeof yd,d,"internal-error"),Ie(Aa,d.name),Ie(Tu,d.name),Ie(ss,d.name),Ie(vl,d.name),Ie(El,d.name),Ie(Rc,d.name);const Ga=new tt({uid:Da,auth:d,email:ii,emailVerified:Ca,displayName:Bn,isAnonymous:yd,photoURL:Tu,phoneNumber:Aa,tenantId:ss,stsTokenManager:Qu,createdAt:El,lastLoginAt:Rc});return Il&&Array.isArray(Il)&&(Ga.providerData=Il.map(Ss=>Object.assign({},Ss))),vl&&(Ga._redirectEventId=vl),Ga}static _fromIdTokenResponse(d,m){return(0,g.A)(function*(A,U,Y=!1){const Ae=new ue;Ae.updateFromServerResponse(U);const We=new tt({uid:U.localId,auth:A,stsTokenManager:Ae,isAnonymous:Y});return yield Vi(We),We}).apply(this,arguments)}static _fromGetAccountInfoResponse(d,m,A){return(0,g.A)(function*(){const U=m.users[0];ye(void 0!==U.localId,"internal-error");const Y=void 0!==U.providerUserInfo?ae(U.providerUserInfo):[],Ae=!(U.email&&U.passwordHash||Y?.length),We=new ue;We.updateFromIdToken(A);const gt=new tt({uid:U.localId,auth:d,stsTokenManager:We,isAnonymous:Ae}),dn={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:Y,metadata:new Mr(U.createdAt,U.lastLoginAt),isAnonymous:!(U.email&&U.passwordHash||Y?.length)};return Object.assign(gt,dn),gt})()}}const Ue=new Map;function bt(E){Ot(E instanceof Function,"Expected a class definition");let d=Ue.get(E);return d?(Ot(d instanceof E,"Instance stored in cache mismatched with class"),d):(d=new E,Ue.set(E,d),d)}const ir=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.A)(function*(){return!0})()}_set(m,A){var U=this;return(0,g.A)(function*(){U.storage[m]=A})()}_get(m){var A=this;return(0,g.A)(function*(){const U=A.storage[m];return void 0===U?null:U})()}_remove(m){var A=this;return(0,g.A)(function*(){delete A.storage[m]})()}_addListener(m,A){}_removeListener(m,A){}}return E.type="NONE",E})();function ai(E,d,m){return`firebase:${E}:${d}:${m}`}class Wn{constructor(d,m,A){this.persistence=d,this.auth=m,this.userKey=A;const{config:U,name:Y}=this.auth;this.fullUserKey=ai(this.userKey,U.apiKey,Y),this.fullPersistenceKey=ai("persistence",U.apiKey,Y),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,g.A)(function*(){const m=yield d.persistence._get(d.fullUserKey);return m?tt._fromJSON(d.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var m=this;return(0,g.A)(function*(){if(m.persistence===d)return;const A=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=d,A?m.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,m){return(0,g.A)(function*(A,U,Y="authUser"){if(!U.length)return new Wn(bt(ir),A,Y);const Ae=(yield Promise.all(U.map(function(){var Bn=(0,g.A)(function*(ii){if(yield ii._isAvailable())return ii});return function(ii){return Bn.apply(this,arguments)}}()))).filter(Bn=>Bn);let We=Ae[0]||bt(ir);const gt=ai(Y,A.config.apiKey,A.name);let dn=null;for(const Bn of U)try{const ii=yield Bn._get(gt);if(ii){const Aa=tt._fromJSON(A,ii);Bn!==We&&(dn=Aa),We=Bn;break}}catch{}const qn=Ae.filter(Bn=>Bn._shouldAllowMigration);return We._shouldAllowMigration&&qn.length?(We=qn[0],dn&&(yield We._set(gt,dn.toJSON())),yield Promise.all(U.map(function(){var Bn=(0,g.A)(function*(ii){if(ii!==We)try{yield ii._remove(gt)}catch{}});return function(ii){return Bn.apply(this,arguments)}}())),new Wn(We,A,Y)):new Wn(We,A,Y)}).apply(this,arguments)}}function zt(E){const d=E.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(ns(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Dn(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Jn(d))return"Blackberry";if(ro(d))return"Webos";if(fi(d))return"Safari";if((d.includes("chrome/")||Bs(d))&&!d.includes("edge/"))return"Chrome";if(js(d))return"Android";{const A=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function Dn(E=(0,ce.ZQ)()){return/firefox\//i.test(E)}function fi(E=(0,ce.ZQ)()){const d=E.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Bs(E=(0,ce.ZQ)()){return/crios\//i.test(E)}function ns(E=(0,ce.ZQ)()){return/iemobile/i.test(E)}function js(E=(0,ce.ZQ)()){return/android/i.test(E)}function Jn(E=(0,ce.ZQ)()){return/blackberry/i.test(E)}function ro(E=(0,ce.ZQ)()){return/webos/i.test(E)}function Ps(E=(0,ce.ZQ)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function xe(E=(0,ce.ZQ)()){return Ps(E)||js(E)||ro(E)||Jn(E)||/windows phone/i.test(E)||ns(E)}function lt(E,d=[]){let m;switch(E){case"Browser":m=zt((0,ce.ZQ)());break;case"Worker":m=`${zt((0,ce.ZQ)())}-${E}`;break;default:m=E}const A=d.length?d.join(","):"FirebaseCore-web";return`${m}/JsCore/${re.MF}/${A}`}class Lt{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,m){const A=Y=>new Promise((Ae,We)=>{try{Ae(d(Y))}catch(gt){We(gt)}});A.onAbort=m,this.queue.push(A);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(d){var m=this;return(0,g.A)(function*(){if(m.auth.currentUser===d)return;const A=[];try{for(const U of m.queue)yield U(d),U.onAbort&&A.push(U.onAbort)}catch(U){A.reverse();for(const Y of A)try{Y()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}function an(){return(an=(0,g.A)(function*(E,d={}){return se(E,"GET","/v2/passwordPolicy",ne(E,d))})).apply(this,arguments)}class hn{constructor(d){var m,A,U,Y;const Ae=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=Ae.minPasswordLength)&&void 0!==m?m:6,Ae.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ae.maxPasswordLength),void 0!==Ae.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ae.containsLowercaseCharacter),void 0!==Ae.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ae.containsUppercaseCharacter),void 0!==Ae.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ae.containsNumericCharacter),void 0!==Ae.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ae.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(U=null===(A=d.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==U?U:"",this.forceUpgradeOnSignin=null!==(Y=d.forceUpgradeOnSignin)&&void 0!==Y&&Y,this.schemaVersion=d.schemaVersion}validatePassword(d){var m,A,U,Y,Ae,We;const gt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,gt),this.validatePasswordCharacterOptions(d,gt),gt.isValid&&(gt.isValid=null===(m=gt.meetsMinPasswordLength)||void 0===m||m),gt.isValid&&(gt.isValid=null===(A=gt.meetsMaxPasswordLength)||void 0===A||A),gt.isValid&&(gt.isValid=null===(U=gt.containsLowercaseLetter)||void 0===U||U),gt.isValid&&(gt.isValid=null===(Y=gt.containsUppercaseLetter)||void 0===Y||Y),gt.isValid&&(gt.isValid=null===(Ae=gt.containsNumericCharacter)||void 0===Ae||Ae),gt.isValid&&(gt.isValid=null===(We=gt.containsNonAlphanumericCharacter)||void 0===We||We),gt}validatePasswordLengthOptions(d,m){const A=this.customStrengthOptions.minPasswordLength,U=this.customStrengthOptions.maxPasswordLength;A&&(m.meetsMinPasswordLength=d.length>=A),U&&(m.meetsMaxPasswordLength=d.length<=U)}validatePasswordCharacterOptions(d,m){let A;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let U=0;U<d.length;U++)A=d.charAt(U),this.updatePasswordCharacterOptionsStatuses(m,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(d,m,A,U,Y){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=U)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=Y))}}class Er{constructor(d,m,A,U){this.app=d,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=A,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ns(this),this.idTokenSubscription=new Ns(this),this.beforeStateQueue=new Lt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ft,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(d,m){var A=this;return m&&(this._popupRedirectResolver=bt(m)),this._initializationPromise=this.queue((0,g.A)(function*(){var U,Y;if(!A._deleted&&(A.persistenceManager=yield Wn.create(A,d),!A._deleted)){if(null!==(U=A._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(m),A.lastNotifiedUid=(null===(Y=A.currentUser)||void 0===Y?void 0:Y.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,g.A)(function*(){if(d._deleted)return;const m=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||m){if(d.currentUser&&m&&d.currentUser.uid===m.uid)return d._currentUser._assign(m),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(m,!0)}})()}initializeCurrentUserFromIdToken(d){var m=this;return(0,g.A)(function*(){try{const A=yield Zt(m,{idToken:d}),U=yield tt._fromGetAccountInfoResponse(m,A,d);yield m.directlySetCurrentUser(U)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield m.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var m=this;return(0,g.A)(function*(){var A;if((0,re.xZ)(m.app)){const We=m.app.settings.authIdToken;return We?new Promise(gt=>{setTimeout(()=>m.initializeCurrentUserFromIdToken(We).then(gt,gt))}):m.directlySetCurrentUser(null)}const U=yield m.assertedPersistence.getCurrentUser();let Y=U,Ae=!1;if(d&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const We=null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId,gt=Y?._redirectEventId,dn=yield m.tryRedirectSignIn(d);(!We||We===gt)&&dn?.user&&(Y=dn.user,Ae=!0)}if(!Y)return m.directlySetCurrentUser(null);if(!Y._redirectEventId){if(Ae)try{yield m.beforeStateQueue.runMiddleware(Y)}catch(We){Y=U,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(We))}return Y?m.reloadAndSetCurrentUserOrClear(Y):m.directlySetCurrentUser(null)}return ye(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Y._redirectEventId?m.directlySetCurrentUser(Y):m.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(d){var m=this;return(0,g.A)(function*(){let A=null;try{A=yield m._popupRedirectResolver._completeRedirectFn(m,d,!0)}catch{yield m._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(d){var m=this;return(0,g.A)(function*(){try{yield Vi(d)}catch(A){if("auth/network-request-failed"!==A?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Bt(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var d=this;return(0,g.A)(function*(){d._deleted=!0})()}updateCurrentUser(d){var m=this;return(0,g.A)(function*(){if((0,re.xZ)(m.app))return Promise.reject(It(m));const A=d?(0,ce.Ku)(d):null;return A&&ye(A.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(A&&A._clone(m))})()}_updateCurrentUser(d){var m=this;return(0,g.A)(function*(A,U=!1){if(!m._deleted)return A&&ye(m.tenantId===A.tenantId,m,"tenant-id-mismatch"),U||(yield m.beforeStateQueue.runMiddleware(A)),m.queue((0,g.A)(function*(){yield m.directlySetCurrentUser(A),m.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var d=this;return(0,g.A)(function*(){return(0,re.xZ)(d.app)?Promise.reject(It(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var m=this;return(0,re.xZ)(this.app)?Promise.reject(It(this)):this.queue((0,g.A)(function*(){yield m.assertedPersistence.setPersistence(bt(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var m=this;return(0,g.A)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const A=m._getPasswordPolicyInternal();return A.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,g.A)(function*(){const m=yield function Cn(E){return an.apply(this,arguments)}(d),A=new hn(m);null===d.tenantId?d._projectPasswordPolicy=A:d._tenantPasswordPolicies[d.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new ce.FA("auth","Firebase",d())}onAuthStateChanged(d,m,A){return this.registerStateListener(this.authStateSubscription,d,m,A)}beforeAuthStateChanged(d,m){return this.beforeStateQueue.pushCallback(d,m)}onIdTokenChanged(d,m,A){return this.registerStateListener(this.idTokenSubscription,d,m,A)}authStateReady(){return new Promise((d,m)=>{if(this.currentUser)d();else{const A=this.onAuthStateChanged(()=>{A(),d()},m)}})}revokeAccessToken(d){var m=this;return(0,g.A)(function*(){if(m.currentUser){const A=yield m.currentUser.getIdToken(),U={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:A};null!=m.tenantId&&(U.tenantId=m.tenantId),yield function Vt(E,d){return oe.apply(this,arguments)}(m,U)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,m){var A=this;return(0,g.A)(function*(){const U=yield A.getOrInitRedirectPersistenceManager(m);return null===d?U.removeCurrentUser():U.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var m=this;return(0,g.A)(function*(){if(!m.redirectPersistenceManager){const A=d&&bt(d)||m._popupRedirectResolver;ye(A,m,"argument-error"),m.redirectPersistenceManager=yield Wn.create(m,[bt(A._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(d){var m=this;return(0,g.A)(function*(){var A,U;return m._isInitialized&&(yield m.queue((0,g.A)(function*(){}))),(null===(A=m._currentUser)||void 0===A?void 0:A._redirectEventId)===d?m._currentUser:(null===(U=m.redirectUser)||void 0===U?void 0:U._redirectEventId)===d?m.redirectUser:null})()}_persistUserIfCurrent(d){var m=this;return(0,g.A)(function*(){if(d===m.currentUser)return m.queue((0,g.A)(function*(){return m.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(m=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,m,A,U){if(this._deleted)return()=>{};const Y="function"==typeof m?m:m.next.bind(m);let Ae=!1;const We=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(We,this,"internal-error"),We.then(()=>{Ae||Y(this.currentUser)}),"function"==typeof m){const gt=d.addObserver(m,A,U);return()=>{Ae=!0,gt()}}{const gt=d.addObserver(m);return()=>{Ae=!0,gt()}}}directlySetCurrentUser(d){var m=this;return(0,g.A)(function*(){m.currentUser&&m.currentUser!==d&&m._currentUser._stopProactiveRefresh(),d&&m.isProactiveRefreshEnabled&&d._startProactiveRefresh(),m.currentUser=d,d?yield m.assertedPersistence.setCurrentUser(d):yield m.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=lt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,g.A)(function*(){var m;const A={"X-Client-Version":d.clientVersion};d.app.options.appId&&(A["X-Firebase-gmpid"]=d.app.options.appId);const U=yield null===(m=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();U&&(A["X-Firebase-Client"]=U);const Y=yield d._getAppCheckToken();return Y&&(A["X-Firebase-AppCheck"]=Y),A})()}_getAppCheckToken(){var d=this;return(0,g.A)(function*(){var m;const A=yield null===(m=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return A?.error&&function zn(E,...d){Xt.logLevel<=pe.$b.WARN&&Xt.warn(`Auth (${re.MF}): ${E}`,...d)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function lr(E){return(0,ce.Ku)(E)}class Ns{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,ce.tD)(m=>this.observer=m)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ii={loadJS:()=>(0,g.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gn(E){return Ii.loadJS(E)}function us(E){return`__${E}${Math.floor(1e6*Math.random())}`}class wr{constructor(d){this.type="recaptcha-enterprise",this.auth=lr(d)}verify(){var d=this;return(0,g.A)(function*(m="verify",A=!1){function Y(){return Y=(0,g.A)(function*(We){if(!A){if(null==We.tenantId&&null!=We._agentRecaptchaConfig)return We._agentRecaptchaConfig.siteKey;if(null!=We.tenantId&&void 0!==We._tenantRecaptchaConfigs[We.tenantId])return We._tenantRecaptchaConfigs[We.tenantId].siteKey}return new Promise(function(){var gt=(0,g.A)(function*(dn,qn){Xi(We,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Bn=>{if(void 0!==Bn.recaptchaKey){const ii=new Br(Bn);return null==We.tenantId?We._agentRecaptchaConfig=ii:We._tenantRecaptchaConfigs[We.tenantId]=ii,dn(ii.siteKey)}qn(new Error("recaptcha Enterprise site key undefined"))}).catch(Bn=>{qn(Bn)})});return function(dn,qn){return gt.apply(this,arguments)}}())}),Y.apply(this,arguments)}function Ae(We,gt,dn){const qn=window.grecaptcha;fr(qn)?qn.enterprise.ready(()=>{qn.enterprise.execute(We,{action:m}).then(Bn=>{gt(Bn)}).catch(()=>{gt("NO_RECAPTCHA")})}):dn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((We,gt)=>{(function U(We){return Y.apply(this,arguments)})(d.auth).then(dn=>{if(!A&&fr(window.grecaptcha))Ae(dn,We,gt);else{if(typeof window>"u")return void gt(new Error("RecaptchaVerifier is only supported in browser"));let qn=function Yo(){return Ii.recaptchaEnterpriseScript}();0!==qn.length&&(qn+=dn),Gn(qn).then(()=>{Ae(dn,We,gt)}).catch(Bn=>{gt(Bn)})}}).catch(dn=>{gt(dn)})})}).apply(this,arguments)}}function io(E,d,m){return rs.apply(this,arguments)}function rs(){return(rs=(0,g.A)(function*(E,d,m,A=!1){const U=new wr(E);let Y;try{Y=yield U.verify(m)}catch{Y=yield U.verify(m,!0)}const Ae=Object.assign({},d);return Object.assign(Ae,A?{captchaResp:Y}:{captchaResponse:Y}),Object.assign(Ae,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ae,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ae})).apply(this,arguments)}function _i(E,d,m,A){return Bi.apply(this,arguments)}function Bi(){return Bi=(0,g.A)(function*(E,d,m,A){var U;if(null!==(U=E._getRecaptchaConfig())&&void 0!==U&&U.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Y=yield io(E,d,m,"getOobCode"===m);return A(E,Y)}return A(E,d).catch(function(){var Y=(0,g.A)(function*(Ae){if("auth/missing-recaptcha-token"===Ae.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const We=yield io(E,d,m,"getOobCode"===m);return A(E,We)}return Promise.reject(Ae)});return function(Ae){return Y.apply(this,arguments)}}())}),Bi.apply(this,arguments)}function so(E){const d=E.indexOf(":");return d<0?"":E.substr(0,d+1)}function Zo(E){if(!E)return null;const d=Number(E);return isNaN(d)?null:d}class tn{constructor(d,m){this.providerId=d,this.signInMethod=m}toJSON(){return Qe("not implemented")}_getIdTokenResponse(d){return Qe("not implemented")}_linkToIdToken(d,m){return Qe("not implemented")}_getReauthenticationResolver(d){return Qe("not implemented")}}function Jo(E,d){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,g.A)(function*(E,d){return se(E,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function Oi(E,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,g.A)(function*(E,d){return xt(E,"POST","/v1/accounts:signInWithPassword",ne(E,d))})).apply(this,arguments)}function xs(){return(xs=(0,g.A)(function*(E,d){return xt(E,"POST","/v1/accounts:signInWithEmailLink",ne(E,d))})).apply(this,arguments)}function ao(){return(ao=(0,g.A)(function*(E,d){return xt(E,"POST","/v1/accounts:signInWithEmailLink",ne(E,d))})).apply(this,arguments)}class ks extends tn{constructor(d,m,A,U=null){super("password",A),this._email=d,this._password=m,this._tenantId=U}static _fromEmailAndPassword(d,m){return new ks(d,m,"password")}static _fromEmailAndCode(d,m,A=null){return new ks(d,m,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(d){var m=this;return(0,g.A)(function*(){switch(m.signInMethod){case"password":return _i(d,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Oi);case"emailLink":return function hs(E,d){return xs.apply(this,arguments)}(d,{email:m._email,oobCode:m._password});default:mt(d,"internal-error")}})()}_linkToIdToken(d,m){var A=this;return(0,g.A)(function*(){switch(A.signInMethod){case"password":return _i(d,{idToken:m,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jo);case"emailLink":return function fs(E,d){return ao.apply(this,arguments)}(d,{idToken:m,email:A._email,oobCode:A._password});default:mt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function ps(E,d){return gs.apply(this,arguments)}function gs(){return(gs=(0,g.A)(function*(E,d){return xt(E,"POST","/v1/accounts:signInWithIdp",ne(E,d))})).apply(this,arguments)}class Gs extends tn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const m=new Gs(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(m.idToken=d.idToken),d.accessToken&&(m.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(m.nonce=d.nonce),d.pendingToken&&(m.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(m.accessToken=d.oauthToken,m.secret=d.oauthTokenSecret):mt("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const m="string"==typeof d?JSON.parse(d):d,{providerId:A,signInMethod:U}=m,Y=(0,Se.Tt)(m,["providerId","signInMethod"]);if(!A||!U)return null;const Ae=new Gs(A,U);return Ae.idToken=Y.idToken||void 0,Ae.accessToken=Y.accessToken||void 0,Ae.secret=Y.secret,Ae.nonce=Y.nonce,Ae.pendingToken=Y.pendingToken||null,Ae}_getIdTokenResponse(d){return ps(d,this.buildRequest())}_linkToIdToken(d,m){const A=this.buildRequest();return A.idToken=m,ps(d,A)}_getReauthenticationResolver(d){const m=this.buildRequest();return m.autoCreate=!1,ps(d,m)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),d.postBody=(0,ce.Am)(m)}return d}}class vo{constructor(d){var m,A,U,Y,Ae,We;const gt=(0,ce.I9)((0,ce.hp)(d)),dn=null!==(m=gt.apiKey)&&void 0!==m?m:null,qn=null!==(A=gt.oobCode)&&void 0!==A?A:null,Bn=function jo(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=gt.mode)&&void 0!==U?U:null);ye(dn&&qn&&Bn,"argument-error"),this.apiKey=dn,this.operation=Bn,this.code=qn,this.continueUrl=null!==(Y=gt.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(Ae=gt.languageCode)&&void 0!==Ae?Ae:null,this.tenantId=null!==(We=gt.tenantId)&&void 0!==We?We:null}static parseLink(d){const m=function yo(E){const d=(0,ce.I9)((0,ce.hp)(E)).link,m=d?(0,ce.I9)((0,ce.hp)(d)).deep_link_id:null,A=(0,ce.I9)((0,ce.hp)(E)).deep_link_id;return(A?(0,ce.I9)((0,ce.hp)(A)).link:null)||A||m||d||E}(d);try{return new vo(m)}catch{return null}}}let Xn=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(m,A){return ks._fromEmailAndPassword(m,A)}static credentialWithLink(m,A){const U=vo.parseLink(A);return ye(U,"argument-error"),ks._fromEmailAndCode(m,U.code,U.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class kn{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Si extends kn{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}let yr=(()=>{class E extends Si{constructor(){super("google.com"),this.addScope("profile")}static credential(m,A){return Gs._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:A})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:A,oauthAccessToken:U}=m;if(!A&&!U)return null;try{return E.credential(A,U)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})();function O(E,d){return W.apply(this,arguments)}function W(){return(W=(0,g.A)(function*(E,d){return xt(E,"POST","/v1/accounts:signUp",ne(E,d))})).apply(this,arguments)}class ee{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,m,A){return(0,g.A)(function*(U,Y,Ae,We=!1){const gt=yield tt._fromIdTokenResponse(U,Ae,We),dn=Ee(Ae);return new ee({user:gt,providerId:dn,_tokenResponse:Ae,operationType:Y})}).apply(this,arguments)}static _forOperation(d,m,A){return(0,g.A)(function*(){yield d._updateTokensIfNecessary(A,!0);const U=Ee(A);return new ee({user:d,providerId:U,_tokenResponse:A,operationType:m})})()}}function Ee(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}class rt extends ce.g{constructor(d,m,A,U){var Y;super(m.code,m.message),this.operationType=A,this.user=U,Object.setPrototypeOf(this,rt.prototype),this.customData={appName:d.name,tenantId:null!==(Y=d.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:m.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(d,m,A,U){return new rt(d,m,A,U)}}function Ht(E,d,m,A){return("reauthenticate"===d?m._getReauthenticationResolver(E):m._getIdTokenResponse(E)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?rt._fromErrorAndOperation(E,Y,d,A):Y})}function yn(){return(yn=(0,g.A)(function*(E,d,m=!1){const A=yield Rn(E,d._linkToIdToken(E.auth,yield E.getIdToken()),m);return ee._forOperation(E,"link",A)})).apply(this,arguments)}function gi(){return(gi=(0,g.A)(function*(E,d,m=!1){const{auth:A}=E;if((0,re.xZ)(A.app))return Promise.reject(It(A));const U="reauthenticate";try{const Y=yield Rn(E,Ht(A,U,d,E),m);ye(Y.idToken,A,"internal-error");const Ae=$t(Y.idToken);ye(Ae,A,"internal-error");const{sub:We}=Ae;return ye(E.uid===We,A,"user-mismatch"),ee._forOperation(E,U,Y)}catch(Y){throw"auth/user-not-found"===Y?.code&&mt(A,"user-mismatch"),Y}})).apply(this,arguments)}function jn(E,d){return lo.apply(this,arguments)}function lo(){return(lo=(0,g.A)(function*(E,d,m=!1){if((0,re.xZ)(E.app))return Promise.reject(It(E));const A="signIn",U=yield Ht(E,A,d),Y=yield ee._fromIdTokenResponse(E,A,U);return m||(yield E._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function br(){return(br=(0,g.A)(function*(E,d){return jn(lr(E),d)})).apply(this,arguments)}function Ir(E){return sr.apply(this,arguments)}function sr(){return(sr=(0,g.A)(function*(E){const d=lr(E);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function et(E,d,m){return St.apply(this,arguments)}function St(){return(St=(0,g.A)(function*(E,d,m){if((0,re.xZ)(E.app))return Promise.reject(It(E));const A=lr(E),Ae=yield _i(A,{returnSecureToken:!0,email:d,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O).catch(gt=>{throw"auth/password-does-not-meet-requirements"===gt.code&&Ir(E),gt}),We=yield ee._fromIdTokenResponse(A,"signIn",Ae);return yield A._updateCurrentUser(We.user),We})).apply(this,arguments)}function pn(E,d,m){return(0,re.xZ)(E.app)?Promise.reject(It(E)):function zi(E,d){return br.apply(this,arguments)}((0,ce.Ku)(E),Xn.credential(d,m)).catch(function(){var A=(0,g.A)(function*(U){throw"auth/password-does-not-meet-requirements"===U.code&&Ir(E),U});return function(U){return A.apply(this,arguments)}}())}function Hr(E,d,m,A){return(0,ce.Ku)(E).onIdTokenChanged(d,m,A)}function Pi(E){return(0,ce.Ku)(E).signOut()}const ta="__sak";class Vr{constructor(d,m){this.storageRetriever=d,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ta,"1"),this.storage.removeItem(ta),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,m){return this.storage.setItem(d,JSON.stringify(m)),Promise.resolve()}_get(d){const m=this.storage.getItem(d);return Promise.resolve(m?JSON.parse(m):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bu=(()=>{class E extends Vr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,A)=>this.onStorageEvent(m,A),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xe(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const A of Object.keys(this.listeners)){const U=this.storage.getItem(A),Y=this.localCache[A];U!==Y&&m(A,Y,U)}}onStorageEvent(m,A=!1){if(!m.key)return void this.forAllChangedKeys((We,gt,dn)=>{this.notifyListeners(We,dn)});const U=m.key;A?this.detachListener():this.stopPolling();const Y=()=>{const We=this.storage.getItem(U);!A&&this.localCache[U]===We||this.notifyListeners(U,We)},Ae=this.storage.getItem(U);!function qe(){return(0,ce.lT)()&&10===document.documentMode}()||Ae===m.newValue||m.newValue===m.oldValue?Y():setTimeout(Y,10)}notifyListeners(m,A){this.localCache[m]=A;const U=this.listeners[m];if(U)for(const Y of Array.from(U))Y(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,A,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:A,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,A){var U=()=>super._set,Y=this;return(0,g.A)(function*(){yield U().call(Y,m,A),Y.localCache[m]=JSON.stringify(A)})()}_get(m){var A=()=>super._get,U=this;return(0,g.A)(function*(){const Y=yield A().call(U,m);return U.localCache[m]=JSON.stringify(Y),Y})()}_remove(m){var A=()=>super._remove,U=this;return(0,g.A)(function*(){yield A().call(U,m),delete U.localCache[m]})()}}return E.type="LOCAL",E})(),Lo=(()=>{class E extends Vr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,A){}_removeListener(m,A){}}return E.type="SESSION",E})();let ya=(()=>{class E{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const A=this.receivers.find(Y=>Y.isListeningto(m));if(A)return A;const U=new E(m);return this.receivers.push(U),U}isListeningto(m){return this.eventTarget===m}handleEvent(m){var A=this;return(0,g.A)(function*(){const U=m,{eventId:Y,eventType:Ae,data:We}=U.data,gt=A.handlersMap[Ae];if(!gt?.size)return;U.ports[0].postMessage({status:"ack",eventId:Y,eventType:Ae});const dn=Array.from(gt).map(function(){var Bn=(0,g.A)(function*(ii){return ii(U.origin,We)});return function(ii){return Bn.apply(this,arguments)}}()),qn=yield function Ho(E){return Promise.all(E.map(function(){var d=(0,g.A)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(A){return{fulfilled:!1,reason:A}}});return function(m){return d.apply(this,arguments)}}()))}(dn);U.ports[0].postMessage({status:"done",eventId:Y,eventType:Ae,response:qn})})()}_subscribe(m,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(A)}_unsubscribe(m,A){this.handlersMap[m]&&A&&this.handlersMap[m].delete(A),(!A||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Kn(E="",d=10){let m="";for(let A=0;A<d;A++)m+=Math.floor(10*Math.random());return E+m}class Ki{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,m){var A=this;return(0,g.A)(function*(U,Y,Ae=50){const We=typeof MessageChannel<"u"?new MessageChannel:null;if(!We)throw new Error("connection_unavailable");let gt,dn;return new Promise((qn,Bn)=>{const ii=Kn("",20);We.port1.start();const Aa=setTimeout(()=>{Bn(new Error("unsupported_event"))},Ae);dn={messageChannel:We,onMessage(Tu){const ss=Tu;if(ss.data.eventId===ii)switch(ss.data.status){case"ack":clearTimeout(Aa),gt=setTimeout(()=>{Bn(new Error("timeout"))},3e3);break;case"done":clearTimeout(gt),qn(ss.data.response);break;default:clearTimeout(Aa),clearTimeout(gt),Bn(new Error("invalid_response"))}}},A.handlers.add(dn),We.port1.addEventListener("message",dn.onMessage),A.target.postMessage({eventType:U,eventId:ii,data:Y},[We.port2])}).finally(()=>{dn&&A.removeMessageHandler(dn)})}).apply(this,arguments)}}function mi(){return window}function ja(){return typeof mi().WorkerGlobalScope<"u"&&"function"==typeof mi().importScripts}function Zr(){return(Zr=(0,g.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ys="firebaseLocalStorageDb",na="firebaseLocalStorage",au="fbase_key";class go{constructor(d){this.request=d}toPromise(){return new Promise((d,m)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function uu(E,d){return E.transaction([na],d?"readwrite":"readonly").objectStore(na)}function $u(){const E=indexedDB.open(ys,1);return new Promise((d,m)=>{E.addEventListener("error",()=>{m(E.error)}),E.addEventListener("upgradeneeded",()=>{const A=E.result;try{A.createObjectStore(na,{keyPath:au})}catch(U){m(U)}}),E.addEventListener("success",(0,g.A)(function*(){const A=E.result;A.objectStoreNames.contains(na)?d(A):(A.close(),yield function ju(){const E=indexedDB.deleteDatabase(ys);return new go(E).toPromise()}(),d(yield $u()))}))})}function pc(E,d,m){return $a.apply(this,arguments)}function $a(){return($a=(0,g.A)(function*(E,d,m){const A=uu(E,!0).put({[au]:d,value:m});return new go(A).toPromise()})).apply(this,arguments)}function cu(){return(cu=(0,g.A)(function*(E,d){const m=uu(E,!1).get(d),A=yield new go(m).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Zl(E,d){const m=uu(E,!0).delete(d);return new go(m).toPromise()}const Dp=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,g.A)(function*(){return m.db||(m.db=yield $u()),m.db})()}_withRetries(m){var A=this;return(0,g.A)(function*(){let U=0;for(;;)try{const Y=yield A._openDb();return yield m(Y)}catch(Y){if(U++>3)throw Y;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,g.A)(function*(){return ja()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,g.A)(function*(){m.receiver=ya._getInstance(function Vs(){return ja()?self:null}()),m.receiver._subscribe("keyChanged",function(){var A=(0,g.A)(function*(U,Y){return{keyProcessed:(yield m._poll()).includes(Y.key)}});return function(U,Y){return A.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var A=(0,g.A)(function*(U,Y){return["keyChanged"]});return function(U,Y){return A.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,g.A)(function*(){var A,U;if(m.activeServiceWorker=yield function da(){return Zr.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ki(m.activeServiceWorker);const Y=yield m.sender._send("ping",{},800);Y&&null!==(A=Y[0])&&void 0!==A&&A.fulfilled&&null!==(U=Y[0])&&void 0!==U&&U.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var A=this;return(0,g.A)(function*(){if(A.sender&&A.activeServiceWorker&&function hc(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:m},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.A)(function*(){try{if(!indexedDB)return!1;const m=yield $u();return yield pc(m,ta,"1"),yield Zl(m,ta),!0}catch{}return!1})()}_withPendingWrite(m){var A=this;return(0,g.A)(function*(){A.pendingWrites++;try{yield m()}finally{A.pendingWrites--}})()}_set(m,A){var U=this;return(0,g.A)(function*(){return U._withPendingWrite((0,g.A)(function*(){return yield U._withRetries(Y=>pc(Y,m,A)),U.localCache[m]=A,U.notifyServiceWorker(m)}))})()}_get(m){var A=this;return(0,g.A)(function*(){const U=yield A._withRetries(Y=>function gc(E,d){return cu.apply(this,arguments)}(Y,m));return A.localCache[m]=U,U})()}_remove(m){var A=this;return(0,g.A)(function*(){return A._withPendingWrite((0,g.A)(function*(){return yield A._withRetries(U=>Zl(U,m)),delete A.localCache[m],A.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,g.A)(function*(){const A=yield m._withRetries(Ae=>{const We=uu(Ae,!1).getAll();return new go(We).toPromise()});if(!A)return[];if(0!==m.pendingWrites)return[];const U=[],Y=new Set;if(0!==A.length)for(const{fbase_key:Ae,value:We}of A)Y.add(Ae),JSON.stringify(m.localCache[Ae])!==JSON.stringify(We)&&(m.notifyListeners(Ae,We),U.push(Ae));for(const Ae of Object.keys(m.localCache))m.localCache[Ae]&&!Y.has(Ae)&&(m.notifyListeners(Ae,null),U.push(Ae));return U})()}notifyListeners(m,A){this.localCache[m]=A;const U=this.listeners[m];if(U)for(const Y of Array.from(U))Y(A)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,g.A)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function Kr(E,d){return d?bt(d):(ye(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}us("rcb"),new sn(3e4,6e4);class mc extends tn{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return ps(d,this._buildIdpRequest())}_linkToIdToken(d,m){return ps(d,this._buildIdpRequest(m))}_getReauthenticationResolver(d){return ps(d,this._buildIdpRequest())}_buildIdpRequest(d){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(m.idToken=d),m}}function Na(E){return jn(E.auth,new mc(E),E.bypassAuthState)}function ls(E){const{auth:d,user:m}=E;return ye(m,d,"internal-error"),function pi(E,d){return gi.apply(this,arguments)}(m,new mc(E),E.bypassAuthState)}function Ha(E){return za.apply(this,arguments)}function za(){return(za=(0,g.A)(function*(E){const{auth:d,user:m}=E;return ye(m,d,"internal-error"),function fn(E,d){return yn.apply(this,arguments)}(m,new mc(E),E.bypassAuthState)})).apply(this,arguments)}class Wa{constructor(d,m,A,U,Y=!1){this.auth=d,this.resolver=A,this.user=U,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var d=this;return new Promise(function(){var m=(0,g.A)(function*(A,U){d.pendingPromise={resolve:A,reject:U};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(Y){d.reject(Y)}});return function(A,U){return m.apply(this,arguments)}}())}onAuthEvent(d){var m=this;return(0,g.A)(function*(){const{urlResponse:A,sessionId:U,postBody:Y,tenantId:Ae,error:We,type:gt}=d;if(We)return void m.reject(We);const dn={auth:m.auth,requestUri:A,sessionId:U,tenantId:Ae||void 0,postBody:Y||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(gt)(dn))}catch(qn){m.reject(qn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Na;case"linkViaPopup":case"linkViaRedirect":return Ha;case"reauthViaPopup":case"reauthViaRedirect":return ls;default:mt(this.auth,"internal-error")}}resolve(d){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vo=new sn(2e3,1e4);function Sp(E,d,m){return du.apply(this,arguments)}function du(){return(du=(0,g.A)(function*(E,d,m){if((0,re.xZ)(E.app))return Promise.reject(Ze(E,"operation-not-supported-in-this-environment"));const A=lr(E);!function rn(E,d,m){if(!(d instanceof m))throw m.name!==d.constructor.name&&mt(E,"argument-error"),pt(E,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(E,d,kn);const U=Kr(A,m);return new yc(A,"signInViaPopup",d,U).executeNotNull()})).apply(this,arguments)}let yc=(()=>{class E extends Wa{constructor(m,A,U,Y,Ae){super(m,A,Y,Ae),this.provider=U,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var m=this;return(0,g.A)(function*(){const A=yield m.execute();return ye(A,m.auth,"internal-error"),A})()}onExecution(){var m=this;return(0,g.A)(function*(){Ot(1===m.filter.length,"Popup operations only handle one event");const A=Kn();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],A),m.authWindow.associatedEvent=A,m.resolver._originValidation(m.auth).catch(U=>{m.reject(U)}),m.resolver._isIframeWebStorageSupported(m.auth,U=>{U||m.reject(Ze(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const m=()=>{var A,U;this.pollId=null!==(U=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==U&&U.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Vo.get())};m()}}return E.currentPopupAction=null,E})();const zu="pendingRedirect",hu=new Map;class fu extends Wa{constructor(d,m,A=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,A),this.eventId=null}execute(){var d=()=>super.execute,m=this;return(0,g.A)(function*(){let A=hu.get(m.auth._key());if(!A){try{const Y=(yield function pu(E,d){return vc.apply(this,arguments)}(m.resolver,m.auth))?yield d().call(m):null;A=()=>Promise.resolve(Y)}catch(U){A=()=>Promise.reject(U)}hu.set(m.auth._key(),A)}return m.bypassAuthState||hu.set(m.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(d){var m=()=>super.onAuthEvent,A=this;return(0,g.A)(function*(){if("signInViaRedirect"===d.type)return m().call(A,d);if("unknown"!==d.type){if(d.eventId){const U=yield A.auth._redirectUserForId(d.eventId);if(U)return A.user=U,m().call(A,d);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,g.A)(function*(){})()}cleanUp(){}}function vc(){return(vc=(0,g.A)(function*(E,d){const m=function nd(E){return ai(zu,E.config.apiKey,E.name)}(d),A=function td(E){return bt(E._redirectPersistence)}(E);if(!(yield A._isAvailable()))return!1;const U="true"===(yield A._get(m));return yield A._remove(m),U})).apply(this,arguments)}function Ic(E,d){hu.set(E._key(),d)}function al(E,d){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,g.A)(function*(E,d,m=!1){if((0,re.xZ)(E.app))return Promise.reject(It(E));const A=lr(E),U=Kr(A,d),Ae=yield new fu(A,U,m).execute();return Ae&&!m&&(delete Ae.user._redirectEventId,yield A._persistUserIfCurrent(Ae.user),yield A._setRedirectUser(null,d)),Ae})).apply(this,arguments)}class sd{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let m=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(d,A)&&(m=!0,this.sendToConsumer(d,A),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function od(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bh(E);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=d,m=!0)),m}sendToConsumer(d,m){var A;if(d.error&&!bh(d)){const U=(null===(A=d.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";m.onError(Ze(this.auth,U))}else m.onAuthEvent(d)}isEventForConsumer(d,m){const A=null===m.eventId||!!d.eventId&&d.eventId===m.eventId;return m.filter.includes(d.type)&&A}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wc(d))}saveEventToCache(d){this.cachedEventUids.add(wc(d)),this.lastProcessedEventTime=Date.now()}}function wc(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(d=>d).join("-")}function bh({type:E,error:d}){return"unknown"===E&&"auth/no-auth-event"===d?.code}function Qs(){return(Qs=(0,g.A)(function*(E,d={}){return se(E,"GET","/v1/projects",d)})).apply(this,arguments)}const wa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sh=/^https?/;function Xs(){return Xs=(0,g.A)(function*(E){if(E.config.emulator)return;const{authorizedDomains:d}=yield function ad(E){return Qs.apply(this,arguments)}(E);for(const m of d)try{if(Ac(m))return}catch{}mt(E,"unauthorized-domain")}),Xs.apply(this,arguments)}function Ac(E){const d=Qn(),{protocol:m,hostname:A}=new URL(d);if(E.startsWith("chrome-extension://")){const Ae=new URL(E);return""===Ae.hostname&&""===A?"chrome-extension:"===m&&E.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===m&&Ae.hostname===A}if(!Sh.test(m))return!1;if(wa.test(E))return A===E;const U=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(A)}const ud=new sn(3e4,6e4);function cd(){const E=mi().___jsl;if(E?.H)for(const d of Object.keys(E.H))if(E.H[d].r=E.H[d].r||[],E.H[d].L=E.H[d].L||[],E.H[d].r=[...E.H[d].L],E.CP)for(let m=0;m<E.CP.length;m++)E.CP[m]=null}let mu=null;const dd=new sn(5e3,15e3),cl="__/auth/iframe",hd="emulator/auth/iframe",Cs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rh(E){const d=E.config;ye(d.authDomain,E,"auth-domain-config-required");const m=d.emulator?Et(d,hd):`https://${E.config.authDomain}/${cl}`,A={apiKey:d.apiKey,appName:E.name,v:re.MF},U=fd.get(E.config.apiHost);U&&(A.eid=U);const Y=E._getFrameworks();return Y.length&&(A.fw=Y.join(",")),`${m}?${(0,ce.Am)(A).slice(1)}`}function ll(){return ll=(0,g.A)(function*(E){const d=yield function ld(E){return mu=mu||function Rp(E){return new Promise((d,m)=>{var A,U,Y;function Ae(){cd(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{cd(),m(Ze(E,"network-request-failed"))},timeout:ud.get()})}if(null!==(U=null===(A=mi().gapi)||void 0===A?void 0:A.iframes)&&void 0!==U&&U.Iframe)d(gapi.iframes.getContext());else{if(null===(Y=mi().gapi)||void 0===Y||!Y.load){const We=us("iframefcb");return mi()[We]=()=>{gapi.load?Ae():m(Ze(E,"network-request-failed"))},Gn(`${function Hs(){return Ii.gapiScript}()}?onload=${We}`).catch(gt=>m(gt))}Ae()}}).catch(d=>{throw mu=null,d})}(E),mu}(E),m=mi().gapi;return ye(m,E,"internal-error"),d.open({where:document.body,url:Rh(E),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cs,dontclear:!0},A=>new Promise(function(){var U=(0,g.A)(function*(Y,Ae){yield A.restyle({setHideOnLeave:!1});const We=Ze(E,"network-request-failed"),gt=mi().setTimeout(()=>{Ae(We)},dd.get());function dn(){mi().clearTimeout(gt),Y(A)}A.ping(dn).then(dn,()=>{Ae(We)})});return function(Y,Ae){return U.apply(this,arguments)}}()))}),ll.apply(this,arguments)}const dl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vi{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Wu="__/auth/handler",pl="emulator/auth/handler",gl=encodeURIComponent("fac");function Dc(E,d,m,A,U,Y){return yu.apply(this,arguments)}function yu(){return(yu=(0,g.A)(function*(E,d,m,A,U,Y){ye(E.config.authDomain,E,"auth-domain-config-required"),ye(E.config.apiKey,E,"invalid-api-key");const Ae={apiKey:E.config.apiKey,appName:E.name,authType:m,redirectUrl:A,v:re.MF,eventId:U};if(d instanceof kn){d.setDefaultLanguage(E.languageCode),Ae.providerId=d.providerId||"",(0,ce.Im)(d.getCustomParameters())||(Ae.customParameters=JSON.stringify(d.getCustomParameters()));for(const[qn,Bn]of Object.entries(Y||{}))Ae[qn]=Bn}if(d instanceof Si){const qn=d.getScopes().filter(Bn=>""!==Bn);qn.length>0&&(Ae.scopes=qn.join(","))}E.tenantId&&(Ae.tid=E.tenantId);const We=Ae;for(const qn of Object.keys(We))void 0===We[qn]&&delete We[qn];const gt=yield E._getAppCheckToken(),dn=gt?`#${gl}=${encodeURIComponent(gt)}`:"";return`${function ga({config:E}){return E.emulator?Et(E,pl):`https://${E.authDomain}/${Wu}`}(E)}?${(0,ce.Am)(We).slice(1)}${dn}`})).apply(this,arguments)}const md="webStorageSupport",bc=class Cc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lo,this._completeRedirectFn=al,this._overrideRedirectResult=Ic}_openPopup(d,m,A,U){var Y=this;return(0,g.A)(function*(){var Ae;Ot(null===(Ae=Y.eventManagers[d._key()])||void 0===Ae?void 0:Ae.manager,"_initialize() not called before _openPopup()");const We=yield Dc(d,m,A,Qn(),U);return function fl(E,d,m,A=500,U=600){const Y=Math.max((window.screen.availHeight-U)/2,0).toString(),Ae=Math.max((window.screen.availWidth-A)/2,0).toString();let We="";const gt=Object.assign(Object.assign({},dl),{width:A.toString(),height:U.toString(),top:Y,left:Ae}),dn=(0,ce.ZQ)().toLowerCase();m&&(We=Bs(dn)?"_blank":m),Dn(dn)&&(d=d||"http://localhost",gt.scrollbars="yes");const qn=Object.entries(gt).reduce((ii,[Aa,Tu])=>`${ii}${Aa}=${Tu},`,"");if(function Ni(E=(0,ce.ZQ)()){var d;return Ps(E)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(dn)&&"_self"!==We)return function gd(E,d){const m=document.createElement("a");m.href=E,m.target=d;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(A)}(d||"",We),new vi(null);const Bn=window.open(d||"",We,qn);ye(Bn,E,"popup-blocked");try{Bn.focus()}catch{}return new vi(Bn)}(d,We,Kn())})()}_openRedirect(d,m,A,U){var Y=this;return(0,g.A)(function*(){return yield Y._originValidation(d),function zo(E){mi().location.href=E}(yield Dc(d,m,A,Qn(),U)),new Promise(()=>{})})()}_initialize(d){const m=d._key();if(this.eventManagers[m]){const{manager:U,promise:Y}=this.eventManagers[m];return U?Promise.resolve(U):(Ot(Y,"If manager is not set, promise should be"),Y)}const A=this.initAndGetManager(d);return this.eventManagers[m]={promise:A},A.catch(()=>{delete this.eventManagers[m]}),A}initAndGetManager(d){var m=this;return(0,g.A)(function*(){const A=yield function Ph(E){return ll.apply(this,arguments)}(d),U=new sd(d);return A.register("authEvent",Y=>(ye(Y?.authEvent,d,"invalid-auth-event"),{status:U.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[d._key()]={manager:U},m.iframes[d._key()]=A,U})()}_isIframeWebStorageSupported(d,m){this.iframes[d._key()].send(md,{type:md},U=>{var Y;const Ae=null===(Y=U?.[0])||void 0===Y?void 0:Y[md];void 0!==Ae&&m(!!Ae),mt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const m=d._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ra(E){return Xs.apply(this,arguments)}(d)),this.originValidationPromises[m]}get _shouldInitProactively(){return xe()||fi()||Ps()}};var Iu="@firebase/auth";class yl{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var m=this;return(0,g.A)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const m=this.auth.onIdTokenChanged(A=>{d(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,m),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const m=this.internalListeners.get(d);m&&(this.internalListeners.delete(d),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jm=(0,ce.XA)("authIdTokenMaxAge")||300;let Ku=null;const Sc=E=>function(){var d=(0,g.A)(function*(m){const A=m&&(yield m.getIdTokenResult()),U=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(U&&U>jm)return;const Y=A?.token;Ku!==Y&&(Ku=Y,yield fetch(E,{method:Y?"POST":"DELETE",headers:Y?{Authorization:`Bearer ${Y}`}:{}}))});return function(m){return d.apply(this,arguments)}}();function _d(E=(0,re.Sx)()){const d=(0,re.j6)(E,"auth");if(d.isInitialized())return d.getImmediate();const m=function bn(E,d){const m=(0,re.j6)(E,"auth");if(m.isInitialized()){const U=m.getImmediate(),Y=m.getOptions();if((0,ce.bD)(Y,d??{}))return U;mt(U,"already-initialized")}return m.initialize({options:d})}(E,{popupRedirectResolver:bc,persistence:[Dp,Bu,Lo]}),A=(0,ce.XA)("authTokenSyncURL");if(A&&"boolean"==typeof isSecureContext&&isSecureContext){const Y=new URL(A,location.origin);if(location.origin===Y.origin){const Ae=Sc(Y.toString());(function ti(E,d,m){(0,ce.Ku)(E).beforeAuthStateChanged(d,m)})(m,Ae,()=>Ae(m.currentUser)),Hr(m,We=>Ae(We))}}const U=(0,ce.Tj)("auth");return U&&function is(E,d,m){const A=lr(E);ye(A._canInitEmulator,A,"emulator-config-failed"),ye(/^https?:\/\//.test(d),A,"invalid-emulator-scheme");const U=!!m?.disableWarnings,Y=so(d),{host:Ae,port:We}=function ds(E){const d=so(E),m=/(\/\/)?([^?#/]+)/.exec(E.substr(d.length));if(!m)return{host:"",port:null};const A=m[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(A);if(U){const Y=U[1];return{host:Y,port:Zo(A.substr(Y.length+1))}}{const[Y,Ae]=A.split(":");return{host:Y,port:Zo(Ae)}}}(d);A.config.emulator={url:`${Y}//${Ae}${null===We?"":`:${We}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Ae,port:We,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function aa(){function E(){const d=document.createElement("p"),m=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(m,`http://${U}`),m}(function $s(E){Ii=E})({loadJS:E=>new Promise((d,m)=>{const A=document.createElement("script");A.setAttribute("src",E),A.onload=d,A.onerror=U=>{const Y=Ze("internal-error");Y.customData=U,m(Y)},A.type="text/javascript",A.charset="UTF-8",function qu(){var E,d;return null!==(d=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==d?d:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Oh(E){(0,re.om)(new ge.uA("auth",(d,{options:m})=>{const A=d.getProvider("app").getImmediate(),U=d.getProvider("heartbeat"),Y=d.getProvider("app-check-internal"),{apiKey:Ae,authDomain:We}=A.options;ye(Ae&&!Ae.includes(":"),"invalid-api-key",{appName:A.name});const gt={apiKey:Ae,authDomain:We,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lt(E)},dn=new Er(A,U,Y,gt);return function jr(E,d){const m=d?.persistence||[],A=(Array.isArray(m)?m:[m]).map(bt);d?.errorMap&&E._updateErrorMap(d.errorMap),E._initializeWithPersistence(A,d?.popupRedirectResolver)}(dn,m),dn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,m,A)=>{d.getProvider("auth-internal").initialize()})),(0,re.om)(new ge.uA("auth-internal",d=>{const m=lr(d.getProvider("auth").getImmediate());return new yl(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.KO)(Iu,"1.7.9",function Nh(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(E)),(0,re.KO)(Iu,"1.7.9","esm2017")}("Browser")},467:(Qt,Ke,$)=>{function g(ce,pe,Se,ge,Pe,it,He){try{var he=ce[it](He),_e=he.value}catch(ze){return void Se(ze)}he.done?pe(_e):Promise.resolve(_e).then(ge,Pe)}function re(ce){return function(){var pe=this,Se=arguments;return new Promise(function(ge,Pe){var it=ce.apply(pe,Se);function He(_e){g(it,ge,Pe,He,he,"next",_e)}function he(_e){g(it,ge,Pe,He,he,"throw",_e)}He(void 0)})}}$.d(Ke,{A:()=>re})},1635:(Qt,Ke,$)=>{function pe(Oe,me){var ne={};for(var se in Oe)Object.prototype.hasOwnProperty.call(Oe,se)&&me.indexOf(se)<0&&(ne[se]=Oe[se]);if(null!=Oe&&"function"==typeof Object.getOwnPropertySymbols){var dt=0;for(se=Object.getOwnPropertySymbols(Oe);dt<se.length;dt++)me.indexOf(se[dt])<0&&Object.prototype.propertyIsEnumerable.call(Oe,se[dt])&&(ne[se[dt]]=Oe[se[dt]])}return ne}function ze(Oe,me,ne,se){return new(ne||(ne=Promise))(function(wt,cn){function xt($n){try{Gt(se.next($n))}catch(Tr){cn(Tr)}}function on($n){try{Gt(se.throw($n))}catch(Tr){cn(Tr)}}function Gt($n){$n.done?wt($n.value):function dt(wt){return wt instanceof ne?wt:new ne(function(cn){cn(wt)})}($n.value).then(xt,on)}Gt((se=se.apply(Oe,me||[])).next())})}function mt(Oe){return this instanceof mt?(this.v=Oe,this):new mt(Oe)}function Ze(Oe,me,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,se=ne.apply(Oe,me||[]),wt=[];return dt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),xt("next"),xt("throw"),xt("return",function cn(Vn){return function(fr){return Promise.resolve(fr).then(Vn,Tr)}}),dt[Symbol.asyncIterator]=function(){return this},dt;function xt(Vn,fr){se[Vn]&&(dt[Vn]=function(Br){return new Promise(function(st,or){wt.push([Vn,Br,st,or])>1||on(Vn,Br)})},fr&&(dt[Vn]=fr(dt[Vn])))}function on(Vn,fr){try{!function Gt(Vn){Vn.value instanceof mt?Promise.resolve(Vn.value.v).then($n,Tr):Li(wt[0][2],Vn)}(se[Vn](fr))}catch(Br){Li(wt[0][3],Br)}}function $n(Vn){on("next",Vn)}function Tr(Vn){on("throw",Vn)}function Li(Vn,fr){Vn(fr),wt.shift(),wt.length&&on(wt[0][0],wt[0][1])}}function It(Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,me=Oe[Symbol.asyncIterator];return me?me.call(Oe):(Oe=function Ft(Oe){var me="function"==typeof Symbol&&Symbol.iterator,ne=me&&Oe[me],se=0;if(ne)return ne.call(Oe);if(Oe&&"number"==typeof Oe.length)return{next:function(){return Oe&&se>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[se++],done:!Oe}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(Oe),ne={},se("next"),se("throw"),se("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function se(wt){ne[wt]=Oe[wt]&&function(cn){return new Promise(function(xt,on){!function dt(wt,cn,xt,on){Promise.resolve(on).then(function(Gt){wt({value:Gt,done:xt})},cn)}(xt,on,(cn=Oe[wt](cn)).done,cn.value)})}}}$.d(Ke,{AQ:()=>Ze,N3:()=>mt,Tt:()=>pe,sH:()=>ze,xN:()=>It}),"function"==typeof SuppressedError&&SuppressedError}},Qt=>{Qt(Qt.s=151)}]);