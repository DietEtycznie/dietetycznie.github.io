"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[623],{7623:($,d,r)=>{r.r(d),r.d(d,{RecipesComponent:()=>U});var e=r(4438),_=r(3356),m=r(7364),f=r(177),c=r(9417),g=r(2102),u=r(9631),h=r(2798),x=r(2765),C=r(2358),M=r(2686),b=r(6568),O=r(7024),P=r(8472),R=r(6335),E=r(1801),k=r(450),T=r(3152);const y=(o,s)=>s.uid,v=()=>({text:"Rodzaj posi\u0142ku"}),j=()=>({text:"Warto\u015bci od\u017cywcze"}),w=()=>({text:"Choroba dietozale\u017cna"}),D=()=>({text:"Rodzaj diety"});function F(o,s){if(1&o){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.showFilters=!0)}),e.j41(1,"mat-icon"),e.EFF(2,"filter_list"),e.k0s(),e.EFF(3," Filtry "),e.k0s()}}function I(o,s){if(1&o){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.showFilters=!1)}),e.j41(1,"mat-icon"),e.EFF(2,"close"),e.k0s()()}}function B(o,s){if(1&o){const t=e.RV6();e.j41(0,"mat-slide-toggle",20),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.filterLiked,n)||(a.filterLiked=n),e.Njj(n)}),e.EFF(1," Tylko polubione "),e.k0s()}if(2&o){const t=e.XpG();e.R50("ngModel",t.filterLiked)}}function z(o,s){1&o&&e.eu8(0)}function N(o,s){1&o&&e.eu8(0)}function L(o,s){1&o&&e.eu8(0)}function G(o,s){1&o&&e.eu8(0)}function K(o,s){1&o&&(e.j41(0,"div",17),e.nrm(1,"mat-icon",21),e.j41(2,"div",22),e.EFF(3,"Brak wynik\xf3w"),e.k0s(),e.j41(4,"div",23),e.EFF(5," Przepraszamy, nie znale\u017ali\u015bmy \u017cadnych wynik\xf3w dla wybranych filtr\xf3w "),e.k0s()())}function A(o,s){if(1&o&&e.nrm(0,"app-recipe-card",24),2&o){const t=s.$implicit,i=e.XpG(2);e.Y8G("recipe",t)("cardStyle",i.isMobile?"wide":"normal")}}function V(o,s){if(1&o&&e.Z7z(0,A,1,2,"app-recipe-card",24,y),2&o){const t=e.XpG();e.Dyx(t.filteredRecipes)}}function W(o,s){if(1&o&&(e.j41(0,"div",25),e.nrm(1,"div",26),e.j41(2,"span",27),e.EFF(3),e.k0s(),e.nrm(4,"div",28),e.k0s()),2&o){const t=s.text;e.R7$(3),e.JRh(t)}}let U=(()=>{class o{constructor(t){this.route=t,this.recipeService=(0,e.WQX)(O.S),this.authService=(0,e.WQX)(P.u),this.recipes=[],this.savedRecipes=[],this.filterName="",this.filterCondition=[],this.filterDiet=[],this.filterMaxKcal=null,this.filterType=[],this.filterLiked=!1,this.filterMaxProtein=null,this.filterMaxCarbs=null,this.filterMaxFat=null,this.filterMaxSodium=null,this.filterMaxFiber=null,this.conditions=_.vI,this.diets=_.R4,this.mealTypes=_.q_,this.showFilters=!1,this.isMobile=!1,this.user=R.kQ}ngOnInit(){this.recipeService.getRecipes().subscribe(t=>{this.recipes=t}),this.authService.user$.subscribe(t=>{t&&(this.savedRecipes=t.savedRecipes||[])}),this.checkMobile(),window.addEventListener("resize",this.checkMobile.bind(this)),this.route.queryParamMap.subscribe(t=>{"1"===t.get("liked")&&(this.filterLiked=!0);const i=t.get("condition");i&&(this.filterCondition=[i])})}ngOnDestroy(){window.removeEventListener("resize",this.checkMobile.bind(this))}checkMobile(){this.isMobile=window.innerWidth<=900,this.isMobile||(this.showFilters=!1)}get filteredRecipes(){let t=this.recipes;return this.filterName&&(t=t.filter(i=>i.name.toLowerCase().includes(this.filterName.toLowerCase()))),this.filterCondition.length>0&&(t=t.filter(i=>this.filterCondition.some(n=>i.suitableForConditions.includes(n)))),this.filterDiet.length>0&&(t=t.filter(i=>this.filterDiet.some(n=>i.dietTags.includes(n)))),"number"==typeof this.filterMaxKcal&&(t=t.filter(i=>null!=this.filterMaxKcal&&i.calories<=this.filterMaxKcal)),"number"==typeof this.filterMaxProtein&&(t=t.filter(i=>null!=this.filterMaxProtein&&i.protein<=this.filterMaxProtein)),"number"==typeof this.filterMaxCarbs&&(t=t.filter(i=>null!=this.filterMaxCarbs&&i.carbs<=this.filterMaxCarbs)),"number"==typeof this.filterMaxFat&&(t=t.filter(i=>null!=this.filterMaxFat&&i.fat<=this.filterMaxFat)),"number"==typeof this.filterMaxSodium&&(t=t.filter(i=>null!=this.filterMaxSodium&&i.sodium<=this.filterMaxSodium)),"number"==typeof this.filterMaxFiber&&(t=t.filter(i=>null!=this.filterMaxFiber&&i.fiber<=this.filterMaxFiber)),this.filterType.length>0&&(t=t.filter(i=>this.filterType.some(n=>i.mealType.includes(n)))),this.filterLiked&&(t=t.filter(i=>this.savedRecipes.includes(i.uid))),t}onTypeChange(t,i){i?this.filterType.push(t):this.filterType=this.filterType.filter(n=>n!==t)}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(T.nX))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-recipes"]],standalone:!0,features:[e.aNF],decls:27,vars:42,consts:[["divider",""],[1,"recipes-container"],["class","filters-toggle-btn",3,"click",4,"ngIf"],[1,"filters"],["class","close-btn",3,"click",4,"ngIf"],[1,"filters-form"],["name","filterName","placeholder","Szukaj po nazwie",3,"modelChange","label","model"],["name","filterLiked",1,"single-toggle",3,"ngModel"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"selectedChange","options","selected"],["name","filterMaxKcal","placeholder","np. 500",3,"modelChange","label","model"],["name","filterMaxProtein","placeholder","np. 30",3,"modelChange","label","model"],["name","filterMaxCarbs","placeholder","np. 50",3,"modelChange","label","model"],["name","filterMaxFat","placeholder","np. 20",3,"modelChange","label","model"],["name","filterMaxSodium","placeholder","np. 500",3,"modelChange","label","model"],["name","filterMaxFiber","placeholder","np. 10",3,"modelChange","label","model"],[1,"recipes-list"],[1,"no-results"],[1,"filters-toggle-btn",3,"click"],[1,"close-btn",3,"click"],["name","filterLiked",1,"single-toggle",3,"ngModelChange","ngModel"],["color","","fontIcon","search_off",1,"no-results-icon"],[1,"no-results-title"],[1,"no-results-text"],[3,"recipe","cardStyle"],[1,"custom-divider"],[1,"line","line-left"],[1,"divider-text"],[1,"line"]],template:function(i,n){if(1&i){const a=e.RV6();e.j41(0,"div",1),e.DNE(1,F,4,0,"button",2),e.j41(2,"aside",3),e.DNE(3,I,3,0,"button",4),e.j41(4,"h4"),e.EFF(5,"Filtry"),e.k0s(),e.j41(6,"form",5)(7,"app-input-text",6),e.mxI("modelChange",function(l){return e.eBV(a),e.DH7(n.filterName,l)||(n.filterName=l),e.Njj(l)}),e.k0s(),e.DNE(8,B,2,1,"mat-slide-toggle",7)(9,z,1,0,"ng-container",8),e.j41(10,"app-checkbox-group",9),e.bIt("selectedChange",function(l){return e.eBV(a),e.Njj(n.filterType=l)}),e.k0s(),e.DNE(11,N,1,0,"ng-container",8),e.j41(12,"app-input-number",10),e.bIt("modelChange",function(l){return e.eBV(a),e.Njj(n.filterMaxKcal=l)}),e.k0s(),e.j41(13,"app-input-number",11),e.bIt("modelChange",function(l){return e.eBV(a),e.Njj(n.filterMaxProtein=l)}),e.k0s(),e.j41(14,"app-input-number",12),e.bIt("modelChange",function(l){return e.eBV(a),e.Njj(n.filterMaxCarbs=l)}),e.k0s(),e.j41(15,"app-input-number",13),e.bIt("modelChange",function(l){return e.eBV(a),e.Njj(n.filterMaxFat=l)}),e.k0s(),e.j41(16,"app-input-number",14),e.bIt("modelChange",function(l){return e.eBV(a),e.Njj(n.filterMaxSodium=l)}),e.k0s(),e.j41(17,"app-input-number",15),e.bIt("modelChange",function(l){return e.eBV(a),e.Njj(n.filterMaxFiber=l)}),e.k0s(),e.DNE(18,L,1,0,"ng-container",8),e.j41(19,"app-checkbox-group",9),e.bIt("selectedChange",function(l){return e.eBV(a),e.Njj(n.filterCondition=l)}),e.k0s(),e.DNE(20,G,1,0,"ng-container",8),e.j41(21,"app-checkbox-group",9),e.bIt("selectedChange",function(l){return e.eBV(a),e.Njj(n.filterDiet=l)}),e.k0s()()(),e.j41(22,"section",16),e.DNE(23,K,6,0,"div",17)(24,V,2,0),e.k0s()(),e.DNE(25,W,5,1,"ng-template",null,0,e.C5r)}if(2&i){const a=e.sdS(26);e.R7$(),e.Y8G("ngIf",n.isMobile),e.R7$(),e.AVh("open",n.showFilters)("mobile",n.isMobile),e.R7$(),e.Y8G("ngIf",n.isMobile),e.R7$(4),e.Y8G("label","Nazwa potrawy"),e.R50("model",n.filterName),e.R7$(),e.vxM(8,n.savedRecipes.length>0?8:-1),e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.lJ4(38,v)),e.R7$(),e.Y8G("options",n.mealTypes)("selected",n.filterType),e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.lJ4(39,j)),e.R7$(),e.Y8G("label","Maks. kcal")("model",n.filterMaxKcal),e.R7$(),e.Y8G("label","Maks. bia\u0142ko (g)")("model",n.filterMaxProtein),e.R7$(),e.Y8G("label","Maks. w\u0119glowodany (g)")("model",n.filterMaxCarbs),e.R7$(),e.Y8G("label","Maks. t\u0142uszcz (g)")("model",n.filterMaxFat),e.R7$(),e.Y8G("label","Maks. s\xf3d (mg)")("model",n.filterMaxSodium),e.R7$(),e.Y8G("label","Maks. b\u0142onnik (g)")("model",n.filterMaxFiber),e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.lJ4(40,w)),e.R7$(),e.Y8G("options",n.conditions)("selected",n.filterCondition),e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.lJ4(41,D)),e.R7$(),e.Y8G("options",n.diets)("selected",n.filterDiet),e.R7$(),e.AVh("wide-list",n.isMobile),e.R7$(),e.vxM(23,0===n.filteredRecipes.length?23:24)}},dependencies:[m.S,f.MD,f.bT,f.T3,c.YN,c.qT,c.BC,c.cb,c.vS,c.cV,g.RG,u.fS,h.Ve,x.g7,C.H,M.n,b.c,E.An,k.sG],styles:[".recipes-container[_ngcontent-%COMP%]{display:flex;gap:32px;position:relative;min-height:80vh;background:#f9f9f9}@media (max-width: 900px){.recipes-container[_ngcontent-%COMP%]{display:block;position:relative}}.filters[_ngcontent-%COMP%]{width:260px;background:#fff;padding:24px 18px 18px;box-shadow:8px 0 20px -8px #00000012;display:flex;flex-direction:column;gap:12px}@media (max-width: 900px){.filters[_ngcontent-%COMP%]{position:fixed;top:64px;left:0;width:100vw;height:calc(100vh - 64px);background:#fff;z-index:200;transform:translate(-100vw);transition:transform .3s cubic-bezier(.4,0,.2,1);padding:32px 18px 18px;overflow-y:auto}.filters.open[_ngcontent-%COMP%]{transform:translate(0)}.filters.mobile[_ngcontent-%COMP%]{display:block}.filters[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:fixed;top:74px;right:18px;background:#fff;border:1px solid #e0e0e0;border-radius:50%;width:44px;height:44px;font-size:2rem;cursor:pointer;z-index:201;color:#444;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #00000014}.filters[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:32px;margin-bottom:18px;font-size:1.3rem;font-weight:700}.filters[_ngcontent-%COMP%]   .filters-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px;width:100%}.filters[_ngcontent-%COMP%]   app-input-text[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   app-input-number[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   app-checkbox-group[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   mat-checkbox.single-checkbox[_ngcontent-%COMP%]{width:100%;max-width:100%;min-width:0;box-sizing:border-box;margin:0}}.filters-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.form-group[_ngcontent-%COMP%]{margin-bottom:0;display:flex;flex-direction:column;gap:6px}label[_ngcontent-%COMP%]{color:#555;font-weight:500;margin-bottom:2px}.form-control[_ngcontent-%COMP%]{width:100%;padding:.7rem .9rem;border:1px solid #ddd;border-radius:4px;font-size:1rem;background:#fafbfc;transition:border-color .3s;margin-bottom:0}.form-control[_ngcontent-%COMP%]:focus{border-color:#a3c2f7;outline:none;background:#fff}select.form-control[_ngcontent-%COMP%]{min-height:38px}select[multiple].form-control[_ngcontent-%COMP%]{height:90px;padding:.5rem}.checkbox-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px 12px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:.98rem;font-weight:400;color:#444;cursor:pointer}.checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{accent-color:#a3c2f7;width:16px;height:16px;margin:0}.recipes-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px;margin:24px 0;width:100%;align-items:stretch;justify-content:flex-start}@media (max-width: 900px){.recipes-list[_ngcontent-%COMP%]{margin-top:24px;display:flex;flex-direction:column;gap:18px;align-items:stretch;justify-content:flex-start}.recipes-list[_ngcontent-%COMP%]   .recipe-card[_ngcontent-%COMP%]{max-width:100%;width:100%;margin-left:0;margin-right:0}.recipes-list.wide-list[_ngcontent-%COMP%]   .recipe-card[_ngcontent-%COMP%]{max-width:100%;width:100%}}h4[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:#333}.custom-divider[_ngcontent-%COMP%]{margin-top:12px;display:flex;align-items:center;width:100%}.line[_ngcontent-%COMP%]{flex:1 1 0;height:1px;background:#e0e0e0;opacity:.7}.line-left[_ngcontent-%COMP%]{flex:.1 1 0}.divider-text[_ngcontent-%COMP%]{flex:0 0 10%;text-align:center;color:#666;font-size:15px;font-weight:500;margin:0 12px;white-space:nowrap}.filters-toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:10px 18px;font-size:1.1rem;font-weight:600;margin:18px auto 18px 0;box-shadow:0 2px 8px #0000000a;cursor:pointer;z-index:101}@media (max-width: 900px){.filters-toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:10px 18px;font-size:1.1rem;font-weight:600;margin:18px auto 18px 0;box-shadow:0 2px 8px #0000000a;cursor:pointer;z-index:101}}.no-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;min-height:320px;width:100%;text-align:center;margin-top:30vh;color:#888}@media (max-width: 900px){.no-results[_ngcontent-%COMP%]{margin-top:20vh}}.no-results-icon[_ngcontent-%COMP%]{font-size:48px!important;color:#bdbdbd!important;margin-bottom:8px;width:48px;height:48px}.no-results-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#555;margin-bottom:8px}.no-results-text[_ngcontent-%COMP%]{font-size:1.08rem;color:#888;max-width:340px;margin:0 auto}.single-toggle.mat-slide-toggle[_ngcontent-%COMP%]   .mat-slide-toggle-bar[_ngcontent-%COMP%]{background-color:#f9f9f9!important;font-size:12px}.single-toggle[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:15px}"]})}}return o})()}}]);