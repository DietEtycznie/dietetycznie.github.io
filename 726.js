"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[726],{726:(R,u,a)=>{a.r(u),a.d(u,{RegisterComponent:()=>M});var d=a(177),c=a(3152),s=a(9417),e=a(4438),g=a(8472);const l=r=>({invalid:r});function p(r,i){1&r&&(e.j41(0,"span"),e.EFF(1,"Imi\u0119 i nazwisko jest wymagane"),e.k0s())}function f(r,i){if(1&r&&(e.j41(0,"div",20),e.DNE(1,p,2,0,"span",21),e.k0s()),2&r){let o;const n=e.XpG();e.R7$(),e.Y8G("ngIf",null==(o=n.registerForm.get("displayName"))||null==o.errors?null:o.errors.required)}}function _(r,i){1&r&&(e.j41(0,"span"),e.EFF(1,"Email jest wymagany"),e.k0s())}function h(r,i){1&r&&(e.j41(0,"span"),e.EFF(1,"Podaj poprawny adres email"),e.k0s())}function b(r,i){if(1&r&&(e.j41(0,"div",20),e.DNE(1,_,2,0,"span",21)(2,h,2,0,"span",21),e.k0s()),2&r){let o,n;const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==(o=t.registerForm.get("email"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(n=t.registerForm.get("email"))||null==n.errors?null:n.errors.email)}}function v(r,i){1&r&&(e.j41(0,"span"),e.EFF(1,"Has\u0142o jest wymagane"),e.k0s())}function C(r,i){1&r&&(e.j41(0,"span"),e.EFF(1,"Has\u0142o musi mie\u0107 co najmniej 6 znak\xf3w"),e.k0s())}function F(r,i){if(1&r&&(e.j41(0,"div",20),e.DNE(1,v,2,0,"span",21)(2,C,2,0,"span",21),e.k0s()),2&r){let o,n;const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==(o=t.registerForm.get("password"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(n=t.registerForm.get("password"))||null==n.errors?null:n.errors.minlength)}}function w(r,i){1&r&&(e.j41(0,"span"),e.EFF(1,"Potwierdzenie has\u0142a jest wymagane"),e.k0s())}function k(r,i){1&r&&(e.j41(0,"span"),e.EFF(1,"Has\u0142a nie s\u0105 takie same"),e.k0s())}function P(r,i){if(1&r&&(e.j41(0,"div",20),e.DNE(1,w,2,0,"span",21)(2,k,2,0,"span",21),e.k0s()),2&r){let o,n;const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==(o=t.registerForm.get("confirmPassword"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(n=t.registerForm.get("confirmPassword"))||null==n.errors?null:n.errors.passwordMismatch)}}function E(r,i){if(1&r&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&r){const o=e.XpG();e.R7$(),e.SpI(" ",o.error," ")}}let M=(()=>{class r{constructor(o,n,t){this.formBuilder=o,this.authService=n,this.router=t,this.loading=!1,this.error="",this.registerForm=this.formBuilder.group({displayName:["",s.k0.required],email:["",[s.k0.required,s.k0.email]],password:["",[s.k0.required,s.k0.minLength(6)]],confirmPassword:["",s.k0.required]},{validators:this.passwordMatchValidator})}passwordMatchValidator(o){const n=o.get("password")?.value,t=o.get("confirmPassword")?.value;return n!==t?(o.get("confirmPassword")?.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}isFieldInvalid(o){const n=this.registerForm.get(o);return!!n&&n.invalid&&(n.dirty||n.touched)}onSubmit(){if(this.registerForm.invalid)return;this.loading=!0,this.error="";const{email:o,password:n,displayName:t}=this.registerForm.value;this.authService.signUp(o,n,t).then(()=>{this.router.navigate(["/"])}).catch(m=>{this.error=this.getErrorMessage(m)}).finally(()=>{this.loading=!1})}registerWithGoogle(){this.loading=!0,this.error="",this.authService.signInWithGoogle().then(()=>{this.router.navigate(["/"])}).catch(o=>{this.error=this.getErrorMessage(o)}).finally(()=>{this.loading=!1})}getErrorMessage(o){switch(o.code){case"auth/email-already-in-use":return"The email address is already in use";case"auth/invalid-email":return"Please enter a valid email address";case"auth/operation-not-allowed":return"Email/password accounts are not enabled";case"auth/weak-password":return"The password is too weak";case"auth/popup-closed-by-user":return"Google sign-in popup was closed before authentication completed";default:return o.message||"An unexpected error occurred"}}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(s.ok),e.rXU(g.u),e.rXU(c.Ix))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-register"]],standalone:!0,features:[e.aNF],decls:38,vars:21,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-title"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","displayName"],["type","text","id","displayName","formControlName","displayName",1,"form-control",3,"ngClass"],["class","error-message",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control",3,"ngClass"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control",3,"ngClass"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"form-control",3,"ngClass"],["class","auth-error",4,"ngIf"],["type","submit",1,"btn-primary",3,"disabled"],[1,"auth-separator"],["type","button",1,"btn-google",3,"click","disabled"],[1,"auth-footer"],["routerLink","/login"],[1,"error-message"],[4,"ngIf"],[1,"auth-error"]],template:function(n,t){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3,"Rejestracja"),e.k0s(),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return t.onSubmit()}),e.j41(5,"div",4)(6,"label",5),e.EFF(7,"Imi\u0119 i nazwisko"),e.k0s(),e.nrm(8,"input",6),e.DNE(9,f,2,1,"div",7),e.k0s(),e.j41(10,"div",4)(11,"label",8),e.EFF(12,"Email"),e.k0s(),e.nrm(13,"input",9),e.DNE(14,b,3,2,"div",7),e.k0s(),e.j41(15,"div",4)(16,"label",10),e.EFF(17,"Has\u0142o"),e.k0s(),e.nrm(18,"input",11),e.DNE(19,F,3,2,"div",7),e.k0s(),e.j41(20,"div",4)(21,"label",12),e.EFF(22,"Potwierd\u017a has\u0142o"),e.k0s(),e.nrm(23,"input",13),e.DNE(24,P,3,2,"div",7),e.k0s(),e.DNE(25,E,2,1,"div",14),e.j41(26,"button",15),e.EFF(27),e.k0s(),e.j41(28,"div",16)(29,"span"),e.EFF(30,"lub"),e.k0s()(),e.j41(31,"button",17),e.bIt("click",function(){return t.registerWithGoogle()}),e.EFF(32," Zarejestruj si\u0119 przez Google "),e.k0s()(),e.j41(33,"div",18)(34,"p"),e.EFF(35,"Masz ju\u017c konto? "),e.j41(36,"a",19),e.EFF(37,"Zaloguj si\u0119 tutaj"),e.k0s()()()()()),2&n&&(e.R7$(4),e.Y8G("formGroup",t.registerForm),e.R7$(4),e.Y8G("ngClass",e.eq3(13,l,t.isFieldInvalid("displayName"))),e.R7$(),e.Y8G("ngIf",t.isFieldInvalid("displayName")),e.R7$(4),e.Y8G("ngClass",e.eq3(15,l,t.isFieldInvalid("email"))),e.R7$(),e.Y8G("ngIf",t.isFieldInvalid("email")),e.R7$(4),e.Y8G("ngClass",e.eq3(17,l,t.isFieldInvalid("password"))),e.R7$(),e.Y8G("ngIf",t.isFieldInvalid("password")),e.R7$(4),e.Y8G("ngClass",e.eq3(19,l,t.isFieldInvalid("confirmPassword"))),e.R7$(),e.Y8G("ngIf",t.isFieldInvalid("confirmPassword")),e.R7$(),e.Y8G("ngIf",t.error),e.R7$(),e.Y8G("disabled",t.registerForm.invalid||t.loading),e.R7$(),e.SpI(" ",t.loading?"Tworzenie konta...":"Utw\xf3rz konto"," "),e.R7$(4),e.Y8G("disabled",t.loading))},dependencies:[d.MD,d.YU,d.bT,c.Wk,s.X1,s.qT,s.me,s.BC,s.cb,s.j4,s.JD],styles:['.auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 200px);padding:2rem 1rem;background-color:#f9f9f9}.auth-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 4px 20px #00000014;width:100%;max-width:450px;padding:2rem}.auth-title[_ngcontent-%COMP%]{font-size:1.75rem;color:#333;margin-bottom:1.5rem;text-align:center}.auth-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:#555;font-weight:500}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem;transition:border-color .3s}.form-control[_ngcontent-%COMP%]:focus{border-color:#20b27f;outline:none}.form-control.invalid[_ngcontent-%COMP%]{border-color:#f44336}.error-message[_ngcontent-%COMP%]{color:#f44336;font-size:.85rem;margin-top:.5rem}.auth-error[_ngcontent-%COMP%]{background-color:#ffebee;color:#f44336;padding:.75rem;border-radius:4px;margin-bottom:1.5rem;font-size:.9rem}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#20b27f;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#20b27f}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#b1e1cf;cursor:not-allowed}.auth-separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;margin:1.5rem 0;color:#777}.auth-separator[_ngcontent-%COMP%]:before, .auth-separator[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #ddd}.auth-separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 1rem}.btn-google[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#fff;color:#555;border:1px solid #ddd;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .3s}.btn-google[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f5f5f5}.btn-google[_ngcontent-%COMP%]:disabled{background-color:#f9f9f9;color:#999;cursor:not-allowed}.auth-footer[_ngcontent-%COMP%]{text-align:center;color:#666;font-size:.9rem}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#57cf99;text-decoration:none;font-weight:500}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']})}}return r})()}}]);